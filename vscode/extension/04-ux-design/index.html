<!doctype html><html lang=zh-CN data-theme=dark><head><meta charset=UTF-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,viewport-fit=cover"><title>VS Code 扩展开发阶段四：用户体验设计 - UX原则与交互模式 | AlunWorker</title><meta name=author content=AlunWorker><meta name=copyright content=AlunWorker><meta name=format-detection content="telephone=no"><meta name=theme-color content=#0d0d0d><meta name=description content="VS Code扩展开发第四阶段：深入学习用户体验设计原则，掌握界面设计、交互模式和无障碍设计最佳实践"><meta property=og:type content=article><meta property=og:title content="VS Code 扩展开发阶段四：用户体验设计 - UX原则与交互模式"><meta property=og:url content=https://alunworker.com/vscode/extension/04-ux-design/index.html><meta property=og:site_name content=AlunWorker><meta property=og:description content="VS Code扩展开发第四阶段：深入学习用户体验设计原则，掌握界面设计、交互模式和无障碍设计最佳实践"><meta property=og:locale content=zh_CN><meta property=og:image content=https://alunworker.com/images/icon.webp><meta property=article:published_time content=2025-09-19T16:00:00.000Z><meta property=article:modified_time content=2025-09-25T06:47:12.975Z><meta property=article:author content=AlunWorker><meta property=article:tag content=VSCode><meta property=article:tag content=插件开发><meta property=article:tag content=UX设计><meta property=article:tag content=用户体验><meta property=article:tag content=界面设计><meta name=twitter:card content=summary><meta name=twitter:image content=https://alunworker.com/images/icon.webp><link rel="shortcut icon" href=/images/favicon.webp><link rel=canonical href=https://alunworker.com/vscode/extension/04-ux-design/index.html><link rel=preconnect><link rel=preconnect href=//busuanzi.ibruce.info><link rel=stylesheet href="/css/index.css?v=4.13.0"><link rel=stylesheet href=https://lf6-cdn-tos.bytecdntp.com/cdn/expire-1-M/font-awesome/6.0.0/css/all.min.css><link rel=stylesheet href=/ media=print onload='this.media="all"'><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":false,"top_n_per_article":1,"unescape":false,"languages":{"hits_empty":"找不到您查询的内容：${query}","hits_stats":"共找到 ${hits} 篇文章"}},
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  infinitegrid: {
    js: '/',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: true,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id=config-diff>var GLOBAL_CONFIG_SITE={title:"VS Code 扩展开发阶段四：用户体验设计 - UX原则与交互模式",isPost:!0,isHome:!1,isHighlightShrink:!1,isToc:!0,postUpdate:"2025-09-25 14:47:12"}</script><script>(win=>{
      win.saveToLocal = {
        set: (key, value, ttl) => {
          if (ttl === 0) return
          const now = Date.now()
          const expiry = now + ttl * 86400000
          const item = {
            value,
            expiry
          }
          localStorage.setItem(key, JSON.stringify(item))
        },
      
        get: key => {
          const itemStr = localStorage.getItem(key)
      
          if (!itemStr) {
            return undefined
          }
          const item = JSON.parse(itemStr)
          const now = Date.now()
      
          if (now > item.expiry) {
            localStorage.removeItem(key)
            return undefined
          }
          return item.value
        }
      }
    
      win.getScript = (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        script.onerror = reject
        script.onload = script.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          script.onload = script.onreadystatechange = null
          resolve()
        }

        Object.keys(attr).forEach(key => {
          script.setAttribute(key, attr[key])
        })

        document.head.appendChild(script)
      })
    
      win.getCSS = (url, id = false) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onerror = reject
        link.onload = link.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          link.onload = link.onreadystatechange = null
          resolve()
        }
        document.head.appendChild(link)
      })
    
      win.activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
        if (t === 'dark') activateDarkMode()
        else if (t === 'light') activateLightMode()
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
      const detectApple = () => {
        if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
          document.documentElement.classList.add('apple')
        }
      }
      detectApple()
    })(window)</script><meta name=generator content="Hexo 7.1.1"></head><body><div id=loading-box><div class=loading-left-bg></div><div class=loading-right-bg></div><div class=spinner-box><div class=configure-border-1><div class=configure-core></div></div><div class=configure-border-2><div class=configure-core></div></div><div class=loading-word>加载中...</div></div></div><script>(()=>{
  const $loadingBox = document.getElementById('loading-box')
  const $body = document.body
  const preloader = {
    endLoading: () => {
      $body.style.overflow = ''
      $loadingBox.classList.add('loaded')
    },
    initLoading: () => {
      $body.style.overflow = 'hidden'
      $loadingBox.classList.remove('loaded')
    }
  }

  preloader.initLoading()
  window.addEventListener('load',() => { preloader.endLoading() })

  if (false) {
    document.addEventListener('pjax:send', () => { preloader.initLoading() })
    document.addEventListener('pjax:complete', () => { preloader.endLoading() })
  }
})()</script><div id=sidebar><div id=menu-mask></div><div id=sidebar-menus><div class="avatar-img is-center"><img src=/images/loading.gif data-original=/images/icon.webp onerror='onerror=null,src="/img/friend_404.gif"' alt=avatar></div><div class="sidebar-site-data site-data is-center"><a href=/archives/ ><div class=headline>文章</div><div class=length-num>83</div></a><a href=/tags/ ><div class=headline>标签</div><div class=length-num>178</div></a><a href=/categories/ ><div class=headline>分类</div><div class=length-num>16</div></a></div><hr class=custom-hr><div class=menus_items><div class=menus_item><a class=site-page href=/ ><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class=menus_item><a class=site-page href=/archives/ ><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class=menus_item><a class=site-page href=/tags/ ><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class=menus_item><a class=site-page href=/categories/ ><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class=menus_item><a class=site-page href=/about/ ><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div></div></div><div class=post id=body-wrap><header class=post-bg id=page-header style=background-image:url(/images/blog_bg.webp)><nav id=nav><span id=blog-info><a href=/ title=AlunWorker><span class=site-name>AlunWorker</span></a></span><div id=menus><div id=search-button><a class="site-page social-icon search" href=javascript:void(0);><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class=menus_items><div class=menus_item><a class=site-page href=/ ><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class=menus_item><a class=site-page href=/archives/ ><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class=menus_item><a class=site-page href=/tags/ ><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class=menus_item><a class=site-page href=/categories/ ><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class=menus_item><a class=site-page href=/about/ ><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div><div id=toggle-menu><a class=site-page href=javascript:void(0);><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id=post-info><h1 class=post-title>VS Code 扩展开发阶段四：用户体验设计 - UX原则与交互模式</h1><div id=post-meta><div class=meta-firstline><span class=post-meta-date><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class=post-meta-label>发表于</span><time class=post-meta-date-created datetime=2025-09-19T16:00:00.000Z title="发表于 2025-09-20 00:00:00">2025-09-20</time><span class=post-meta-separator>|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class=post-meta-label>更新于</span><time class=post-meta-date-updated datetime=2025-09-25T06:47:12.975Z title="更新于 2025-09-25 14:47:12">2025-09-25</time></span><span class=post-meta-categories><span class=post-meta-separator>|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class=post-meta-categories href=/categories/VSCode/ >VSCode</a><i class="fas fa-angle-right post-meta-separator"></i><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class=post-meta-categories href=/categories/VSCode/%E6%89%A9%E5%B1%95%E5%BC%80%E5%8F%91/ >扩展开发</a></span></div><div class=meta-secondline><span class=post-meta-separator>|</span><span class=post-meta-wordcount><i class="far fa-file-word fa-fw post-meta-icon"></i><span class=post-meta-label>字数总计:</span><span class=word-count>9.4k</span><span class=post-meta-separator>|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class=post-meta-label>阅读时长:</span><span>53分钟</span></span><span class=post-meta-separator>|</span><span class=post-meta-pv-cv id="" data-flag-title="VS Code 扩展开发阶段四：用户体验设计 - UX原则与交互模式"><i class="far fa-eye fa-fw post-meta-icon"></i><span class=post-meta-label>阅读量:</span><span id=busuanzi_value_page_pv><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class=layout id=content-inner><div id=post><article class=post-content id=article-container><blockquote><p>优秀的用户体验是扩展成功的关键因素。本阶段将深入探讨VS Code扩展的UX设计原则，学习如何创建直观、高效、无障碍的用户界面，以及如何设计符合用户心理模型的交互模式。</p></blockquote><hr><h2 id=🎯-学习目标><a href=#🎯-学习目标 class=headerlink title="🎯 学习目标"></a>🎯 学习目标</h2><p>完成本阶段学习后，你将能够：</p><ul><li>📐 <strong>掌握UX设计原则</strong>：理解VS Code设计语言和用户期望</li><li>🎨 <strong>创建一致的界面</strong>：遵循官方设计指南，保持视觉统一性</li><li>🎛️ <strong>设计直观的交互</strong>：构建符合用户习惯的操作流程</li><li>♿ <strong>实现无障碍设计</strong>：支持键盘导航和屏幕阅读器</li><li>📱 <strong>优化跨平台体验</strong>：适配不同操作系统和屏幕尺寸</li><li>🔔 <strong>设计有效的通知系统</strong>：平衡信息传递与用户干扰</li></ul><p><strong>预计学习时间：1-2周（每天1-2小时）</strong></p><hr><h2 id=📐-第一部分：VS-Code设计原则与指南><a href=#📐-第一部分：VS-Code设计原则与指南 class=headerlink title="📐 第一部分：VS Code设计原则与指南"></a>📐 第一部分：VS Code设计原则与指南</h2><h3 id=1-1-核心设计哲学><a href=#1-1-核心设计哲学 class=headerlink title="1.1 核心设计哲学"></a>1.1 核心设计哲学</h3><h4 id=VS-Code的设计理念><a href=#VS-Code的设计理念 class=headerlink title="VS Code的设计理念"></a>VS Code的设计理念</h4><figure class="highlight typescript"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br><span class=line>23</span><br><span class=line>24</span><br><span class=line>25</span><br><span class=line>26</span><br><span class=line>27</span><br><span class=line>28</span><br><span class=line>29</span><br><span class=line>30</span><br><span class=line>31</span><br><span class=line>32</span><br><span class=line>33</span><br><span class=line>34</span><br><span class=line>35</span><br><span class=line>36</span><br><span class=line>37</span><br><span class=line>38</span><br><span class=line>39</span><br><span class=line>40</span><br><span class=line>41</span><br><span class=line>42</span><br><span class=line>43</span><br><span class=line>44</span><br><span class=line>45</span><br><span class=line>46</span><br><span class=line>47</span><br><span class=line>48</span><br><span class=line>49</span><br><span class=line>50</span><br><span class=line>51</span><br></pre></td><td class=code><pre><span class=line><span class=comment>// 设计原则体现在代码中的例子</span></span><br><span class=line><span class=keyword>export</span> <span class=keyword>class</span> <span class="title class_">UserExperienceManager</span> &#123;</span><br><span class=line>    </span><br><span class=line>    <span class=comment>// 原则1：简洁性 - 界面元素应该清晰简洁</span></span><br><span class=line>    <span class=keyword>static</span> <span class="title function_">createSimpleStatusBar</span>(<span class=attr>text</span>: <span class=built_in>string</span>): vscode.<span class=property>StatusBarItem</span> &#123;</span><br><span class=line>        <span class=keyword>const</span> statusBar = vscode.<span class=property>window</span>.<span class="title function_">createStatusBarItem</span>(</span><br><span class=line>            vscode.<span class=property>StatusBarAlignment</span>.<span class=property>Left</span>, </span><br><span class=line>            <span class=number>100</span></span><br><span class=line>        );</span><br><span class=line>        statusBar.<span class=property>text</span> = text; <span class=comment>// 简洁明了的文本</span></span><br><span class=line>        statusBar.<span class=property>tooltip</span> = <span class=string>`点击查看<span class=subst>$&#123;text&#125;</span>详情`</span>; <span class=comment>// 提供必要的提示</span></span><br><span class=line>        <span class=keyword>return</span> statusBar;</span><br><span class=line>    &#125;</span><br><span class=line>    </span><br><span class=line>    <span class=comment>// 原则2：一致性 - 使用标准的VS Code图标和样式</span></span><br><span class=line>    <span class=keyword>static</span> <span class="title function_">createConsistentTreeItem</span>(<span class=attr>label</span>: <span class=built_in>string</span>, <span class=attr>type</span>: <span class=string>&#x27;file&#x27;</span> | <span class=string>&#x27;folder&#x27;</span>): vscode.<span class=property>TreeItem</span> &#123;</span><br><span class=line>        <span class=keyword>const</span> item = <span class=keyword>new</span> vscode.<span class="title class_">TreeItem</span>(label);</span><br><span class=line>        </span><br><span class=line>        <span class=comment>// 使用VS Code内置图标保持一致性</span></span><br><span class=line>        item.<span class=property>iconPath</span> = <span class=keyword>new</span> vscode.<span class="title class_">ThemeIcon</span>(<span class=keyword>type</span> === <span class=string>&#x27;file&#x27;</span> ? <span class=string>&#x27;file&#x27;</span> : <span class=string>&#x27;folder&#x27;</span>);</span><br><span class=line>        item.<span class=property>contextValue</span> = <span class=keyword>type</span>;</span><br><span class=line>        </span><br><span class=line>        <span class=keyword>return</span> item;</span><br><span class=line>    &#125;</span><br><span class=line>    </span><br><span class=line>    <span class=comment>// 原则3：可预测性 - 用户能够预期操作的结果</span></span><br><span class=line>    <span class=keyword>static</span> <span class=keyword>async</span> <span class="title function_">performPredictableAction</span>(<span class=attr>action</span>: <span class=built_in>string</span>): <span class="title class_">Promise</span>&lt;<span class=built_in>void</span>&gt; &#123;</span><br><span class=line>        <span class=comment>// 1. 显示进度指示</span></span><br><span class=line>        <span class=keyword>await</span> vscode.<span class=property>window</span>.<span class="title function_">withProgress</span>(&#123;</span><br><span class=line>            <span class=attr>location</span>: vscode.<span class=property>ProgressLocation</span>.<span class=property>Notification</span>,</span><br><span class=line>            <span class=attr>title</span>: <span class=string>`正在<span class=subst>$&#123;action&#125;</span>...`</span>,</span><br><span class=line>            <span class=attr>cancellable</span>: <span class=literal>false</span></span><br><span class=line>        &#125;, <span class=keyword>async</span> (progress) =&gt; &#123;</span><br><span class=line>            </span><br><span class=line>            <span class=comment>// 2. 执行操作</span></span><br><span class=line>            progress.<span class="title function_">report</span>(&#123; <span class=attr>increment</span>: <span class=number>50</span>, <span class=attr>message</span>: <span class=string>&#x27;处理中...&#x27;</span> &#125;);</span><br><span class=line>            <span class=keyword>await</span> <span class="variable language_">this</span>.<span class="title function_">executeAction</span>();</span><br><span class=line>            </span><br><span class=line>            <span class=comment>// 3. 提供明确的完成反馈</span></span><br><span class=line>            progress.<span class="title function_">report</span>(&#123; <span class=attr>increment</span>: <span class=number>100</span>, <span class=attr>message</span>: <span class=string>&#x27;完成&#x27;</span> &#125;);</span><br><span class=line>        &#125;);</span><br><span class=line>        </span><br><span class=line>        <span class=comment>// 4. 显示结果</span></span><br><span class=line>        vscode.<span class=property>window</span>.<span class="title function_">showInformationMessage</span>(<span class=string>`<span class=subst>$&#123;action&#125;</span>完成`</span>);</span><br><span class=line>    &#125;</span><br><span class=line>    </span><br><span class=line>    <span class=keyword>private</span> <span class=keyword>static</span> <span class=keyword>async</span> <span class="title function_">executeAction</span>(): <span class="title class_">Promise</span>&lt;<span class=built_in>void</span>&gt; &#123;</span><br><span class=line>        <span class=comment>// 模拟操作</span></span><br><span class=line>        <span class=keyword>await</span> <span class=keyword>new</span> <span class="title class_">Promise</span>(<span class=function><span class=params>resolve</span> =&gt;</span> <span class=built_in>setTimeout</span>(resolve, <span class=number>1000</span>));</span><br><span class=line>    &#125;</span><br><span class=line>&#125;</span><br></pre></td></tr></table></figure><h3 id=1-2-视觉设计指南><a href=#1-2-视觉设计指南 class=headerlink title="1.2 视觉设计指南"></a>1.2 视觉设计指南</h3><h4 id=颜色和主题适配><a href=#颜色和主题适配 class=headerlink title=颜色和主题适配></a>颜色和主题适配</h4><figure class="highlight typescript"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br><span class=line>23</span><br><span class=line>24</span><br><span class=line>25</span><br><span class=line>26</span><br><span class=line>27</span><br><span class=line>28</span><br><span class=line>29</span><br><span class=line>30</span><br><span class=line>31</span><br><span class=line>32</span><br><span class=line>33</span><br><span class=line>34</span><br><span class=line>35</span><br><span class=line>36</span><br><span class=line>37</span><br><span class=line>38</span><br><span class=line>39</span><br><span class=line>40</span><br><span class=line>41</span><br><span class=line>42</span><br><span class=line>43</span><br><span class=line>44</span><br><span class=line>45</span><br><span class=line>46</span><br><span class=line>47</span><br><span class=line>48</span><br><span class=line>49</span><br><span class=line>50</span><br><span class=line>51</span><br><span class=line>52</span><br><span class=line>53</span><br><span class=line>54</span><br><span class=line>55</span><br><span class=line>56</span><br><span class=line>57</span><br><span class=line>58</span><br><span class=line>59</span><br><span class=line>60</span><br><span class=line>61</span><br><span class=line>62</span><br><span class=line>63</span><br><span class=line>64</span><br><span class=line>65</span><br><span class=line>66</span><br><span class=line>67</span><br><span class=line>68</span><br><span class=line>69</span><br><span class=line>70</span><br><span class=line>71</span><br><span class=line>72</span><br><span class=line>73</span><br><span class=line>74</span><br><span class=line>75</span><br><span class=line>76</span><br><span class=line>77</span><br><span class=line>78</span><br><span class=line>79</span><br><span class=line>80</span><br><span class=line>81</span><br><span class=line>82</span><br><span class=line>83</span><br><span class=line>84</span><br><span class=line>85</span><br><span class=line>86</span><br><span class=line>87</span><br><span class=line>88</span><br><span class=line>89</span><br><span class=line>90</span><br><span class=line>91</span><br><span class=line>92</span><br><span class=line>93</span><br><span class=line>94</span><br><span class=line>95</span><br><span class=line>96</span><br></pre></td><td class=code><pre><span class=line><span class=comment>// src/themeManager.ts</span></span><br><span class=line><span class=keyword>export</span> <span class=keyword>class</span> <span class="title class_">ThemeManager</span> &#123;</span><br><span class=line>    </span><br><span class=line>    <span class=comment>// 使用VS Code主题变量确保颜色一致性</span></span><br><span class=line>    <span class=keyword>static</span> <span class="title function_">getThemedColors</span>(<span class=params></span>) &#123;</span><br><span class=line>        <span class=keyword>return</span> &#123;</span><br><span class=line>            <span class=comment>// 基础颜色</span></span><br><span class=line>            <span class=attr>background</span>: <span class=string>&#x27;var(--vscode-editor-background)&#x27;</span>,</span><br><span class=line>            <span class=attr>foreground</span>: <span class=string>&#x27;var(--vscode-editor-foreground)&#x27;</span>,</span><br><span class=line>            </span><br><span class=line>            <span class=comment>// 交互元素颜色</span></span><br><span class=line>            <span class=attr>buttonBackground</span>: <span class=string>&#x27;var(--vscode-button-background)&#x27;</span>,</span><br><span class=line>            <span class=attr>buttonForeground</span>: <span class=string>&#x27;var(--vscode-button-foreground)&#x27;</span>,</span><br><span class=line>            <span class=attr>buttonHover</span>: <span class=string>&#x27;var(--vscode-button-hoverBackground)&#x27;</span>,</span><br><span class=line>            </span><br><span class=line>            <span class=comment>// 状态颜色</span></span><br><span class=line>            <span class=attr>errorColor</span>: <span class=string>&#x27;var(--vscode-errorForeground)&#x27;</span>,</span><br><span class=line>            <span class=attr>warningColor</span>: <span class=string>&#x27;var(--vscode-warningForeground)&#x27;</span>,</span><br><span class=line>            <span class=attr>successColor</span>: <span class=string>&#x27;var(--vscode-gitDecoration-addedResourceForeground)&#x27;</span>,</span><br><span class=line>            </span><br><span class=line>            <span class=comment>// 边框和分割线</span></span><br><span class=line>            <span class=attr>border</span>: <span class=string>&#x27;var(--vscode-panel-border)&#x27;</span>,</span><br><span class=line>            <span class=attr>separator</span>: <span class=string>&#x27;var(--vscode-menu-separatorBackground)&#x27;</span>,</span><br><span class=line>            </span><br><span class=line>            <span class=comment>// 输入框</span></span><br><span class=line>            <span class=attr>inputBackground</span>: <span class=string>&#x27;var(--vscode-input-background)&#x27;</span>,</span><br><span class=line>            <span class=attr>inputBorder</span>: <span class=string>&#x27;var(--vscode-input-border)&#x27;</span>,</span><br><span class=line>            <span class=attr>inputForeground</span>: <span class=string>&#x27;var(--vscode-input-foreground)&#x27;</span>,</span><br><span class=line>        &#125;;</span><br><span class=line>    &#125;</span><br><span class=line>    </span><br><span class=line>    <span class=comment>// 创建主题适配的CSS样式</span></span><br><span class=line>    <span class=keyword>static</span> <span class="title function_">generateThemeCSS</span>(): <span class=built_in>string</span> &#123;</span><br><span class=line>        <span class=keyword>return</span> <span class=string>`</span></span><br><span class=line><span class=string>            :root &#123;</span></span><br><span class=line><span class=string>                --app-background: var(--vscode-editor-background);</span></span><br><span class=line><span class=string>                --app-foreground: var(--vscode-editor-foreground);</span></span><br><span class=line><span class=string>                --app-border: var(--vscode-panel-border);</span></span><br><span class=line><span class=string>                --app-accent: var(--vscode-textLink-foreground);</span></span><br><span class=line><span class=string>            &#125;</span></span><br><span class=line><span class=string>            </span></span><br><span class=line><span class=string>            body &#123;</span></span><br><span class=line><span class=string>                background-color: var(--app-background);</span></span><br><span class=line><span class=string>                color: var(--app-foreground);</span></span><br><span class=line><span class=string>                font-family: var(--vscode-font-family);</span></span><br><span class=line><span class=string>                font-size: var(--vscode-font-size);</span></span><br><span class=line><span class=string>                font-weight: var(--vscode-font-weight);</span></span><br><span class=line><span class=string>                margin: 0;</span></span><br><span class=line><span class=string>                padding: 0;</span></span><br><span class=line><span class=string>            &#125;</span></span><br><span class=line><span class=string>            </span></span><br><span class=line><span class=string>            .button &#123;</span></span><br><span class=line><span class=string>                background-color: var(--vscode-button-background);</span></span><br><span class=line><span class=string>                color: var(--vscode-button-foreground);</span></span><br><span class=line><span class=string>                border: none;</span></span><br><span class=line><span class=string>                padding: 6px 14px;</span></span><br><span class=line><span class=string>                border-radius: 2px;</span></span><br><span class=line><span class=string>                cursor: pointer;</span></span><br><span class=line><span class=string>                font-family: inherit;</span></span><br><span class=line><span class=string>                font-size: inherit;</span></span><br><span class=line><span class=string>            &#125;</span></span><br><span class=line><span class=string>            </span></span><br><span class=line><span class=string>            .button:hover &#123;</span></span><br><span class=line><span class=string>                background-color: var(--vscode-button-hoverBackground);</span></span><br><span class=line><span class=string>            &#125;</span></span><br><span class=line><span class=string>            </span></span><br><span class=line><span class=string>            .button:disabled &#123;</span></span><br><span class=line><span class=string>                background-color: var(--vscode-button-secondaryBackground);</span></span><br><span class=line><span class=string>                color: var(--vscode-button-secondaryForeground);</span></span><br><span class=line><span class=string>                cursor: not-allowed;</span></span><br><span class=line><span class=string>            &#125;</span></span><br><span class=line><span class=string>            </span></span><br><span class=line><span class=string>            .input &#123;</span></span><br><span class=line><span class=string>                background-color: var(--vscode-input-background);</span></span><br><span class=line><span class=string>                color: var(--vscode-input-foreground);</span></span><br><span class=line><span class=string>                border: 1px solid var(--vscode-input-border);</span></span><br><span class=line><span class=string>                padding: 4px 6px;</span></span><br><span class=line><span class=string>                border-radius: 2px;</span></span><br><span class=line><span class=string>                font-family: inherit;</span></span><br><span class=line><span class=string>                font-size: inherit;</span></span><br><span class=line><span class=string>            &#125;</span></span><br><span class=line><span class=string>            </span></span><br><span class=line><span class=string>            .input:focus &#123;</span></span><br><span class=line><span class=string>                outline: 1px solid var(--vscode-focusBorder);</span></span><br><span class=line><span class=string>                outline-offset: -1px;</span></span><br><span class=line><span class=string>            &#125;</span></span><br><span class=line><span class=string>        `</span>;</span><br><span class=line>    &#125;</span><br><span class=line>    </span><br><span class=line>    <span class=comment>// 监听主题变化</span></span><br><span class=line>    <span class=keyword>static</span> <span class="title function_">onThemeChanged</span>(<span class=attr>callback</span>: <span class=function>() =&gt;</span> <span class=built_in>void</span>): vscode.<span class=property>Disposable</span> &#123;</span><br><span class=line>        <span class=keyword>return</span> vscode.<span class=property>window</span>.<span class="title function_">onDidChangeActiveColorTheme</span>(<span class=function>() =&gt;</span> &#123;</span><br><span class=line>            <span class="title function_">callback</span>();</span><br><span class=line>        &#125;);</span><br><span class=line>    &#125;</span><br><span class=line>&#125;</span><br></pre></td></tr></table></figure><h4 id=图标和字体规范><a href=#图标和字体规范 class=headerlink title=图标和字体规范></a>图标和字体规范</h4><figure class="highlight typescript"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br><span class=line>23</span><br><span class=line>24</span><br><span class=line>25</span><br><span class=line>26</span><br><span class=line>27</span><br><span class=line>28</span><br><span class=line>29</span><br><span class=line>30</span><br><span class=line>31</span><br><span class=line>32</span><br><span class=line>33</span><br><span class=line>34</span><br><span class=line>35</span><br><span class=line>36</span><br><span class=line>37</span><br><span class=line>38</span><br><span class=line>39</span><br><span class=line>40</span><br><span class=line>41</span><br><span class=line>42</span><br><span class=line>43</span><br><span class=line>44</span><br><span class=line>45</span><br><span class=line>46</span><br><span class=line>47</span><br><span class=line>48</span><br><span class=line>49</span><br><span class=line>50</span><br><span class=line>51</span><br><span class=line>52</span><br><span class=line>53</span><br><span class=line>54</span><br><span class=line>55</span><br><span class=line>56</span><br><span class=line>57</span><br><span class=line>58</span><br><span class=line>59</span><br><span class=line>60</span><br><span class=line>61</span><br><span class=line>62</span><br><span class=line>63</span><br><span class=line>64</span><br><span class=line>65</span><br><span class=line>66</span><br><span class=line>67</span><br><span class=line>68</span><br><span class=line>69</span><br><span class=line>70</span><br><span class=line>71</span><br><span class=line>72</span><br><span class=line>73</span><br><span class=line>74</span><br><span class=line>75</span><br><span class=line>76</span><br><span class=line>77</span><br><span class=line>78</span><br><span class=line>79</span><br><span class=line>80</span><br></pre></td><td class=code><pre><span class=line><span class=comment>// src/iconManager.ts</span></span><br><span class=line><span class=keyword>export</span> <span class=keyword>class</span> <span class="title class_">IconManager</span> &#123;</span><br><span class=line>    </span><br><span class=line>    <span class=comment>// VS Code内置图标库</span></span><br><span class=line>    <span class=keyword>static</span> <span class=keyword>readonly</span> <span class="variable constant_">ICONS</span> = &#123;</span><br><span class=line>        <span class=comment>// 文件操作</span></span><br><span class=line>        <span class=attr>file</span>: <span class=string>&#x27;file&#x27;</span>,</span><br><span class=line>        <span class=attr>folder</span>: <span class=string>&#x27;folder&#x27;</span>,</span><br><span class=line>        <span class=attr>folderOpened</span>: <span class=string>&#x27;folder-opened&#x27;</span>,</span><br><span class=line>        </span><br><span class=line>        <span class=comment>// 编辑操作</span></span><br><span class=line>        <span class=attr>edit</span>: <span class=string>&#x27;edit&#x27;</span>,</span><br><span class=line>        <span class=attr>save</span>: <span class=string>&#x27;save&#x27;</span>,</span><br><span class=line>        <span class=attr>saveAll</span>: <span class=string>&#x27;save-all&#x27;</span>,</span><br><span class=line>        </span><br><span class=line>        <span class=comment>// 导航操作</span></span><br><span class=line>        <span class=attr>search</span>: <span class=string>&#x27;search&#x27;</span>,</span><br><span class=line>        <span class=attr>filter</span>: <span class=string>&#x27;filter&#x27;</span>,</span><br><span class=line>        <span class=attr>refresh</span>: <span class=string>&#x27;refresh&#x27;</span>,</span><br><span class=line>        </span><br><span class=line>        <span class=comment>// 状态指示</span></span><br><span class=line>        <span class=attr>check</span>: <span class=string>&#x27;check&#x27;</span>,</span><br><span class=line>        <span class=attr>error</span>: <span class=string>&#x27;error&#x27;</span>,</span><br><span class=line>        <span class=attr>warning</span>: <span class=string>&#x27;warning&#x27;</span>,</span><br><span class=line>        <span class=attr>info</span>: <span class=string>&#x27;info&#x27;</span>,</span><br><span class=line>        </span><br><span class=line>        <span class=comment>// 工具操作</span></span><br><span class=line>        <span class=attr>settings</span>: <span class=string>&#x27;settings-gear&#x27;</span>,</span><br><span class=line>        <span class=attr>debug</span>: <span class=string>&#x27;debug&#x27;</span>,</span><br><span class=line>        <span class=attr>run</span>: <span class=string>&#x27;play&#x27;</span>,</span><br><span class=line>        <span class=attr>stop</span>: <span class=string>&#x27;stop&#x27;</span>,</span><br><span class=line>        </span><br><span class=line>        <span class=comment>// 版本控制</span></span><br><span class=line>        <span class=attr>gitCommit</span>: <span class=string>&#x27;git-commit&#x27;</span>,</span><br><span class=line>        <span class=attr>gitPullRequest</span>: <span class=string>&#x27;git-pull-request&#x27;</span>,</span><br><span class=line>        <span class=attr>gitBranch</span>: <span class=string>&#x27;git-branch&#x27;</span>,</span><br><span class=line>        </span><br><span class=line>        <span class=comment>// 扩展特定</span></span><br><span class=line>        <span class=attr>extension</span>: <span class=string>&#x27;extensions&#x27;</span>,</span><br><span class=line>        <span class=attr>plugin</span>: <span class=string>&#x27;plug&#x27;</span>,</span><br><span class=line>        <span class=attr>terminal</span>: <span class=string>&#x27;terminal&#x27;</span></span><br><span class=line>    &#125; <span class=keyword>as</span> <span class=keyword>const</span>;</span><br><span class=line>    </span><br><span class=line>    <span class=comment>// 创建主题图标</span></span><br><span class=line>    <span class=keyword>static</span> <span class="title function_">createThemeIcon</span>(<span class=attr>iconName</span>: keyof <span class=keyword>typeof</span> <span class="title class_">IconManager</span>.<span class=property>ICONS</span>): vscode.<span class=property>ThemeIcon</span> &#123;</span><br><span class=line>        <span class=keyword>return</span> <span class=keyword>new</span> vscode.<span class="title class_">ThemeIcon</span>(<span class="title class_">IconManager</span>.<span class=property>ICONS</span>[iconName]);</span><br><span class=line>    &#125;</span><br><span class=line>    </span><br><span class=line>    <span class=comment>// 创建带颜色的主题图标</span></span><br><span class=line>    <span class=keyword>static</span> <span class="title function_">createColoredIcon</span>(</span><br><span class=line>        <span class=attr>iconName</span>: keyof <span class=keyword>typeof</span> <span class="title class_">IconManager</span>.<span class=property>ICONS</span>, </span><br><span class=line>        <span class=attr>color</span>: vscode.<span class=property>ThemeColor</span></span><br><span class=line>    ): vscode.<span class=property>ThemeIcon</span> &#123;</span><br><span class=line>        <span class=keyword>return</span> <span class=keyword>new</span> vscode.<span class="title class_">ThemeIcon</span>(<span class="title class_">IconManager</span>.<span class=property>ICONS</span>[iconName], color);</span><br><span class=line>    &#125;</span><br><span class=line>    </span><br><span class=line>    <span class=comment>// 状态图标快捷方法</span></span><br><span class=line>    <span class=keyword>static</span> <span class="title function_">getStatusIcon</span>(<span class=attr>status</span>: <span class=string>&#x27;success&#x27;</span> | <span class=string>&#x27;warning&#x27;</span> | <span class=string>&#x27;error&#x27;</span> | <span class=string>&#x27;info&#x27;</span>): vscode.<span class=property>ThemeIcon</span> &#123;</span><br><span class=line>        <span class=keyword>const</span> iconMap = &#123;</span><br><span class=line>            <span class=attr>success</span>: <span class="variable language_">this</span>.<span class="title function_">createColoredIcon</span>(<span class=string>&#x27;check&#x27;</span>, <span class=keyword>new</span> vscode.<span class="title class_">ThemeColor</span>(<span class=string>&#x27;gitDecoration.addedResourceForeground&#x27;</span>)),</span><br><span class=line>            <span class=attr>warning</span>: <span class="variable language_">this</span>.<span class="title function_">createColoredIcon</span>(<span class=string>&#x27;warning&#x27;</span>, <span class=keyword>new</span> vscode.<span class="title class_">ThemeColor</span>(<span class=string>&#x27;warningForeground&#x27;</span>)),</span><br><span class=line>            <span class=attr>error</span>: <span class="variable language_">this</span>.<span class="title function_">createColoredIcon</span>(<span class=string>&#x27;error&#x27;</span>, <span class=keyword>new</span> vscode.<span class="title class_">ThemeColor</span>(<span class=string>&#x27;errorForeground&#x27;</span>)),</span><br><span class=line>            <span class=attr>info</span>: <span class="variable language_">this</span>.<span class="title function_">createColoredIcon</span>(<span class=string>&#x27;info&#x27;</span>, <span class=keyword>new</span> vscode.<span class="title class_">ThemeColor</span>(<span class=string>&#x27;foreground&#x27;</span>))</span><br><span class=line>        &#125;;</span><br><span class=line>        </span><br><span class=line>        <span class=keyword>return</span> iconMap[status];</span><br><span class=line>    &#125;</span><br><span class=line>    </span><br><span class=line>    <span class=comment>// 字体设置</span></span><br><span class=line>    <span class=keyword>static</span> <span class="title function_">getFontSettings</span>(<span class=params></span>) &#123;</span><br><span class=line>        <span class=keyword>const</span> config = vscode.<span class=property>workspace</span>.<span class="title function_">getConfiguration</span>(<span class=string>&#x27;editor&#x27;</span>);</span><br><span class=line>        </span><br><span class=line>        <span class=keyword>return</span> &#123;</span><br><span class=line>            <span class=attr>fontFamily</span>: config.<span class=property>get</span>&lt;<span class=built_in>string</span>&gt;(<span class=string>&#x27;fontFamily&#x27;</span>) || <span class=string>&#x27;Consolas, monospace&#x27;</span>,</span><br><span class=line>            <span class=attr>fontSize</span>: config.<span class=property>get</span>&lt;<span class=built_in>number</span>&gt;(<span class=string>&#x27;fontSize&#x27;</span>) || <span class=number>14</span>,</span><br><span class=line>            <span class=attr>fontWeight</span>: config.<span class=property>get</span>&lt;<span class=built_in>string</span>&gt;(<span class=string>&#x27;fontWeight&#x27;</span>) || <span class=string>&#x27;normal&#x27;</span>,</span><br><span class=line>            <span class=attr>lineHeight</span>: config.<span class=property>get</span>&lt;<span class=built_in>number</span>&gt;(<span class=string>&#x27;lineHeight&#x27;</span>) || <span class=number>1.5</span></span><br><span class=line>        &#125;;</span><br><span class=line>    &#125;</span><br><span class=line>&#125;</span><br></pre></td></tr></table></figure><h3 id=1-3-布局和空间设计><a href=#1-3-布局和空间设计 class=headerlink title="1.3 布局和空间设计"></a>1.3 布局和空间设计</h3><figure class="highlight typescript"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br><span class=line>23</span><br><span class=line>24</span><br><span class=line>25</span><br><span class=line>26</span><br><span class=line>27</span><br><span class=line>28</span><br><span class=line>29</span><br><span class=line>30</span><br><span class=line>31</span><br><span class=line>32</span><br><span class=line>33</span><br><span class=line>34</span><br><span class=line>35</span><br><span class=line>36</span><br><span class=line>37</span><br><span class=line>38</span><br><span class=line>39</span><br><span class=line>40</span><br><span class=line>41</span><br><span class=line>42</span><br><span class=line>43</span><br><span class=line>44</span><br><span class=line>45</span><br><span class=line>46</span><br><span class=line>47</span><br><span class=line>48</span><br><span class=line>49</span><br><span class=line>50</span><br><span class=line>51</span><br><span class=line>52</span><br><span class=line>53</span><br><span class=line>54</span><br><span class=line>55</span><br><span class=line>56</span><br><span class=line>57</span><br><span class=line>58</span><br><span class=line>59</span><br><span class=line>60</span><br><span class=line>61</span><br><span class=line>62</span><br><span class=line>63</span><br><span class=line>64</span><br><span class=line>65</span><br><span class=line>66</span><br><span class=line>67</span><br><span class=line>68</span><br><span class=line>69</span><br><span class=line>70</span><br><span class=line>71</span><br><span class=line>72</span><br><span class=line>73</span><br><span class=line>74</span><br><span class=line>75</span><br><span class=line>76</span><br><span class=line>77</span><br><span class=line>78</span><br><span class=line>79</span><br><span class=line>80</span><br><span class=line>81</span><br><span class=line>82</span><br><span class=line>83</span><br><span class=line>84</span><br><span class=line>85</span><br><span class=line>86</span><br><span class=line>87</span><br><span class=line>88</span><br><span class=line>89</span><br><span class=line>90</span><br><span class=line>91</span><br><span class=line>92</span><br><span class=line>93</span><br><span class=line>94</span><br><span class=line>95</span><br><span class=line>96</span><br><span class=line>97</span><br><span class=line>98</span><br><span class=line>99</span><br><span class=line>100</span><br><span class=line>101</span><br><span class=line>102</span><br><span class=line>103</span><br><span class=line>104</span><br><span class=line>105</span><br><span class=line>106</span><br><span class=line>107</span><br><span class=line>108</span><br><span class=line>109</span><br><span class=line>110</span><br><span class=line>111</span><br><span class=line>112</span><br><span class=line>113</span><br><span class=line>114</span><br><span class=line>115</span><br><span class=line>116</span><br><span class=line>117</span><br><span class=line>118</span><br></pre></td><td class=code><pre><span class=line><span class=comment>// src/layoutManager.ts</span></span><br><span class=line><span class=keyword>export</span> <span class=keyword>class</span> <span class="title class_">LayoutManager</span> &#123;</span><br><span class=line>    </span><br><span class=line>    <span class=comment>// 标准间距定义（基于VS Code设计系统）</span></span><br><span class=line>    <span class=keyword>static</span> <span class=keyword>readonly</span> <span class="variable constant_">SPACING</span> = &#123;</span><br><span class=line>        <span class=attr>xs</span>: <span class=string>&#x27;2px&#x27;</span>,</span><br><span class=line>        <span class=attr>sm</span>: <span class=string>&#x27;4px&#x27;</span>,</span><br><span class=line>        <span class=attr>md</span>: <span class=string>&#x27;8px&#x27;</span>,</span><br><span class=line>        <span class=attr>lg</span>: <span class=string>&#x27;12px&#x27;</span>,</span><br><span class=line>        <span class=attr>xl</span>: <span class=string>&#x27;16px&#x27;</span>,</span><br><span class=line>        <span class=attr>xxl</span>: <span class=string>&#x27;24px&#x27;</span></span><br><span class=line>    &#125;;</span><br><span class=line>    </span><br><span class=line>    <span class=comment>// 标准尺寸</span></span><br><span class=line>    <span class=keyword>static</span> <span class=keyword>readonly</span> <span class="variable constant_">SIZES</span> = &#123;</span><br><span class=line>        <span class=attr>buttonHeight</span>: <span class=string>&#x27;26px&#x27;</span>,</span><br><span class=line>        <span class=attr>inputHeight</span>: <span class=string>&#x27;24px&#x27;</span>,</span><br><span class=line>        <span class=attr>statusBarHeight</span>: <span class=string>&#x27;22px&#x27;</span>,</span><br><span class=line>        <span class=attr>sidebarWidth</span>: <span class=string>&#x27;300px&#x27;</span>,</span><br><span class=line>        <span class=attr>panelHeight</span>: <span class=string>&#x27;200px&#x27;</span></span><br><span class=line>    &#125;;</span><br><span class=line>    </span><br><span class=line>    <span class=comment>// 创建响应式CSS</span></span><br><span class=line>    <span class=keyword>static</span> <span class="title function_">generateResponsiveCSS</span>(): <span class=built_in>string</span> &#123;</span><br><span class=line>        <span class=keyword>return</span> <span class=string>`</span></span><br><span class=line><span class=string>            .container &#123;</span></span><br><span class=line><span class=string>                display: flex;</span></span><br><span class=line><span class=string>                flex-direction: column;</span></span><br><span class=line><span class=string>                height: 100vh;</span></span><br><span class=line><span class=string>                overflow: hidden;</span></span><br><span class=line><span class=string>            &#125;</span></span><br><span class=line><span class=string>            </span></span><br><span class=line><span class=string>            .header &#123;</span></span><br><span class=line><span class=string>                flex: 0 0 auto;</span></span><br><span class=line><span class=string>                padding: <span class=subst>$&#123;<span class="variable language_">this</span>.SPACING.md&#125;</span>;</span></span><br><span class=line><span class=string>                border-bottom: 1px solid var(--vscode-panel-border);</span></span><br><span class=line><span class=string>                display: flex;</span></span><br><span class=line><span class=string>                align-items: center;</span></span><br><span class=line><span class=string>                justify-content: space-between;</span></span><br><span class=line><span class=string>                min-height: 40px;</span></span><br><span class=line><span class=string>            &#125;</span></span><br><span class=line><span class=string>            </span></span><br><span class=line><span class=string>            .content &#123;</span></span><br><span class=line><span class=string>                flex: 1 1 auto;</span></span><br><span class=line><span class=string>                display: flex;</span></span><br><span class=line><span class=string>                overflow: hidden;</span></span><br><span class=line><span class=string>            &#125;</span></span><br><span class=line><span class=string>            </span></span><br><span class=line><span class=string>            .sidebar &#123;</span></span><br><span class=line><span class=string>                flex: 0 0 <span class=subst>$&#123;<span class="variable language_">this</span>.SIZES.sidebarWidth&#125;</span>;</span></span><br><span class=line><span class=string>                border-right: 1px solid var(--vscode-panel-border);</span></span><br><span class=line><span class=string>                overflow-y: auto;</span></span><br><span class=line><span class=string>                padding: <span class=subst>$&#123;<span class="variable language_">this</span>.SPACING.md&#125;</span>;</span></span><br><span class=line><span class=string>            &#125;</span></span><br><span class=line><span class=string>            </span></span><br><span class=line><span class=string>            .main &#123;</span></span><br><span class=line><span class=string>                flex: 1 1 auto;</span></span><br><span class=line><span class=string>                padding: <span class=subst>$&#123;<span class="variable language_">this</span>.SPACING.md&#125;</span>;</span></span><br><span class=line><span class=string>                overflow-y: auto;</span></span><br><span class=line><span class=string>            &#125;</span></span><br><span class=line><span class=string>            </span></span><br><span class=line><span class=string>            .footer &#123;</span></span><br><span class=line><span class=string>                flex: 0 0 auto;</span></span><br><span class=line><span class=string>                padding: <span class=subst>$&#123;<span class="variable language_">this</span>.SPACING.sm&#125;</span> <span class=subst>$&#123;<span class="variable language_">this</span>.SPACING.md&#125;</span>;</span></span><br><span class=line><span class=string>                border-top: 1px solid var(--vscode-panel-border);</span></span><br><span class=line><span class=string>                background-color: var(--vscode-statusBar-background);</span></span><br><span class=line><span class=string>                color: var(--vscode-statusBar-foreground);</span></span><br><span class=line><span class=string>                font-size: 12px;</span></span><br><span class=line><span class=string>            &#125;</span></span><br><span class=line><span class=string>            </span></span><br><span class=line><span class=string>            /* 响应式设计 */</span></span><br><span class=line><span class=string>            @media (max-width: 600px) &#123;</span></span><br><span class=line><span class=string>                .content &#123;</span></span><br><span class=line><span class=string>                    flex-direction: column;</span></span><br><span class=line><span class=string>                &#125;</span></span><br><span class=line><span class=string>                </span></span><br><span class=line><span class=string>                .sidebar &#123;</span></span><br><span class=line><span class=string>                    flex: 0 0 auto;</span></span><br><span class=line><span class=string>                    border-right: none;</span></span><br><span class=line><span class=string>                    border-bottom: 1px solid var(--vscode-panel-border);</span></span><br><span class=line><span class=string>                    max-height: 200px;</span></span><br><span class=line><span class=string>                &#125;</span></span><br><span class=line><span class=string>            &#125;</span></span><br><span class=line><span class=string>            </span></span><br><span class=line><span class=string>            /* 小屏幕隐藏侧边栏 */</span></span><br><span class=line><span class=string>            @media (max-width: 400px) &#123;</span></span><br><span class=line><span class=string>                .sidebar &#123;</span></span><br><span class=line><span class=string>                    display: none;</span></span><br><span class=line><span class=string>                &#125;</span></span><br><span class=line><span class=string>            &#125;</span></span><br><span class=line><span class=string>        `</span>;</span><br><span class=line>    &#125;</span><br><span class=line>    </span><br><span class=line>    <span class=comment>// 创建网格布局</span></span><br><span class=line>    <span class=keyword>static</span> <span class="title function_">createGridLayout</span>(<span class=attr>columns</span>: <span class=built_in>number</span>, <span class=attr>gap</span>: <span class=built_in>string</span> = <span class="variable language_">this</span>.<span class=property>SPACING</span>.<span class=property>md</span>): <span class=built_in>string</span> &#123;</span><br><span class=line>        <span class=keyword>return</span> <span class=string>`</span></span><br><span class=line><span class=string>            .grid &#123;</span></span><br><span class=line><span class=string>                display: grid;</span></span><br><span class=line><span class=string>                grid-template-columns: repeat(<span class=subst>$&#123;columns&#125;</span>, 1fr);</span></span><br><span class=line><span class=string>                gap: <span class=subst>$&#123;gap&#125;</span>;</span></span><br><span class=line><span class=string>                padding: <span class=subst>$&#123;<span class="variable language_">this</span>.SPACING.md&#125;</span>;</span></span><br><span class=line><span class=string>            &#125;</span></span><br><span class=line><span class=string>            </span></span><br><span class=line><span class=string>            .grid-item &#123;</span></span><br><span class=line><span class=string>                padding: <span class=subst>$&#123;<span class="variable language_">this</span>.SPACING.md&#125;</span>;</span></span><br><span class=line><span class=string>                border: 1px solid var(--vscode-panel-border);</span></span><br><span class=line><span class=string>                border-radius: 4px;</span></span><br><span class=line><span class=string>                background-color: var(--vscode-sideBar-background);</span></span><br><span class=line><span class=string>            &#125;</span></span><br><span class=line><span class=string>            </span></span><br><span class=line><span class=string>            @media (max-width: 600px) &#123;</span></span><br><span class=line><span class=string>                .grid &#123;</span></span><br><span class=line><span class=string>                    grid-template-columns: 1fr;</span></span><br><span class=line><span class=string>                &#125;</span></span><br><span class=line><span class=string>            &#125;</span></span><br><span class=line><span class=string>        `</span>;</span><br><span class=line>    &#125;</span><br><span class=line>&#125;</span><br></pre></td></tr></table></figure><hr><h2 id=🎛️-第二部分：交互设计模式><a href=#🎛️-第二部分：交互设计模式 class=headerlink title="🎛️ 第二部分：交互设计模式"></a>🎛️ 第二部分：交互设计模式</h2><h3 id=2-1-导航和菜单设计><a href=#2-1-导航和菜单设计 class=headerlink title="2.1 导航和菜单设计"></a>2.1 导航和菜单设计</h3><figure class="highlight typescript"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br><span class=line>23</span><br><span class=line>24</span><br><span class=line>25</span><br><span class=line>26</span><br><span class=line>27</span><br><span class=line>28</span><br><span class=line>29</span><br><span class=line>30</span><br><span class=line>31</span><br><span class=line>32</span><br><span class=line>33</span><br><span class=line>34</span><br><span class=line>35</span><br><span class=line>36</span><br><span class=line>37</span><br><span class=line>38</span><br><span class=line>39</span><br><span class=line>40</span><br><span class=line>41</span><br><span class=line>42</span><br><span class=line>43</span><br><span class=line>44</span><br><span class=line>45</span><br><span class=line>46</span><br><span class=line>47</span><br><span class=line>48</span><br><span class=line>49</span><br><span class=line>50</span><br><span class=line>51</span><br><span class=line>52</span><br><span class=line>53</span><br><span class=line>54</span><br><span class=line>55</span><br><span class=line>56</span><br><span class=line>57</span><br><span class=line>58</span><br><span class=line>59</span><br><span class=line>60</span><br><span class=line>61</span><br><span class=line>62</span><br><span class=line>63</span><br><span class=line>64</span><br><span class=line>65</span><br><span class=line>66</span><br><span class=line>67</span><br><span class=line>68</span><br><span class=line>69</span><br><span class=line>70</span><br><span class=line>71</span><br><span class=line>72</span><br><span class=line>73</span><br><span class=line>74</span><br><span class=line>75</span><br><span class=line>76</span><br><span class=line>77</span><br><span class=line>78</span><br><span class=line>79</span><br><span class=line>80</span><br><span class=line>81</span><br><span class=line>82</span><br><span class=line>83</span><br><span class=line>84</span><br><span class=line>85</span><br><span class=line>86</span><br><span class=line>87</span><br><span class=line>88</span><br><span class=line>89</span><br><span class=line>90</span><br><span class=line>91</span><br><span class=line>92</span><br><span class=line>93</span><br><span class=line>94</span><br><span class=line>95</span><br><span class=line>96</span><br><span class=line>97</span><br><span class=line>98</span><br><span class=line>99</span><br><span class=line>100</span><br><span class=line>101</span><br><span class=line>102</span><br><span class=line>103</span><br><span class=line>104</span><br><span class=line>105</span><br><span class=line>106</span><br><span class=line>107</span><br><span class=line>108</span><br><span class=line>109</span><br><span class=line>110</span><br><span class=line>111</span><br><span class=line>112</span><br><span class=line>113</span><br><span class=line>114</span><br><span class=line>115</span><br><span class=line>116</span><br><span class=line>117</span><br><span class=line>118</span><br><span class=line>119</span><br><span class=line>120</span><br><span class=line>121</span><br><span class=line>122</span><br><span class=line>123</span><br><span class=line>124</span><br><span class=line>125</span><br><span class=line>126</span><br><span class=line>127</span><br><span class=line>128</span><br><span class=line>129</span><br><span class=line>130</span><br><span class=line>131</span><br><span class=line>132</span><br><span class=line>133</span><br><span class=line>134</span><br><span class=line>135</span><br><span class=line>136</span><br><span class=line>137</span><br><span class=line>138</span><br><span class=line>139</span><br><span class=line>140</span><br><span class=line>141</span><br><span class=line>142</span><br><span class=line>143</span><br><span class=line>144</span><br><span class=line>145</span><br><span class=line>146</span><br><span class=line>147</span><br><span class=line>148</span><br><span class=line>149</span><br><span class=line>150</span><br><span class=line>151</span><br><span class=line>152</span><br><span class=line>153</span><br><span class=line>154</span><br><span class=line>155</span><br><span class=line>156</span><br><span class=line>157</span><br><span class=line>158</span><br><span class=line>159</span><br><span class=line>160</span><br><span class=line>161</span><br><span class=line>162</span><br><span class=line>163</span><br><span class=line>164</span><br><span class=line>165</span><br><span class=line>166</span><br><span class=line>167</span><br><span class=line>168</span><br><span class=line>169</span><br><span class=line>170</span><br><span class=line>171</span><br><span class=line>172</span><br><span class=line>173</span><br><span class=line>174</span><br><span class=line>175</span><br><span class=line>176</span><br><span class=line>177</span><br><span class=line>178</span><br><span class=line>179</span><br><span class=line>180</span><br><span class=line>181</span><br><span class=line>182</span><br><span class=line>183</span><br></pre></td><td class=code><pre><span class=line><span class=comment>// src/navigationManager.ts</span></span><br><span class=line><span class=keyword>export</span> <span class=keyword>class</span> <span class="title class_">NavigationManager</span> &#123;</span><br><span class=line>    </span><br><span class=line>    <span class=comment>// 创建面包屑导航</span></span><br><span class=line>    <span class=keyword>static</span> <span class="title function_">createBreadcrumb</span>(<span class=attr>path</span>: <span class=built_in>string</span>[]): <span class=built_in>string</span> &#123;</span><br><span class=line>        <span class=keyword>const</span> breadcrumbItems = path.<span class="title function_">map</span>(<span class=function>(<span class=params>item, index</span>) =&gt;</span> &#123;</span><br><span class=line>            <span class=keyword>const</span> isLast = index === path.<span class=property>length</span> - <span class=number>1</span>;</span><br><span class=line>            <span class=keyword>const</span> className = isLast ? <span class=string>&#x27;breadcrumb-current&#x27;</span> : <span class=string>&#x27;breadcrumb-link&#x27;</span>;</span><br><span class=line>            </span><br><span class=line>            <span class=keyword>return</span> <span class=string>`&lt;span class=&quot;<span class=subst>$&#123;className&#125;</span>&quot; data-index=&quot;<span class=subst>$&#123;index&#125;</span>&quot;&gt;<span class=subst>$&#123;item&#125;</span>&lt;/span&gt;`</span>;</span><br><span class=line>        &#125;).<span class="title function_">join</span>(<span class=string>&#x27;&lt;span class=&quot;breadcrumb-separator&quot;&gt;›&lt;/span&gt;&#x27;</span>);</span><br><span class=line>        </span><br><span class=line>        <span class=keyword>return</span> <span class=string>`</span></span><br><span class=line><span class=string>            &lt;nav class=&quot;breadcrumb&quot; aria-label=&quot;导航路径&quot;&gt;</span></span><br><span class=line><span class=string>                <span class=subst>$&#123;breadcrumbItems&#125;</span></span></span><br><span class=line><span class=string>            &lt;/nav&gt;</span></span><br><span class=line><span class=string>        `</span>;</span><br><span class=line>    &#125;</span><br><span class=line>    </span><br><span class=line>    <span class=comment>// 创建标签页导航</span></span><br><span class=line>    <span class=keyword>static</span> <span class="title function_">createTabNavigation</span>(<span class=attr>tabs</span>: <span class="title class_">Array</span>&lt;&#123;<span class=attr>id</span>: <span class=built_in>string</span>, <span class=attr>label</span>: <span class=built_in>string</span>, active?: <span class=built_in>boolean</span>&#125;&gt;): <span class=built_in>string</span> &#123;</span><br><span class=line>        <span class=keyword>const</span> tabItems = tabs.<span class="title function_">map</span>(<span class=function><span class=params>tab</span> =&gt;</span> <span class=string>`</span></span><br><span class=line><span class=string>            &lt;button </span></span><br><span class=line><span class=string>                class=&quot;tab-item <span class=subst>$&#123;tab.active ? <span class=string>&#x27;active&#x27;</span> : <span class=string>&#x27;&#x27;</span>&#125;</span>&quot;</span></span><br><span class=line><span class=string>                data-tab-id=&quot;<span class=subst>$&#123;tab.id&#125;</span>&quot;</span></span><br><span class=line><span class=string>                role=&quot;tab&quot;</span></span><br><span class=line><span class=string>                aria-selected=&quot;<span class=subst>$&#123;tab.active ? <span class=string>&#x27;true&#x27;</span> : <span class=string>&#x27;false&#x27;</span>&#125;</span>&quot;</span></span><br><span class=line><span class=string>            &gt;</span></span><br><span class=line><span class=string>                <span class=subst>$&#123;tab.label&#125;</span></span></span><br><span class=line><span class=string>            &lt;/button&gt;</span></span><br><span class=line><span class=string>        `</span>).<span class="title function_">join</span>(<span class=string>&#x27;&#x27;</span>);</span><br><span class=line>        </span><br><span class=line>        <span class=keyword>return</span> <span class=string>`</span></span><br><span class=line><span class=string>            &lt;div class=&quot;tab-navigation&quot; role=&quot;tablist&quot;&gt;</span></span><br><span class=line><span class=string>                <span class=subst>$&#123;tabItems&#125;</span></span></span><br><span class=line><span class=string>            &lt;/div&gt;</span></span><br><span class=line><span class=string>        `</span>;</span><br><span class=line>    &#125;</span><br><span class=line>    </span><br><span class=line>    <span class=comment>// 创建上下文菜单</span></span><br><span class=line>    <span class=keyword>static</span> <span class="title function_">createContextMenu</span>(<span class=attr>items</span>: <span class="title class_">Array</span>&lt;&#123;</span><br><span class=line>        <span class=attr>id</span>: <span class=built_in>string</span>,</span><br><span class=line>        <span class=attr>label</span>: <span class=built_in>string</span>,</span><br><span class=line>        icon?: <span class=built_in>string</span>,</span><br><span class=line>        disabled?: <span class=built_in>boolean</span>,</span><br><span class=line>        separator?: <span class=built_in>boolean</span></span><br><span class=line>    &#125;&gt;): <span class=built_in>string</span> &#123;</span><br><span class=line>        <span class=keyword>const</span> menuItems = items.<span class="title function_">map</span>(<span class=function><span class=params>item</span> =&gt;</span> &#123;</span><br><span class=line>            <span class=keyword>if</span> (item.<span class=property>separator</span>) &#123;</span><br><span class=line>                <span class=keyword>return</span> <span class=string>&#x27;&lt;div class=&quot;menu-separator&quot; role=&quot;separator&quot;&gt;&lt;/div&gt;&#x27;</span>;</span><br><span class=line>            &#125;</span><br><span class=line>            </span><br><span class=line>            <span class=keyword>const</span> iconHtml = item.<span class=property>icon</span> </span><br><span class=line>                ? <span class=string>`&lt;span class=&quot;menu-icon codicon codicon-<span class=subst>$&#123;item.icon&#125;</span>&quot;&gt;&lt;/span&gt;`</span></span><br><span class=line>                : <span class=string>&#x27;&#x27;</span>;</span><br><span class=line>            </span><br><span class=line>            <span class=keyword>return</span> <span class=string>`</span></span><br><span class=line><span class=string>                &lt;button </span></span><br><span class=line><span class=string>                    class=&quot;menu-item <span class=subst>$&#123;item.disabled ? <span class=string>&#x27;disabled&#x27;</span> : <span class=string>&#x27;&#x27;</span>&#125;</span>&quot;</span></span><br><span class=line><span class=string>                    data-action=&quot;<span class=subst>$&#123;item.id&#125;</span>&quot;</span></span><br><span class=line><span class=string>                    <span class=subst>$&#123;item.disabled ? <span class=string>&#x27;disabled&#x27;</span> : <span class=string>&#x27;&#x27;</span>&#125;</span></span></span><br><span class=line><span class=string>                    role=&quot;menuitem&quot;</span></span><br><span class=line><span class=string>                &gt;</span></span><br><span class=line><span class=string>                    <span class=subst>$&#123;iconHtml&#125;</span></span></span><br><span class=line><span class=string>                    &lt;span class=&quot;menu-label&quot;&gt;<span class=subst>$&#123;item.label&#125;</span>&lt;/span&gt;</span></span><br><span class=line><span class=string>                &lt;/button&gt;</span></span><br><span class=line><span class=string>            `</span>;</span><br><span class=line>        &#125;).<span class="title function_">join</span>(<span class=string>&#x27;&#x27;</span>);</span><br><span class=line>        </span><br><span class=line>        <span class=keyword>return</span> <span class=string>`</span></span><br><span class=line><span class=string>            &lt;div class=&quot;context-menu&quot; role=&quot;menu&quot;&gt;</span></span><br><span class=line><span class=string>                <span class=subst>$&#123;menuItems&#125;</span></span></span><br><span class=line><span class=string>            &lt;/div&gt;</span></span><br><span class=line><span class=string>        `</span>;</span><br><span class=line>    &#125;</span><br><span class=line>    </span><br><span class=line>    <span class=comment>// 获取导航相关CSS</span></span><br><span class=line>    <span class=keyword>static</span> <span class="title function_">getNavigationCSS</span>(): <span class=built_in>string</span> &#123;</span><br><span class=line>        <span class=keyword>return</span> <span class=string>`</span></span><br><span class=line><span class=string>            /* 面包屑导航 */</span></span><br><span class=line><span class=string>            .breadcrumb &#123;</span></span><br><span class=line><span class=string>                display: flex;</span></span><br><span class=line><span class=string>                align-items: center;</span></span><br><span class=line><span class=string>                padding: <span class=subst>$&#123;LayoutManager.SPACING.sm&#125;</span> 0;</span></span><br><span class=line><span class=string>                font-size: 12px;</span></span><br><span class=line><span class=string>                color: var(--vscode-breadcrumb-foreground);</span></span><br><span class=line><span class=string>            &#125;</span></span><br><span class=line><span class=string>            </span></span><br><span class=line><span class=string>            .breadcrumb-link &#123;</span></span><br><span class=line><span class=string>                cursor: pointer;</span></span><br><span class=line><span class=string>                color: var(--vscode-textLink-foreground);</span></span><br><span class=line><span class=string>                text-decoration: none;</span></span><br><span class=line><span class=string>            &#125;</span></span><br><span class=line><span class=string>            </span></span><br><span class=line><span class=string>            .breadcrumb-link:hover &#123;</span></span><br><span class=line><span class=string>                text-decoration: underline;</span></span><br><span class=line><span class=string>            &#125;</span></span><br><span class=line><span class=string>            </span></span><br><span class=line><span class=string>            .breadcrumb-current &#123;</span></span><br><span class=line><span class=string>                color: var(--vscode-breadcrumb-activeSelectionForeground);</span></span><br><span class=line><span class=string>                font-weight: bold;</span></span><br><span class=line><span class=string>            &#125;</span></span><br><span class=line><span class=string>            </span></span><br><span class=line><span class=string>            .breadcrumb-separator &#123;</span></span><br><span class=line><span class=string>                margin: 0 <span class=subst>$&#123;LayoutManager.SPACING.sm&#125;</span>;</span></span><br><span class=line><span class=string>                color: var(--vscode-breadcrumb-foreground);</span></span><br><span class=line><span class=string>            &#125;</span></span><br><span class=line><span class=string>            </span></span><br><span class=line><span class=string>            /* 标签页导航 */</span></span><br><span class=line><span class=string>            .tab-navigation &#123;</span></span><br><span class=line><span class=string>                display: flex;</span></span><br><span class=line><span class=string>                border-bottom: 1px solid var(--vscode-tab-border);</span></span><br><span class=line><span class=string>                background-color: var(--vscode-editorGroupHeader-tabsBackground);</span></span><br><span class=line><span class=string>            &#125;</span></span><br><span class=line><span class=string>            </span></span><br><span class=line><span class=string>            .tab-item &#123;</span></span><br><span class=line><span class=string>                background: none;</span></span><br><span class=line><span class=string>                border: none;</span></span><br><span class=line><span class=string>                padding: <span class=subst>$&#123;LayoutManager.SPACING.md&#125;</span> <span class=subst>$&#123;LayoutManager.SPACING.lg&#125;</span>;</span></span><br><span class=line><span class=string>                color: var(--vscode-tab-inactiveForeground);</span></span><br><span class=line><span class=string>                cursor: pointer;</span></span><br><span class=line><span class=string>                border-bottom: 2px solid transparent;</span></span><br><span class=line><span class=string>                transition: all 0.2s ease;</span></span><br><span class=line><span class=string>            &#125;</span></span><br><span class=line><span class=string>            </span></span><br><span class=line><span class=string>            .tab-item:hover &#123;</span></span><br><span class=line><span class=string>                color: var(--vscode-tab-activeForeground);</span></span><br><span class=line><span class=string>                background-color: var(--vscode-tab-hoverBackground);</span></span><br><span class=line><span class=string>            &#125;</span></span><br><span class=line><span class=string>            </span></span><br><span class=line><span class=string>            .tab-item.active &#123;</span></span><br><span class=line><span class=string>                color: var(--vscode-tab-activeForeground);</span></span><br><span class=line><span class=string>                background-color: var(--vscode-tab-activeBackground);</span></span><br><span class=line><span class=string>                border-bottom-color: var(--vscode-tab-activeBorder);</span></span><br><span class=line><span class=string>            &#125;</span></span><br><span class=line><span class=string>            </span></span><br><span class=line><span class=string>            /* 上下文菜单 */</span></span><br><span class=line><span class=string>            .context-menu &#123;</span></span><br><span class=line><span class=string>                background-color: var(--vscode-menu-background);</span></span><br><span class=line><span class=string>                border: 1px solid var(--vscode-menu-border);</span></span><br><span class=line><span class=string>                border-radius: 4px;</span></span><br><span class=line><span class=string>                box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);</span></span><br><span class=line><span class=string>                padding: <span class=subst>$&#123;LayoutManager.SPACING.sm&#125;</span> 0;</span></span><br><span class=line><span class=string>                min-width: 150px;</span></span><br><span class=line><span class=string>                z-index: 1000;</span></span><br><span class=line><span class=string>            &#125;</span></span><br><span class=line><span class=string>            </span></span><br><span class=line><span class=string>            .menu-item &#123;</span></span><br><span class=line><span class=string>                display: flex;</span></span><br><span class=line><span class=string>                align-items: center;</span></span><br><span class=line><span class=string>                width: 100%;</span></span><br><span class=line><span class=string>                padding: <span class=subst>$&#123;LayoutManager.SPACING.sm&#125;</span> <span class=subst>$&#123;LayoutManager.SPACING.md&#125;</span>;</span></span><br><span class=line><span class=string>                background: none;</span></span><br><span class=line><span class=string>                border: none;</span></span><br><span class=line><span class=string>                color: var(--vscode-menu-foreground);</span></span><br><span class=line><span class=string>                cursor: pointer;</span></span><br><span class=line><span class=string>                text-align: left;</span></span><br><span class=line><span class=string>            &#125;</span></span><br><span class=line><span class=string>            </span></span><br><span class=line><span class=string>            .menu-item:hover:not(.disabled) &#123;</span></span><br><span class=line><span class=string>                background-color: var(--vscode-menu-selectionBackground);</span></span><br><span class=line><span class=string>                color: var(--vscode-menu-selectionForeground);</span></span><br><span class=line><span class=string>            &#125;</span></span><br><span class=line><span class=string>            </span></span><br><span class=line><span class=string>            .menu-item.disabled &#123;</span></span><br><span class=line><span class=string>                color: var(--vscode-disabledForeground);</span></span><br><span class=line><span class=string>                cursor: not-allowed;</span></span><br><span class=line><span class=string>            &#125;</span></span><br><span class=line><span class=string>            </span></span><br><span class=line><span class=string>            .menu-icon &#123;</span></span><br><span class=line><span class=string>                margin-right: <span class=subst>$&#123;LayoutManager.SPACING.sm&#125;</span>;</span></span><br><span class=line><span class=string>                width: 16px;</span></span><br><span class=line><span class=string>                height: 16px;</span></span><br><span class=line><span class=string>            &#125;</span></span><br><span class=line><span class=string>            </span></span><br><span class=line><span class=string>            .menu-separator &#123;</span></span><br><span class=line><span class=string>                height: 1px;</span></span><br><span class=line><span class=string>                background-color: var(--vscode-menu-separatorBackground);</span></span><br><span class=line><span class=string>                margin: <span class=subst>$&#123;LayoutManager.SPACING.sm&#125;</span> 0;</span></span><br><span class=line><span class=string>            &#125;</span></span><br><span class=line><span class=string>        `</span>;</span><br><span class=line>    &#125;</span><br><span class=line>&#125;</span><br></pre></td></tr></table></figure><h3 id=2-2-表单和输入设计><a href=#2-2-表单和输入设计 class=headerlink title="2.2 表单和输入设计"></a>2.2 表单和输入设计</h3><figure class="highlight typescript"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br><span class=line>23</span><br><span class=line>24</span><br><span class=line>25</span><br><span class=line>26</span><br><span class=line>27</span><br><span class=line>28</span><br><span class=line>29</span><br><span class=line>30</span><br><span class=line>31</span><br><span class=line>32</span><br><span class=line>33</span><br><span class=line>34</span><br><span class=line>35</span><br><span class=line>36</span><br><span class=line>37</span><br><span class=line>38</span><br><span class=line>39</span><br><span class=line>40</span><br><span class=line>41</span><br><span class=line>42</span><br><span class=line>43</span><br><span class=line>44</span><br><span class=line>45</span><br><span class=line>46</span><br><span class=line>47</span><br><span class=line>48</span><br><span class=line>49</span><br><span class=line>50</span><br><span class=line>51</span><br><span class=line>52</span><br><span class=line>53</span><br><span class=line>54</span><br><span class=line>55</span><br><span class=line>56</span><br><span class=line>57</span><br><span class=line>58</span><br><span class=line>59</span><br><span class=line>60</span><br><span class=line>61</span><br><span class=line>62</span><br><span class=line>63</span><br><span class=line>64</span><br><span class=line>65</span><br><span class=line>66</span><br><span class=line>67</span><br><span class=line>68</span><br><span class=line>69</span><br><span class=line>70</span><br><span class=line>71</span><br><span class=line>72</span><br><span class=line>73</span><br><span class=line>74</span><br><span class=line>75</span><br><span class=line>76</span><br><span class=line>77</span><br><span class=line>78</span><br><span class=line>79</span><br><span class=line>80</span><br><span class=line>81</span><br><span class=line>82</span><br><span class=line>83</span><br><span class=line>84</span><br><span class=line>85</span><br><span class=line>86</span><br><span class=line>87</span><br><span class=line>88</span><br><span class=line>89</span><br><span class=line>90</span><br><span class=line>91</span><br><span class=line>92</span><br><span class=line>93</span><br><span class=line>94</span><br><span class=line>95</span><br><span class=line>96</span><br><span class=line>97</span><br><span class=line>98</span><br><span class=line>99</span><br><span class=line>100</span><br><span class=line>101</span><br><span class=line>102</span><br><span class=line>103</span><br><span class=line>104</span><br><span class=line>105</span><br><span class=line>106</span><br><span class=line>107</span><br><span class=line>108</span><br><span class=line>109</span><br><span class=line>110</span><br><span class=line>111</span><br><span class=line>112</span><br><span class=line>113</span><br><span class=line>114</span><br><span class=line>115</span><br><span class=line>116</span><br><span class=line>117</span><br><span class=line>118</span><br><span class=line>119</span><br><span class=line>120</span><br><span class=line>121</span><br><span class=line>122</span><br><span class=line>123</span><br><span class=line>124</span><br><span class=line>125</span><br><span class=line>126</span><br><span class=line>127</span><br><span class=line>128</span><br><span class=line>129</span><br><span class=line>130</span><br><span class=line>131</span><br><span class=line>132</span><br><span class=line>133</span><br><span class=line>134</span><br><span class=line>135</span><br><span class=line>136</span><br><span class=line>137</span><br><span class=line>138</span><br><span class=line>139</span><br><span class=line>140</span><br><span class=line>141</span><br><span class=line>142</span><br><span class=line>143</span><br><span class=line>144</span><br><span class=line>145</span><br><span class=line>146</span><br><span class=line>147</span><br><span class=line>148</span><br><span class=line>149</span><br><span class=line>150</span><br><span class=line>151</span><br><span class=line>152</span><br><span class=line>153</span><br><span class=line>154</span><br><span class=line>155</span><br><span class=line>156</span><br><span class=line>157</span><br><span class=line>158</span><br><span class=line>159</span><br><span class=line>160</span><br><span class=line>161</span><br><span class=line>162</span><br><span class=line>163</span><br><span class=line>164</span><br><span class=line>165</span><br><span class=line>166</span><br><span class=line>167</span><br><span class=line>168</span><br><span class=line>169</span><br><span class=line>170</span><br><span class=line>171</span><br><span class=line>172</span><br><span class=line>173</span><br><span class=line>174</span><br><span class=line>175</span><br><span class=line>176</span><br><span class=line>177</span><br><span class=line>178</span><br><span class=line>179</span><br><span class=line>180</span><br><span class=line>181</span><br><span class=line>182</span><br><span class=line>183</span><br><span class=line>184</span><br><span class=line>185</span><br><span class=line>186</span><br><span class=line>187</span><br><span class=line>188</span><br><span class=line>189</span><br><span class=line>190</span><br><span class=line>191</span><br><span class=line>192</span><br><span class=line>193</span><br><span class=line>194</span><br><span class=line>195</span><br><span class=line>196</span><br><span class=line>197</span><br><span class=line>198</span><br><span class=line>199</span><br><span class=line>200</span><br><span class=line>201</span><br><span class=line>202</span><br><span class=line>203</span><br><span class=line>204</span><br><span class=line>205</span><br><span class=line>206</span><br><span class=line>207</span><br><span class=line>208</span><br><span class=line>209</span><br><span class=line>210</span><br><span class=line>211</span><br><span class=line>212</span><br><span class=line>213</span><br><span class=line>214</span><br><span class=line>215</span><br><span class=line>216</span><br><span class=line>217</span><br><span class=line>218</span><br><span class=line>219</span><br><span class=line>220</span><br><span class=line>221</span><br><span class=line>222</span><br><span class=line>223</span><br><span class=line>224</span><br><span class=line>225</span><br><span class=line>226</span><br><span class=line>227</span><br><span class=line>228</span><br><span class=line>229</span><br><span class=line>230</span><br><span class=line>231</span><br><span class=line>232</span><br><span class=line>233</span><br><span class=line>234</span><br><span class=line>235</span><br><span class=line>236</span><br><span class=line>237</span><br><span class=line>238</span><br><span class=line>239</span><br><span class=line>240</span><br><span class=line>241</span><br><span class=line>242</span><br><span class=line>243</span><br><span class=line>244</span><br><span class=line>245</span><br><span class=line>246</span><br><span class=line>247</span><br><span class=line>248</span><br><span class=line>249</span><br><span class=line>250</span><br><span class=line>251</span><br><span class=line>252</span><br><span class=line>253</span><br><span class=line>254</span><br><span class=line>255</span><br><span class=line>256</span><br><span class=line>257</span><br><span class=line>258</span><br><span class=line>259</span><br><span class=line>260</span><br><span class=line>261</span><br><span class=line>262</span><br><span class=line>263</span><br><span class=line>264</span><br><span class=line>265</span><br><span class=line>266</span><br><span class=line>267</span><br><span class=line>268</span><br><span class=line>269</span><br><span class=line>270</span><br><span class=line>271</span><br><span class=line>272</span><br><span class=line>273</span><br><span class=line>274</span><br><span class=line>275</span><br><span class=line>276</span><br><span class=line>277</span><br><span class=line>278</span><br><span class=line>279</span><br><span class=line>280</span><br><span class=line>281</span><br><span class=line>282</span><br><span class=line>283</span><br><span class=line>284</span><br><span class=line>285</span><br><span class=line>286</span><br><span class=line>287</span><br><span class=line>288</span><br><span class=line>289</span><br><span class=line>290</span><br><span class=line>291</span><br><span class=line>292</span><br><span class=line>293</span><br><span class=line>294</span><br><span class=line>295</span><br><span class=line>296</span><br><span class=line>297</span><br><span class=line>298</span><br><span class=line>299</span><br><span class=line>300</span><br><span class=line>301</span><br><span class=line>302</span><br><span class=line>303</span><br><span class=line>304</span><br><span class=line>305</span><br><span class=line>306</span><br><span class=line>307</span><br><span class=line>308</span><br><span class=line>309</span><br><span class=line>310</span><br><span class=line>311</span><br><span class=line>312</span><br><span class=line>313</span><br><span class=line>314</span><br><span class=line>315</span><br><span class=line>316</span><br><span class=line>317</span><br><span class=line>318</span><br><span class=line>319</span><br><span class=line>320</span><br><span class=line>321</span><br><span class=line>322</span><br><span class=line>323</span><br><span class=line>324</span><br><span class=line>325</span><br><span class=line>326</span><br><span class=line>327</span><br><span class=line>328</span><br><span class=line>329</span><br><span class=line>330</span><br><span class=line>331</span><br><span class=line>332</span><br><span class=line>333</span><br><span class=line>334</span><br><span class=line>335</span><br><span class=line>336</span><br><span class=line>337</span><br><span class=line>338</span><br><span class=line>339</span><br><span class=line>340</span><br><span class=line>341</span><br><span class=line>342</span><br><span class=line>343</span><br><span class=line>344</span><br><span class=line>345</span><br><span class=line>346</span><br><span class=line>347</span><br><span class=line>348</span><br><span class=line>349</span><br><span class=line>350</span><br><span class=line>351</span><br></pre></td><td class=code><pre><span class=line><span class=comment>// src/formManager.ts</span></span><br><span class=line><span class=keyword>export</span> <span class=keyword>class</span> <span class="title class_">FormManager</span> &#123;</span><br><span class=line>    </span><br><span class=line>    <span class=comment>// 创建标准表单字段</span></span><br><span class=line>    <span class=keyword>static</span> <span class="title function_">createFormField</span>(<span class=attr>options</span>: &#123;</span><br><span class=line>        <span class=attr>type</span>: <span class=string>&#x27;text&#x27;</span> | <span class=string>&#x27;password&#x27;</span> | <span class=string>&#x27;email&#x27;</span> | <span class=string>&#x27;number&#x27;</span> | <span class=string>&#x27;select&#x27;</span> | <span class=string>&#x27;textarea&#x27;</span>,</span><br><span class=line>        <span class=attr>id</span>: <span class=built_in>string</span>,</span><br><span class=line>        <span class=attr>label</span>: <span class=built_in>string</span>,</span><br><span class=line>        placeholder?: <span class=built_in>string</span>,</span><br><span class=line>        required?: <span class=built_in>boolean</span>,</span><br><span class=line>        disabled?: <span class=built_in>boolean</span>,</span><br><span class=line>        options?: <span class="title class_">Array</span>&lt;&#123;<span class=attr>value</span>: <span class=built_in>string</span>, <span class=attr>label</span>: <span class=built_in>string</span>&#125;&gt;, <span class=comment>// for select</span></span><br><span class=line>        rows?: <span class=built_in>number</span>, <span class=comment>// for textarea</span></span><br><span class=line>        validation?: &#123;</span><br><span class=line>            pattern?: <span class=built_in>string</span>,</span><br><span class=line>            minLength?: <span class=built_in>number</span>,</span><br><span class=line>            maxLength?: <span class=built_in>number</span>,</span><br><span class=line>            min?: <span class=built_in>number</span>,</span><br><span class=line>            max?: <span class=built_in>number</span></span><br><span class=line>        &#125;</span><br><span class=line>    &#125;): <span class=built_in>string</span> &#123;</span><br><span class=line>        </span><br><span class=line>        <span class=keyword>const</span> &#123; <span class=keyword>type</span>, id, label, placeholder, required, disabled, options, rows, validation &#125; = options;</span><br><span class=line>        </span><br><span class=line>        <span class=keyword>let</span> inputHtml = <span class=string>&#x27;&#x27;</span>;</span><br><span class=line>        <span class=keyword>const</span> commonAttrs = <span class=string>`</span></span><br><span class=line><span class=string>            id=&quot;<span class=subst>$&#123;id&#125;</span>&quot;</span></span><br><span class=line><span class=string>            name=&quot;<span class=subst>$&#123;id&#125;</span>&quot;</span></span><br><span class=line><span class=string>            <span class=subst>$&#123;placeholder ? <span class=string>`placeholder=&quot;<span class=subst>$&#123;placeholder&#125;</span>&quot;`</span> : <span class=string>&#x27;&#x27;</span>&#125;</span></span></span><br><span class=line><span class=string>            <span class=subst>$&#123;required ? <span class=string>&#x27;required&#x27;</span> : <span class=string>&#x27;&#x27;</span>&#125;</span></span></span><br><span class=line><span class=string>            <span class=subst>$&#123;disabled ? <span class=string>&#x27;disabled&#x27;</span> : <span class=string>&#x27;&#x27;</span>&#125;</span></span></span><br><span class=line><span class=string>            <span class=subst>$&#123;validation?.pattern ? <span class=string>`pattern=&quot;<span class=subst>$&#123;validation.pattern&#125;</span>&quot;`</span> : <span class=string>&#x27;&#x27;</span>&#125;</span></span></span><br><span class=line><span class=string>            <span class=subst>$&#123;validation?.minLength ? <span class=string>`minlength=&quot;<span class=subst>$&#123;validation.minLength&#125;</span>&quot;`</span> : <span class=string>&#x27;&#x27;</span>&#125;</span></span></span><br><span class=line><span class=string>            <span class=subst>$&#123;validation?.maxLength ? <span class=string>`maxlength=&quot;<span class=subst>$&#123;validation.maxLength&#125;</span>&quot;`</span> : <span class=string>&#x27;&#x27;</span>&#125;</span></span></span><br><span class=line><span class=string>            <span class=subst>$&#123;validation?.min ? <span class=string>`min=&quot;<span class=subst>$&#123;validation.min&#125;</span>&quot;`</span> : <span class=string>&#x27;&#x27;</span>&#125;</span></span></span><br><span class=line><span class=string>            <span class=subst>$&#123;validation?.max ? <span class=string>`max=&quot;<span class=subst>$&#123;validation.max&#125;</span>&quot;`</span> : <span class=string>&#x27;&#x27;</span>&#125;</span></span></span><br><span class=line><span class=string>        `</span>;</span><br><span class=line>        </span><br><span class=line>        <span class=keyword>switch</span> (<span class=keyword>type</span>) &#123;</span><br><span class=line>            <span class=keyword>case</span> <span class=string>&#x27;select&#x27;</span>:</span><br><span class=line>                <span class=keyword>const</span> optionItems = options?.<span class="title function_">map</span>(<span class=function><span class=params>opt</span> =&gt;</span> </span><br><span class=line>                    <span class=string>`&lt;option value=&quot;<span class=subst>$&#123;opt.value&#125;</span>&quot;&gt;<span class=subst>$&#123;opt.label&#125;</span>&lt;/option&gt;`</span></span><br><span class=line>                ).<span class="title function_">join</span>(<span class=string>&#x27;&#x27;</span>) || <span class=string>&#x27;&#x27;</span>;</span><br><span class=line>                inputHtml = <span class=string>`&lt;select class=&quot;form-select&quot; <span class=subst>$&#123;commonAttrs&#125;</span>&gt;<span class=subst>$&#123;optionItems&#125;</span>&lt;/select&gt;`</span>;</span><br><span class=line>                <span class=keyword>break</span>;</span><br><span class=line>                </span><br><span class=line>            <span class=keyword>case</span> <span class=string>&#x27;textarea&#x27;</span>:</span><br><span class=line>                inputHtml = <span class=string>`&lt;textarea class=&quot;form-textarea&quot; <span class=subst>$&#123;commonAttrs&#125;</span> <span class=subst>$&#123;rows ? <span class=string>`rows=&quot;<span class=subst>$&#123;rows&#125;</span>&quot;`</span> : <span class=string>&#x27;&#x27;</span>&#125;</span>&gt;&lt;/textarea&gt;`</span>;</span><br><span class=line>                <span class=keyword>break</span>;</span><br><span class=line>                </span><br><span class=line>            <span class=attr>default</span>:</span><br><span class=line>                inputHtml = <span class=string>`&lt;input type=&quot;<span class=subst>$&#123;<span class=keyword>type</span>&#125;</span>&quot; class=&quot;form-input&quot; <span class=subst>$&#123;commonAttrs&#125;</span>&gt;`</span>;</span><br><span class=line>        &#125;</span><br><span class=line>        </span><br><span class=line>        <span class=keyword>return</span> <span class=string>`</span></span><br><span class=line><span class=string>            &lt;div class=&quot;form-field&quot;&gt;</span></span><br><span class=line><span class=string>                &lt;label class=&quot;form-label&quot; for=&quot;<span class=subst>$&#123;id&#125;</span>&quot;&gt;</span></span><br><span class=line><span class=string>                    <span class=subst>$&#123;label&#125;</span></span></span><br><span class=line><span class=string>                    <span class=subst>$&#123;required ? <span class=string>&#x27;&lt;span class=&quot;required-indicator&quot;&gt;*&lt;/span&gt;&#x27;</span> : <span class=string>&#x27;&#x27;</span>&#125;</span></span></span><br><span class=line><span class=string>                &lt;/label&gt;</span></span><br><span class=line><span class=string>                <span class=subst>$&#123;inputHtml&#125;</span></span></span><br><span class=line><span class=string>                &lt;div class=&quot;form-error&quot; id=&quot;<span class=subst>$&#123;id&#125;</span>-error&quot;&gt;&lt;/div&gt;</span></span><br><span class=line><span class=string>            &lt;/div&gt;</span></span><br><span class=line><span class=string>        `</span>;</span><br><span class=line>    &#125;</span><br><span class=line>    </span><br><span class=line>    <span class=comment>// 创建表单组</span></span><br><span class=line>    <span class=keyword>static</span> <span class="title function_">createFormGroup</span>(<span class=attr>title</span>: <span class=built_in>string</span>, <span class=attr>fields</span>: <span class=built_in>string</span>[]): <span class=built_in>string</span> &#123;</span><br><span class=line>        <span class=keyword>return</span> <span class=string>`</span></span><br><span class=line><span class=string>            &lt;fieldset class=&quot;form-group&quot;&gt;</span></span><br><span class=line><span class=string>                &lt;legend class=&quot;form-group-title&quot;&gt;<span class=subst>$&#123;title&#125;</span>&lt;/legend&gt;</span></span><br><span class=line><span class=string>                <span class=subst>$&#123;fields.join(<span class=string>&#x27;&#x27;</span>)&#125;</span></span></span><br><span class=line><span class=string>            &lt;/fieldset&gt;</span></span><br><span class=line><span class=string>        `</span>;</span><br><span class=line>    &#125;</span><br><span class=line>    </span><br><span class=line>    <span class=comment>// 创建表单按钮组</span></span><br><span class=line>    <span class=keyword>static</span> <span class="title function_">createFormActions</span>(<span class=attr>actions</span>: <span class="title class_">Array</span>&lt;&#123;</span><br><span class=line>        <span class=attr>type</span>: <span class=string>&#x27;submit&#x27;</span> | <span class=string>&#x27;button&#x27;</span> | <span class=string>&#x27;reset&#x27;</span>,</span><br><span class=line>        <span class=attr>label</span>: <span class=built_in>string</span>,</span><br><span class=line>        variant?: <span class=string>&#x27;primary&#x27;</span> | <span class=string>&#x27;secondary&#x27;</span> | <span class=string>&#x27;danger&#x27;</span>,</span><br><span class=line>        disabled?: <span class=built_in>boolean</span>,</span><br><span class=line>        onclick?: <span class=built_in>string</span></span><br><span class=line>    &#125;&gt;): <span class=built_in>string</span> &#123;</span><br><span class=line>        <span class=keyword>const</span> buttons = actions.<span class="title function_">map</span>(<span class=function><span class=params>action</span> =&gt;</span> <span class=string>`</span></span><br><span class=line><span class=string>            &lt;button </span></span><br><span class=line><span class=string>                type=&quot;<span class=subst>$&#123;action.<span class=keyword>type</span>&#125;</span>&quot;</span></span><br><span class=line><span class=string>                class=&quot;form-button <span class=subst>$&#123;action.variant || <span class=string>&#x27;secondary&#x27;</span>&#125;</span>&quot;</span></span><br><span class=line><span class=string>                <span class=subst>$&#123;action.disabled ? <span class=string>&#x27;disabled&#x27;</span> : <span class=string>&#x27;&#x27;</span>&#125;</span></span></span><br><span class=line><span class=string>                <span class=subst>$&#123;action.onclick ? <span class=string>`onclick=&quot;<span class=subst>$&#123;action.onclick&#125;</span>&quot;`</span> : <span class=string>&#x27;&#x27;</span>&#125;</span></span></span><br><span class=line><span class=string>            &gt;</span></span><br><span class=line><span class=string>                <span class=subst>$&#123;action.label&#125;</span></span></span><br><span class=line><span class=string>            &lt;/button&gt;</span></span><br><span class=line><span class=string>        `</span>).<span class="title function_">join</span>(<span class=string>&#x27;&#x27;</span>);</span><br><span class=line>        </span><br><span class=line>        <span class=keyword>return</span> <span class=string>`</span></span><br><span class=line><span class=string>            &lt;div class=&quot;form-actions&quot;&gt;</span></span><br><span class=line><span class=string>                <span class=subst>$&#123;buttons&#125;</span></span></span><br><span class=line><span class=string>            &lt;/div&gt;</span></span><br><span class=line><span class=string>        `</span>;</span><br><span class=line>    &#125;</span><br><span class=line>    </span><br><span class=line>    <span class=comment>// 表单验证JavaScript</span></span><br><span class=line>    <span class=keyword>static</span> <span class="title function_">getFormValidationScript</span>(): <span class=built_in>string</span> &#123;</span><br><span class=line>        <span class=keyword>return</span> <span class=string>`</span></span><br><span class=line><span class=string>            function validateForm(formId) &#123;</span></span><br><span class=line><span class=string>                const form = document.getElementById(formId);</span></span><br><span class=line><span class=string>                const fields = form.querySelectorAll(&#x27;.form-input, .form-select, .form-textarea&#x27;);</span></span><br><span class=line><span class=string>                let isValid = true;</span></span><br><span class=line><span class=string>                </span></span><br><span class=line><span class=string>                fields.forEach(field =&gt; &#123;</span></span><br><span class=line><span class=string>                    const error = validateField(field);</span></span><br><span class=line><span class=string>                    if (error) &#123;</span></span><br><span class=line><span class=string>                        showFieldError(field.id, error);</span></span><br><span class=line><span class=string>                        isValid = false;</span></span><br><span class=line><span class=string>                    &#125; else &#123;</span></span><br><span class=line><span class=string>                        clearFieldError(field.id);</span></span><br><span class=line><span class=string>                    &#125;</span></span><br><span class=line><span class=string>                &#125;);</span></span><br><span class=line><span class=string>                </span></span><br><span class=line><span class=string>                return isValid;</span></span><br><span class=line><span class=string>            &#125;</span></span><br><span class=line><span class=string>            </span></span><br><span class=line><span class=string>            function validateField(field) &#123;</span></span><br><span class=line><span class=string>                const value = field.value.trim();</span></span><br><span class=line><span class=string>                const type = field.type;</span></span><br><span class=line><span class=string>                </span></span><br><span class=line><span class=string>                // 必填验证</span></span><br><span class=line><span class=string>                if (field.required &amp;&amp; !value) &#123;</span></span><br><span class=line><span class=string>                    return &#x27;此字段为必填项&#x27;;</span></span><br><span class=line><span class=string>                &#125;</span></span><br><span class=line><span class=string>                </span></span><br><span class=line><span class=string>                // 邮箱验证</span></span><br><span class=line><span class=string>                if (type === &#x27;email&#x27; &amp;&amp; value &amp;&amp; !/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(value)) &#123;</span></span><br><span class=line><span class=string>                    return &#x27;请输入有效的邮箱地址&#x27;;</span></span><br><span class=line><span class=string>                &#125;</span></span><br><span class=line><span class=string>                </span></span><br><span class=line><span class=string>                // 长度验证</span></span><br><span class=line><span class=string>                if (field.minLength &amp;&amp; value.length &lt; field.minLength) &#123;</span></span><br><span class=line><span class=string>                    return \`最少需要 \$&#123;field.minLength&#125; 个字符\`;</span></span><br><span class=line><span class=string>                &#125;</span></span><br><span class=line><span class=string>                </span></span><br><span class=line><span class=string>                if (field.maxLength &amp;&amp; value.length &gt; field.maxLength) &#123;</span></span><br><span class=line><span class=string>                    return \`最多允许 \$&#123;field.maxLength&#125; 个字符\`;</span></span><br><span class=line><span class=string>                &#125;</span></span><br><span class=line><span class=string>                </span></span><br><span class=line><span class=string>                // 数字范围验证</span></span><br><span class=line><span class=string>                if (type === &#x27;number&#x27; &amp;&amp; value) &#123;</span></span><br><span class=line><span class=string>                    const num = parseFloat(value);</span></span><br><span class=line><span class=string>                    if (field.min &amp;&amp; num &lt; field.min) &#123;</span></span><br><span class=line><span class=string>                        return \`值不能小于 \$&#123;field.min&#125;\`;</span></span><br><span class=line><span class=string>                    &#125;</span></span><br><span class=line><span class=string>                    if (field.max &amp;&amp; num &gt; field.max) &#123;</span></span><br><span class=line><span class=string>                        return \`值不能大于 \$&#123;field.max&#125;\`;</span></span><br><span class=line><span class=string>                    &#125;</span></span><br><span class=line><span class=string>                &#125;</span></span><br><span class=line><span class=string>                </span></span><br><span class=line><span class=string>                return null;</span></span><br><span class=line><span class=string>            &#125;</span></span><br><span class=line><span class=string>            </span></span><br><span class=line><span class=string>            function showFieldError(fieldId, message) &#123;</span></span><br><span class=line><span class=string>                const errorElement = document.getElementById(fieldId + &#x27;-error&#x27;);</span></span><br><span class=line><span class=string>                if (errorElement) &#123;</span></span><br><span class=line><span class=string>                    errorElement.textContent = message;</span></span><br><span class=line><span class=string>                    errorElement.style.display = &#x27;block&#x27;;</span></span><br><span class=line><span class=string>                &#125;</span></span><br><span class=line><span class=string>                </span></span><br><span class=line><span class=string>                const field = document.getElementById(fieldId);</span></span><br><span class=line><span class=string>                if (field) &#123;</span></span><br><span class=line><span class=string>                    field.classList.add(&#x27;error&#x27;);</span></span><br><span class=line><span class=string>                &#125;</span></span><br><span class=line><span class=string>            &#125;</span></span><br><span class=line><span class=string>            </span></span><br><span class=line><span class=string>            function clearFieldError(fieldId) &#123;</span></span><br><span class=line><span class=string>                const errorElement = document.getElementById(fieldId + &#x27;-error&#x27;);</span></span><br><span class=line><span class=string>                if (errorElement) &#123;</span></span><br><span class=line><span class=string>                    errorElement.style.display = &#x27;none&#x27;;</span></span><br><span class=line><span class=string>                &#125;</span></span><br><span class=line><span class=string>                </span></span><br><span class=line><span class=string>                const field = document.getElementById(fieldId);</span></span><br><span class=line><span class=string>                if (field) &#123;</span></span><br><span class=line><span class=string>                    field.classList.remove(&#x27;error&#x27;);</span></span><br><span class=line><span class=string>                &#125;</span></span><br><span class=line><span class=string>            &#125;</span></span><br><span class=line><span class=string>            </span></span><br><span class=line><span class=string>            // 实时验证</span></span><br><span class=line><span class=string>            document.addEventListener(&#x27;DOMContentLoaded&#x27;, function() &#123;</span></span><br><span class=line><span class=string>                const fields = document.querySelectorAll(&#x27;.form-input, .form-select, .form-textarea&#x27;);</span></span><br><span class=line><span class=string>                fields.forEach(field =&gt; &#123;</span></span><br><span class=line><span class=string>                    field.addEventListener(&#x27;blur&#x27;, function() &#123;</span></span><br><span class=line><span class=string>                        const error = validateField(this);</span></span><br><span class=line><span class=string>                        if (error) &#123;</span></span><br><span class=line><span class=string>                            showFieldError(this.id, error);</span></span><br><span class=line><span class=string>                        &#125; else &#123;</span></span><br><span class=line><span class=string>                            clearFieldError(this.id);</span></span><br><span class=line><span class=string>                        &#125;</span></span><br><span class=line><span class=string>                    &#125;);</span></span><br><span class=line><span class=string>                    </span></span><br><span class=line><span class=string>                    field.addEventListener(&#x27;input&#x27;, function() &#123;</span></span><br><span class=line><span class=string>                        if (this.classList.contains(&#x27;error&#x27;)) &#123;</span></span><br><span class=line><span class=string>                            const error = validateField(this);</span></span><br><span class=line><span class=string>                            if (!error) &#123;</span></span><br><span class=line><span class=string>                                clearFieldError(this.id);</span></span><br><span class=line><span class=string>                            &#125;</span></span><br><span class=line><span class=string>                        &#125;</span></span><br><span class=line><span class=string>                    &#125;);</span></span><br><span class=line><span class=string>                &#125;);</span></span><br><span class=line><span class=string>            &#125;);</span></span><br><span class=line><span class=string>        `</span>;</span><br><span class=line>    &#125;</span><br><span class=line>    </span><br><span class=line>    <span class=comment>// 获取表单CSS样式</span></span><br><span class=line>    <span class=keyword>static</span> <span class="title function_">getFormCSS</span>(): <span class=built_in>string</span> &#123;</span><br><span class=line>        <span class=keyword>return</span> <span class=string>`</span></span><br><span class=line><span class=string>            .form-field &#123;</span></span><br><span class=line><span class=string>                margin-bottom: <span class=subst>$&#123;LayoutManager.SPACING.lg&#125;</span>;</span></span><br><span class=line><span class=string>            &#125;</span></span><br><span class=line><span class=string>            </span></span><br><span class=line><span class=string>            .form-label &#123;</span></span><br><span class=line><span class=string>                display: block;</span></span><br><span class=line><span class=string>                margin-bottom: <span class=subst>$&#123;LayoutManager.SPACING.sm&#125;</span>;</span></span><br><span class=line><span class=string>                font-weight: 600;</span></span><br><span class=line><span class=string>                color: var(--vscode-foreground);</span></span><br><span class=line><span class=string>            &#125;</span></span><br><span class=line><span class=string>            </span></span><br><span class=line><span class=string>            .required-indicator &#123;</span></span><br><span class=line><span class=string>                color: var(--vscode-errorForeground);</span></span><br><span class=line><span class=string>                margin-left: 2px;</span></span><br><span class=line><span class=string>            &#125;</span></span><br><span class=line><span class=string>            </span></span><br><span class=line><span class=string>            .form-input,</span></span><br><span class=line><span class=string>            .form-select,</span></span><br><span class=line><span class=string>            .form-textarea &#123;</span></span><br><span class=line><span class=string>                width: 100%;</span></span><br><span class=line><span class=string>                padding: <span class=subst>$&#123;LayoutManager.SPACING.sm&#125;</span> <span class=subst>$&#123;LayoutManager.SPACING.md&#125;</span>;</span></span><br><span class=line><span class=string>                border: 1px solid var(--vscode-input-border);</span></span><br><span class=line><span class=string>                border-radius: 2px;</span></span><br><span class=line><span class=string>                background-color: var(--vscode-input-background);</span></span><br><span class=line><span class=string>                color: var(--vscode-input-foreground);</span></span><br><span class=line><span class=string>                font-family: inherit;</span></span><br><span class=line><span class=string>                font-size: inherit;</span></span><br><span class=line><span class=string>                box-sizing: border-box;</span></span><br><span class=line><span class=string>                transition: border-color 0.2s ease;</span></span><br><span class=line><span class=string>            &#125;</span></span><br><span class=line><span class=string>            </span></span><br><span class=line><span class=string>            .form-input:focus,</span></span><br><span class=line><span class=string>            .form-select:focus,</span></span><br><span class=line><span class=string>            .form-textarea:focus &#123;</span></span><br><span class=line><span class=string>                outline: none;</span></span><br><span class=line><span class=string>                border-color: var(--vscode-focusBorder);</span></span><br><span class=line><span class=string>                box-shadow: 0 0 0 1px var(--vscode-focusBorder);</span></span><br><span class=line><span class=string>            &#125;</span></span><br><span class=line><span class=string>            </span></span><br><span class=line><span class=string>            .form-input.error,</span></span><br><span class=line><span class=string>            .form-select.error,</span></span><br><span class=line><span class=string>            .form-textarea.error &#123;</span></span><br><span class=line><span class=string>                border-color: var(--vscode-errorBorder);</span></span><br><span class=line><span class=string>            &#125;</span></span><br><span class=line><span class=string>            </span></span><br><span class=line><span class=string>            .form-input:disabled,</span></span><br><span class=line><span class=string>            .form-select:disabled,</span></span><br><span class=line><span class=string>            .form-textarea:disabled &#123;</span></span><br><span class=line><span class=string>                background-color: var(--vscode-input-background);</span></span><br><span class=line><span class=string>                color: var(--vscode-disabledForeground);</span></span><br><span class=line><span class=string>                cursor: not-allowed;</span></span><br><span class=line><span class=string>                opacity: 0.6;</span></span><br><span class=line><span class=string>            &#125;</span></span><br><span class=line><span class=string>            </span></span><br><span class=line><span class=string>            .form-textarea &#123;</span></span><br><span class=line><span class=string>                resize: vertical;</span></span><br><span class=line><span class=string>                min-height: 80px;</span></span><br><span class=line><span class=string>            &#125;</span></span><br><span class=line><span class=string>            </span></span><br><span class=line><span class=string>            .form-error &#123;</span></span><br><span class=line><span class=string>                display: none;</span></span><br><span class=line><span class=string>                margin-top: <span class=subst>$&#123;LayoutManager.SPACING.sm&#125;</span>;</span></span><br><span class=line><span class=string>                font-size: 12px;</span></span><br><span class=line><span class=string>                color: var(--vscode-errorForeground);</span></span><br><span class=line><span class=string>            &#125;</span></span><br><span class=line><span class=string>            </span></span><br><span class=line><span class=string>            .form-group &#123;</span></span><br><span class=line><span class=string>                border: 1px solid var(--vscode-panel-border);</span></span><br><span class=line><span class=string>                border-radius: 4px;</span></span><br><span class=line><span class=string>                padding: <span class=subst>$&#123;LayoutManager.SPACING.lg&#125;</span>;</span></span><br><span class=line><span class=string>                margin-bottom: <span class=subst>$&#123;LayoutManager.SPACING.xl&#125;</span>;</span></span><br><span class=line><span class=string>            &#125;</span></span><br><span class=line><span class=string>            </span></span><br><span class=line><span class=string>            .form-group-title &#123;</span></span><br><span class=line><span class=string>                font-size: 16px;</span></span><br><span class=line><span class=string>                font-weight: bold;</span></span><br><span class=line><span class=string>                color: var(--vscode-textLink-foreground);</span></span><br><span class=line><span class=string>                margin-bottom: <span class=subst>$&#123;LayoutManager.SPACING.lg&#125;</span>;</span></span><br><span class=line><span class=string>                padding: 0 <span class=subst>$&#123;LayoutManager.SPACING.sm&#125;</span>;</span></span><br><span class=line><span class=string>            &#125;</span></span><br><span class=line><span class=string>            </span></span><br><span class=line><span class=string>            .form-actions &#123;</span></span><br><span class=line><span class=string>                display: flex;</span></span><br><span class=line><span class=string>                gap: <span class=subst>$&#123;LayoutManager.SPACING.md&#125;</span>;</span></span><br><span class=line><span class=string>                justify-content: flex-end;</span></span><br><span class=line><span class=string>                margin-top: <span class=subst>$&#123;LayoutManager.SPACING.xl&#125;</span>;</span></span><br><span class=line><span class=string>                padding-top: <span class=subst>$&#123;LayoutManager.SPACING.lg&#125;</span>;</span></span><br><span class=line><span class=string>                border-top: 1px solid var(--vscode-panel-border);</span></span><br><span class=line><span class=string>            &#125;</span></span><br><span class=line><span class=string>            </span></span><br><span class=line><span class=string>            .form-button &#123;</span></span><br><span class=line><span class=string>                padding: <span class=subst>$&#123;LayoutManager.SPACING.sm&#125;</span> <span class=subst>$&#123;LayoutManager.SPACING.lg&#125;</span>;</span></span><br><span class=line><span class=string>                border: none;</span></span><br><span class=line><span class=string>                border-radius: 2px;</span></span><br><span class=line><span class=string>                cursor: pointer;</span></span><br><span class=line><span class=string>                font-family: inherit;</span></span><br><span class=line><span class=string>                font-size: inherit;</span></span><br><span class=line><span class=string>                font-weight: 500;</span></span><br><span class=line><span class=string>                transition: background-color 0.2s ease;</span></span><br><span class=line><span class=string>            &#125;</span></span><br><span class=line><span class=string>            </span></span><br><span class=line><span class=string>            .form-button.primary &#123;</span></span><br><span class=line><span class=string>                background-color: var(--vscode-button-background);</span></span><br><span class=line><span class=string>                color: var(--vscode-button-foreground);</span></span><br><span class=line><span class=string>            &#125;</span></span><br><span class=line><span class=string>            </span></span><br><span class=line><span class=string>            .form-button.primary:hover &#123;</span></span><br><span class=line><span class=string>                background-color: var(--vscode-button-hoverBackground);</span></span><br><span class=line><span class=string>            &#125;</span></span><br><span class=line><span class=string>            </span></span><br><span class=line><span class=string>            .form-button.secondary &#123;</span></span><br><span class=line><span class=string>                background-color: var(--vscode-button-secondaryBackground);</span></span><br><span class=line><span class=string>                color: var(--vscode-button-secondaryForeground);</span></span><br><span class=line><span class=string>            &#125;</span></span><br><span class=line><span class=string>            </span></span><br><span class=line><span class=string>            .form-button.secondary:hover &#123;</span></span><br><span class=line><span class=string>                background-color: var(--vscode-button-secondaryHoverBackground);</span></span><br><span class=line><span class=string>            &#125;</span></span><br><span class=line><span class=string>            </span></span><br><span class=line><span class=string>            .form-button.danger &#123;</span></span><br><span class=line><span class=string>                background-color: var(--vscode-errorBadge-background);</span></span><br><span class=line><span class=string>                color: var(--vscode-errorBadge-foreground);</span></span><br><span class=line><span class=string>            &#125;</span></span><br><span class=line><span class=string>            </span></span><br><span class=line><span class=string>            .form-button.danger:hover &#123;</span></span><br><span class=line><span class=string>                opacity: 0.9;</span></span><br><span class=line><span class=string>            &#125;</span></span><br><span class=line><span class=string>            </span></span><br><span class=line><span class=string>            .form-button:disabled &#123;</span></span><br><span class=line><span class=string>                background-color: var(--vscode-button-secondaryBackground);</span></span><br><span class=line><span class=string>                color: var(--vscode-disabledForeground);</span></span><br><span class=line><span class=string>                cursor: not-allowed;</span></span><br><span class=line><span class=string>                opacity: 0.6;</span></span><br><span class=line><span class=string>            &#125;</span></span><br><span class=line><span class=string>        `</span>;</span><br><span class=line>    &#125;</span><br><span class=line>&#125;</span><br></pre></td></tr></table></figure><h3 id=2-3-状态和反馈设计><a href=#2-3-状态和反馈设计 class=headerlink title="2.3 状态和反馈设计"></a>2.3 状态和反馈设计</h3><figure class="highlight typescript"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br><span class=line>23</span><br><span class=line>24</span><br><span class=line>25</span><br><span class=line>26</span><br><span class=line>27</span><br><span class=line>28</span><br><span class=line>29</span><br><span class=line>30</span><br><span class=line>31</span><br><span class=line>32</span><br><span class=line>33</span><br><span class=line>34</span><br><span class=line>35</span><br><span class=line>36</span><br><span class=line>37</span><br><span class=line>38</span><br><span class=line>39</span><br><span class=line>40</span><br><span class=line>41</span><br><span class=line>42</span><br><span class=line>43</span><br><span class=line>44</span><br><span class=line>45</span><br><span class=line>46</span><br><span class=line>47</span><br><span class=line>48</span><br><span class=line>49</span><br><span class=line>50</span><br><span class=line>51</span><br><span class=line>52</span><br><span class=line>53</span><br><span class=line>54</span><br><span class=line>55</span><br><span class=line>56</span><br><span class=line>57</span><br><span class=line>58</span><br><span class=line>59</span><br><span class=line>60</span><br><span class=line>61</span><br><span class=line>62</span><br><span class=line>63</span><br><span class=line>64</span><br><span class=line>65</span><br><span class=line>66</span><br><span class=line>67</span><br><span class=line>68</span><br><span class=line>69</span><br><span class=line>70</span><br><span class=line>71</span><br><span class=line>72</span><br><span class=line>73</span><br><span class=line>74</span><br><span class=line>75</span><br><span class=line>76</span><br><span class=line>77</span><br><span class=line>78</span><br><span class=line>79</span><br><span class=line>80</span><br><span class=line>81</span><br><span class=line>82</span><br><span class=line>83</span><br><span class=line>84</span><br><span class=line>85</span><br><span class=line>86</span><br><span class=line>87</span><br><span class=line>88</span><br><span class=line>89</span><br><span class=line>90</span><br><span class=line>91</span><br><span class=line>92</span><br><span class=line>93</span><br><span class=line>94</span><br><span class=line>95</span><br><span class=line>96</span><br><span class=line>97</span><br><span class=line>98</span><br><span class=line>99</span><br><span class=line>100</span><br><span class=line>101</span><br><span class=line>102</span><br><span class=line>103</span><br><span class=line>104</span><br><span class=line>105</span><br><span class=line>106</span><br><span class=line>107</span><br><span class=line>108</span><br><span class=line>109</span><br><span class=line>110</span><br><span class=line>111</span><br><span class=line>112</span><br><span class=line>113</span><br><span class=line>114</span><br><span class=line>115</span><br><span class=line>116</span><br><span class=line>117</span><br><span class=line>118</span><br><span class=line>119</span><br><span class=line>120</span><br><span class=line>121</span><br><span class=line>122</span><br><span class=line>123</span><br><span class=line>124</span><br><span class=line>125</span><br><span class=line>126</span><br><span class=line>127</span><br><span class=line>128</span><br><span class=line>129</span><br><span class=line>130</span><br><span class=line>131</span><br><span class=line>132</span><br><span class=line>133</span><br><span class=line>134</span><br><span class=line>135</span><br><span class=line>136</span><br><span class=line>137</span><br><span class=line>138</span><br><span class=line>139</span><br><span class=line>140</span><br><span class=line>141</span><br><span class=line>142</span><br><span class=line>143</span><br><span class=line>144</span><br><span class=line>145</span><br><span class=line>146</span><br><span class=line>147</span><br><span class=line>148</span><br><span class=line>149</span><br><span class=line>150</span><br><span class=line>151</span><br><span class=line>152</span><br><span class=line>153</span><br><span class=line>154</span><br><span class=line>155</span><br><span class=line>156</span><br><span class=line>157</span><br><span class=line>158</span><br><span class=line>159</span><br><span class=line>160</span><br><span class=line>161</span><br><span class=line>162</span><br><span class=line>163</span><br><span class=line>164</span><br><span class=line>165</span><br><span class=line>166</span><br><span class=line>167</span><br><span class=line>168</span><br><span class=line>169</span><br><span class=line>170</span><br><span class=line>171</span><br><span class=line>172</span><br><span class=line>173</span><br><span class=line>174</span><br><span class=line>175</span><br><span class=line>176</span><br><span class=line>177</span><br><span class=line>178</span><br><span class=line>179</span><br><span class=line>180</span><br><span class=line>181</span><br><span class=line>182</span><br><span class=line>183</span><br><span class=line>184</span><br><span class=line>185</span><br><span class=line>186</span><br><span class=line>187</span><br><span class=line>188</span><br><span class=line>189</span><br><span class=line>190</span><br><span class=line>191</span><br><span class=line>192</span><br><span class=line>193</span><br><span class=line>194</span><br><span class=line>195</span><br><span class=line>196</span><br><span class=line>197</span><br><span class=line>198</span><br><span class=line>199</span><br><span class=line>200</span><br><span class=line>201</span><br><span class=line>202</span><br><span class=line>203</span><br><span class=line>204</span><br><span class=line>205</span><br><span class=line>206</span><br><span class=line>207</span><br><span class=line>208</span><br><span class=line>209</span><br><span class=line>210</span><br><span class=line>211</span><br><span class=line>212</span><br><span class=line>213</span><br><span class=line>214</span><br><span class=line>215</span><br><span class=line>216</span><br><span class=line>217</span><br><span class=line>218</span><br><span class=line>219</span><br><span class=line>220</span><br><span class=line>221</span><br><span class=line>222</span><br><span class=line>223</span><br><span class=line>224</span><br><span class=line>225</span><br><span class=line>226</span><br><span class=line>227</span><br><span class=line>228</span><br><span class=line>229</span><br><span class=line>230</span><br><span class=line>231</span><br><span class=line>232</span><br><span class=line>233</span><br><span class=line>234</span><br><span class=line>235</span><br><span class=line>236</span><br><span class=line>237</span><br><span class=line>238</span><br><span class=line>239</span><br><span class=line>240</span><br><span class=line>241</span><br><span class=line>242</span><br><span class=line>243</span><br><span class=line>244</span><br><span class=line>245</span><br><span class=line>246</span><br><span class=line>247</span><br><span class=line>248</span><br><span class=line>249</span><br><span class=line>250</span><br><span class=line>251</span><br><span class=line>252</span><br><span class=line>253</span><br><span class=line>254</span><br><span class=line>255</span><br><span class=line>256</span><br><span class=line>257</span><br><span class=line>258</span><br><span class=line>259</span><br><span class=line>260</span><br><span class=line>261</span><br><span class=line>262</span><br><span class=line>263</span><br><span class=line>264</span><br><span class=line>265</span><br><span class=line>266</span><br><span class=line>267</span><br><span class=line>268</span><br><span class=line>269</span><br><span class=line>270</span><br><span class=line>271</span><br><span class=line>272</span><br><span class=line>273</span><br><span class=line>274</span><br><span class=line>275</span><br><span class=line>276</span><br><span class=line>277</span><br><span class=line>278</span><br><span class=line>279</span><br><span class=line>280</span><br><span class=line>281</span><br><span class=line>282</span><br><span class=line>283</span><br><span class=line>284</span><br><span class=line>285</span><br><span class=line>286</span><br><span class=line>287</span><br><span class=line>288</span><br><span class=line>289</span><br><span class=line>290</span><br><span class=line>291</span><br><span class=line>292</span><br><span class=line>293</span><br><span class=line>294</span><br><span class=line>295</span><br><span class=line>296</span><br><span class=line>297</span><br><span class=line>298</span><br><span class=line>299</span><br><span class=line>300</span><br><span class=line>301</span><br><span class=line>302</span><br><span class=line>303</span><br><span class=line>304</span><br><span class=line>305</span><br><span class=line>306</span><br><span class=line>307</span><br><span class=line>308</span><br><span class=line>309</span><br><span class=line>310</span><br><span class=line>311</span><br><span class=line>312</span><br><span class=line>313</span><br><span class=line>314</span><br><span class=line>315</span><br><span class=line>316</span><br><span class=line>317</span><br><span class=line>318</span><br><span class=line>319</span><br><span class=line>320</span><br><span class=line>321</span><br><span class=line>322</span><br><span class=line>323</span><br><span class=line>324</span><br><span class=line>325</span><br><span class=line>326</span><br><span class=line>327</span><br><span class=line>328</span><br><span class=line>329</span><br><span class=line>330</span><br><span class=line>331</span><br><span class=line>332</span><br><span class=line>333</span><br><span class=line>334</span><br><span class=line>335</span><br><span class=line>336</span><br><span class=line>337</span><br><span class=line>338</span><br><span class=line>339</span><br><span class=line>340</span><br><span class=line>341</span><br><span class=line>342</span><br><span class=line>343</span><br><span class=line>344</span><br><span class=line>345</span><br><span class=line>346</span><br><span class=line>347</span><br><span class=line>348</span><br><span class=line>349</span><br><span class=line>350</span><br><span class=line>351</span><br><span class=line>352</span><br><span class=line>353</span><br><span class=line>354</span><br><span class=line>355</span><br><span class=line>356</span><br><span class=line>357</span><br><span class=line>358</span><br><span class=line>359</span><br><span class=line>360</span><br><span class=line>361</span><br><span class=line>362</span><br><span class=line>363</span><br><span class=line>364</span><br><span class=line>365</span><br><span class=line>366</span><br><span class=line>367</span><br><span class=line>368</span><br><span class=line>369</span><br><span class=line>370</span><br><span class=line>371</span><br><span class=line>372</span><br><span class=line>373</span><br><span class=line>374</span><br><span class=line>375</span><br><span class=line>376</span><br><span class=line>377</span><br><span class=line>378</span><br><span class=line>379</span><br><span class=line>380</span><br><span class=line>381</span><br><span class=line>382</span><br><span class=line>383</span><br><span class=line>384</span><br><span class=line>385</span><br><span class=line>386</span><br><span class=line>387</span><br><span class=line>388</span><br><span class=line>389</span><br><span class=line>390</span><br><span class=line>391</span><br><span class=line>392</span><br><span class=line>393</span><br><span class=line>394</span><br><span class=line>395</span><br><span class=line>396</span><br><span class=line>397</span><br><span class=line>398</span><br><span class=line>399</span><br><span class=line>400</span><br><span class=line>401</span><br><span class=line>402</span><br><span class=line>403</span><br><span class=line>404</span><br><span class=line>405</span><br><span class=line>406</span><br><span class=line>407</span><br><span class=line>408</span><br><span class=line>409</span><br><span class=line>410</span><br><span class=line>411</span><br><span class=line>412</span><br><span class=line>413</span><br><span class=line>414</span><br><span class=line>415</span><br><span class=line>416</span><br><span class=line>417</span><br><span class=line>418</span><br><span class=line>419</span><br><span class=line>420</span><br><span class=line>421</span><br><span class=line>422</span><br><span class=line>423</span><br><span class=line>424</span><br><span class=line>425</span><br><span class=line>426</span><br><span class=line>427</span><br><span class=line>428</span><br><span class=line>429</span><br><span class=line>430</span><br><span class=line>431</span><br></pre></td><td class=code><pre><span class=line><span class=comment>// src/feedbackManager.ts</span></span><br><span class=line><span class=keyword>export</span> <span class=keyword>class</span> <span class="title class_">FeedbackManager</span> &#123;</span><br><span class=line>    </span><br><span class=line>    <span class=comment>// 创建加载状态指示器</span></span><br><span class=line>    <span class=keyword>static</span> <span class="title function_">createLoadingIndicator</span>(<span class=attr>type</span>: <span class=string>&#x27;spinner&#x27;</span> | <span class=string>&#x27;progress&#x27;</span> | <span class=string>&#x27;skeleton&#x27;</span>): <span class=built_in>string</span> &#123;</span><br><span class=line>        <span class=keyword>switch</span> (<span class=keyword>type</span>) &#123;</span><br><span class=line>            <span class=keyword>case</span> <span class=string>&#x27;spinner&#x27;</span>:</span><br><span class=line>                <span class=keyword>return</span> <span class=string>`</span></span><br><span class=line><span class=string>                    &lt;div class=&quot;loading-spinner&quot; role=&quot;status&quot; aria-label=&quot;加载中&quot;&gt;</span></span><br><span class=line><span class=string>                        &lt;div class=&quot;spinner&quot;&gt;&lt;/div&gt;</span></span><br><span class=line><span class=string>                        &lt;span class=&quot;loading-text&quot;&gt;加载中...&lt;/span&gt;</span></span><br><span class=line><span class=string>                    &lt;/div&gt;</span></span><br><span class=line><span class=string>                `</span>;</span><br><span class=line>                </span><br><span class=line>            <span class=keyword>case</span> <span class=string>&#x27;progress&#x27;</span>:</span><br><span class=line>                <span class=keyword>return</span> <span class=string>`</span></span><br><span class=line><span class=string>                    &lt;div class=&quot;loading-progress&quot; role=&quot;progressbar&quot; aria-label=&quot;加载进度&quot;&gt;</span></span><br><span class=line><span class=string>                        &lt;div class=&quot;progress-bar&quot;&gt;</span></span><br><span class=line><span class=string>                            &lt;div class=&quot;progress-fill&quot; id=&quot;progressFill&quot;&gt;&lt;/div&gt;</span></span><br><span class=line><span class=string>                        &lt;/div&gt;</span></span><br><span class=line><span class=string>                        &lt;div class=&quot;progress-text&quot; id=&quot;progressText&quot;&gt;0%&lt;/div&gt;</span></span><br><span class=line><span class=string>                    &lt;/div&gt;</span></span><br><span class=line><span class=string>                `</span>;</span><br><span class=line>                </span><br><span class=line>            <span class=keyword>case</span> <span class=string>&#x27;skeleton&#x27;</span>:</span><br><span class=line>                <span class=keyword>return</span> <span class=string>`</span></span><br><span class=line><span class=string>                    &lt;div class=&quot;loading-skeleton&quot; aria-label=&quot;加载中&quot;&gt;</span></span><br><span class=line><span class=string>                        &lt;div class=&quot;skeleton-line short&quot;&gt;&lt;/div&gt;</span></span><br><span class=line><span class=string>                        &lt;div class=&quot;skeleton-line medium&quot;&gt;&lt;/div&gt;</span></span><br><span class=line><span class=string>                        &lt;div class=&quot;skeleton-line long&quot;&gt;&lt;/div&gt;</span></span><br><span class=line><span class=string>                        &lt;div class=&quot;skeleton-line medium&quot;&gt;&lt;/div&gt;</span></span><br><span class=line><span class=string>                    &lt;/div&gt;</span></span><br><span class=line><span class=string>                `</span>;</span><br><span class=line>        &#125;</span><br><span class=line>    &#125;</span><br><span class=line>    </span><br><span class=line>    <span class=comment>// 创建状态徽章</span></span><br><span class=line>    <span class=keyword>static</span> <span class="title function_">createStatusBadge</span>(</span><br><span class=line>        <span class=attr>status</span>: <span class=string>&#x27;success&#x27;</span> | <span class=string>&#x27;warning&#x27;</span> | <span class=string>&#x27;error&#x27;</span> | <span class=string>&#x27;info&#x27;</span> | <span class=string>&#x27;pending&#x27;</span>,</span><br><span class=line>        <span class=attr>text</span>: <span class=built_in>string</span></span><br><span class=line>    ): <span class=built_in>string</span> &#123;</span><br><span class=line>        <span class=keyword>const</span> iconMap = &#123;</span><br><span class=line>            <span class=attr>success</span>: <span class=string>&#x27;check&#x27;</span>,</span><br><span class=line>            <span class=attr>warning</span>: <span class=string>&#x27;warning&#x27;</span>,</span><br><span class=line>            <span class=attr>error</span>: <span class=string>&#x27;error&#x27;</span>,</span><br><span class=line>            <span class=attr>info</span>: <span class=string>&#x27;info&#x27;</span>,</span><br><span class=line>            <span class=attr>pending</span>: <span class=string>&#x27;clock&#x27;</span></span><br><span class=line>        &#125;;</span><br><span class=line>        </span><br><span class=line>        <span class=keyword>return</span> <span class=string>`</span></span><br><span class=line><span class=string>            &lt;span class=&quot;status-badge <span class=subst>$&#123;status&#125;</span>&quot; role=&quot;status&quot;&gt;</span></span><br><span class=line><span class=string>                &lt;span class=&quot;status-icon codicon codicon-<span class=subst>$&#123;iconMap[status]&#125;</span>&quot;&gt;&lt;/span&gt;</span></span><br><span class=line><span class=string>                &lt;span class=&quot;status-text&quot;&gt;<span class=subst>$&#123;text&#125;</span>&lt;/span&gt;</span></span><br><span class=line><span class=string>            &lt;/span&gt;</span></span><br><span class=line><span class=string>        `</span>;</span><br><span class=line>    &#125;</span><br><span class=line>    </span><br><span class=line>    <span class=comment>// 创建通知消息</span></span><br><span class=line>    <span class=keyword>static</span> <span class="title function_">createNotification</span>(<span class=attr>options</span>: &#123;</span><br><span class=line>        <span class=attr>type</span>: <span class=string>&#x27;success&#x27;</span> | <span class=string>&#x27;warning&#x27;</span> | <span class=string>&#x27;error&#x27;</span> | <span class=string>&#x27;info&#x27;</span>,</span><br><span class=line>        <span class=attr>title</span>: <span class=built_in>string</span>,</span><br><span class=line>        <span class=attr>message</span>: <span class=built_in>string</span>,</span><br><span class=line>        actions?: <span class="title class_">Array</span>&lt;&#123;<span class=attr>label</span>: <span class=built_in>string</span>, <span class=attr>action</span>: <span class=built_in>string</span>&#125;&gt;,</span><br><span class=line>        dismissible?: <span class=built_in>boolean</span>,</span><br><span class=line>        autoClose?: <span class=built_in>number</span></span><br><span class=line>    &#125;): <span class=built_in>string</span> &#123;</span><br><span class=line>        <span class=keyword>const</span> &#123; <span class=keyword>type</span>, title, message, actions, dismissible = <span class=literal>true</span>, autoClose &#125; = options;</span><br><span class=line>        </span><br><span class=line>        <span class=keyword>const</span> actionsHtml = actions ? actions.<span class="title function_">map</span>(<span class=function><span class=params>action</span> =&gt;</span> </span><br><span class=line>            <span class=string>`&lt;button class=&quot;notification-action&quot; data-action=&quot;<span class=subst>$&#123;action.action&#125;</span>&quot;&gt;<span class=subst>$&#123;action.label&#125;</span>&lt;/button&gt;`</span></span><br><span class=line>        ).<span class="title function_">join</span>(<span class=string>&#x27;&#x27;</span>) : <span class=string>&#x27;&#x27;</span>;</span><br><span class=line>        </span><br><span class=line>        <span class=keyword>const</span> dismissButton = dismissible </span><br><span class=line>            ? <span class=string>&#x27;&lt;button class=&quot;notification-dismiss&quot; aria-label=&quot;关闭&quot; onclick=&quot;this.parentElement.remove()&quot;&gt;×&lt;/button&gt;&#x27;</span></span><br><span class=line>            : <span class=string>&#x27;&#x27;</span>;</span><br><span class=line>        </span><br><span class=line>        <span class=keyword>return</span> <span class=string>`</span></span><br><span class=line><span class=string>            &lt;div class=&quot;notification <span class=subst>$&#123;<span class=keyword>type</span>&#125;</span>&quot; role=&quot;alert&quot; <span class=subst>$&#123;autoClose ? <span class=string>`data-auto-close=&quot;<span class=subst>$&#123;autoClose&#125;</span>&quot;`</span> : <span class=string>&#x27;&#x27;</span>&#125;</span>&gt;</span></span><br><span class=line><span class=string>                &lt;div class=&quot;notification-content&quot;&gt;</span></span><br><span class=line><span class=string>                    &lt;div class=&quot;notification-header&quot;&gt;</span></span><br><span class=line><span class=string>                        &lt;span class=&quot;notification-icon codicon codicon-<span class=subst>$&#123;IconManager.ICONS[<span class=keyword>type</span> === <span class=string>&#x27;success&#x27;</span> ? <span class=string>&#x27;check&#x27;</span> : <span class=keyword>type</span>]&#125;</span>&quot;&gt;&lt;/span&gt;</span></span><br><span class=line><span class=string>                        &lt;strong class=&quot;notification-title&quot;&gt;<span class=subst>$&#123;title&#125;</span>&lt;/strong&gt;</span></span><br><span class=line><span class=string>                        <span class=subst>$&#123;dismissButton&#125;</span></span></span><br><span class=line><span class=string>                    &lt;/div&gt;</span></span><br><span class=line><span class=string>                    &lt;div class=&quot;notification-message&quot;&gt;<span class=subst>$&#123;message&#125;</span>&lt;/div&gt;</span></span><br><span class=line><span class=string>                    <span class=subst>$&#123;actionsHtml ? <span class=string>`&lt;div class=&quot;notification-actions&quot;&gt;<span class=subst>$&#123;actionsHtml&#125;</span>&lt;/div&gt;`</span> : <span class=string>&#x27;&#x27;</span>&#125;</span></span></span><br><span class=line><span class=string>                &lt;/div&gt;</span></span><br><span class=line><span class=string>            &lt;/div&gt;</span></span><br><span class=line><span class=string>        `</span>;</span><br><span class=line>    &#125;</span><br><span class=line>    </span><br><span class=line>    <span class=comment>// 创建空状态</span></span><br><span class=line>    <span class=keyword>static</span> <span class="title function_">createEmptyState</span>(<span class=attr>options</span>: &#123;</span><br><span class=line>        <span class=attr>icon</span>: <span class=built_in>string</span>,</span><br><span class=line>        <span class=attr>title</span>: <span class=built_in>string</span>,</span><br><span class=line>        <span class=attr>description</span>: <span class=built_in>string</span>,</span><br><span class=line>        action?: &#123;<span class=attr>label</span>: <span class=built_in>string</span>, <span class=attr>onclick</span>: <span class=built_in>string</span>&#125;</span><br><span class=line>    &#125;): <span class=built_in>string</span> &#123;</span><br><span class=line>        <span class=keyword>const</span> actionHtml = options.<span class=property>action</span> </span><br><span class=line>            ? <span class=string>`&lt;button class=&quot;empty-action primary&quot; onclick=&quot;<span class=subst>$&#123;options.action.onclick&#125;</span>&quot;&gt;<span class=subst>$&#123;options.action.label&#125;</span>&lt;/button&gt;`</span></span><br><span class=line>            : <span class=string>&#x27;&#x27;</span>;</span><br><span class=line>        </span><br><span class=line>        <span class=keyword>return</span> <span class=string>`</span></span><br><span class=line><span class=string>            &lt;div class=&quot;empty-state&quot;&gt;</span></span><br><span class=line><span class=string>                &lt;div class=&quot;empty-icon codicon codicon-<span class=subst>$&#123;options.icon&#125;</span>&quot;&gt;&lt;/div&gt;</span></span><br><span class=line><span class=string>                &lt;h3 class=&quot;empty-title&quot;&gt;<span class=subst>$&#123;options.title&#125;</span>&lt;/h3&gt;</span></span><br><span class=line><span class=string>                &lt;p class=&quot;empty-description&quot;&gt;<span class=subst>$&#123;options.description&#125;</span>&lt;/p&gt;</span></span><br><span class=line><span class=string>                <span class=subst>$&#123;actionHtml&#125;</span></span></span><br><span class=line><span class=string>            &lt;/div&gt;</span></span><br><span class=line><span class=string>        `</span>;</span><br><span class=line>    &#125;</span><br><span class=line>    </span><br><span class=line>    <span class=comment>// 获取反馈相关CSS</span></span><br><span class=line>    <span class=keyword>static</span> <span class="title function_">getFeedbackCSS</span>(): <span class=built_in>string</span> &#123;</span><br><span class=line>        <span class=keyword>return</span> <span class=string>`</span></span><br><span class=line><span class=string>            /* 加载指示器 */</span></span><br><span class=line><span class=string>            .loading-spinner &#123;</span></span><br><span class=line><span class=string>                display: flex;</span></span><br><span class=line><span class=string>                flex-direction: column;</span></span><br><span class=line><span class=string>                align-items: center;</span></span><br><span class=line><span class=string>                justify-content: center;</span></span><br><span class=line><span class=string>                padding: <span class=subst>$&#123;LayoutManager.SPACING.xl&#125;</span>;</span></span><br><span class=line><span class=string>            &#125;</span></span><br><span class=line><span class=string>            </span></span><br><span class=line><span class=string>            .spinner &#123;</span></span><br><span class=line><span class=string>                width: 24px;</span></span><br><span class=line><span class=string>                height: 24px;</span></span><br><span class=line><span class=string>                border: 2px solid var(--vscode-progressBar-background);</span></span><br><span class=line><span class=string>                border-top: 2px solid var(--vscode-button-background);</span></span><br><span class=line><span class=string>                border-radius: 50%;</span></span><br><span class=line><span class=string>                animation: spin 1s linear infinite;</span></span><br><span class=line><span class=string>            &#125;</span></span><br><span class=line><span class=string>            </span></span><br><span class=line><span class=string>            @keyframes spin &#123;</span></span><br><span class=line><span class=string>                0% &#123; transform: rotate(0deg); &#125;</span></span><br><span class=line><span class=string>                100% &#123; transform: rotate(360deg); &#125;</span></span><br><span class=line><span class=string>            &#125;</span></span><br><span class=line><span class=string>            </span></span><br><span class=line><span class=string>            .loading-text &#123;</span></span><br><span class=line><span class=string>                margin-top: <span class=subst>$&#123;LayoutManager.SPACING.md&#125;</span>;</span></span><br><span class=line><span class=string>                color: var(--vscode-foreground);</span></span><br><span class=line><span class=string>                font-size: 14px;</span></span><br><span class=line><span class=string>            &#125;</span></span><br><span class=line><span class=string>            </span></span><br><span class=line><span class=string>            .loading-progress &#123;</span></span><br><span class=line><span class=string>                padding: <span class=subst>$&#123;LayoutManager.SPACING.lg&#125;</span>;</span></span><br><span class=line><span class=string>            &#125;</span></span><br><span class=line><span class=string>            </span></span><br><span class=line><span class=string>            .progress-bar &#123;</span></span><br><span class=line><span class=string>                width: 100%;</span></span><br><span class=line><span class=string>                height: 8px;</span></span><br><span class=line><span class=string>                background-color: var(--vscode-progressBar-background);</span></span><br><span class=line><span class=string>                border-radius: 4px;</span></span><br><span class=line><span class=string>                overflow: hidden;</span></span><br><span class=line><span class=string>            &#125;</span></span><br><span class=line><span class=string>            </span></span><br><span class=line><span class=string>            .progress-fill &#123;</span></span><br><span class=line><span class=string>                height: 100%;</span></span><br><span class=line><span class=string>                background-color: var(--vscode-button-background);</span></span><br><span class=line><span class=string>                border-radius: 4px;</span></span><br><span class=line><span class=string>                transition: width 0.3s ease;</span></span><br><span class=line><span class=string>                width: 0%;</span></span><br><span class=line><span class=string>            &#125;</span></span><br><span class=line><span class=string>            </span></span><br><span class=line><span class=string>            .progress-text &#123;</span></span><br><span class=line><span class=string>                text-align: center;</span></span><br><span class=line><span class=string>                margin-top: <span class=subst>$&#123;LayoutManager.SPACING.sm&#125;</span>;</span></span><br><span class=line><span class=string>                color: var(--vscode-foreground);</span></span><br><span class=line><span class=string>                font-size: 12px;</span></span><br><span class=line><span class=string>            &#125;</span></span><br><span class=line><span class=string>            </span></span><br><span class=line><span class=string>            .loading-skeleton .skeleton-line &#123;</span></span><br><span class=line><span class=string>                height: 16px;</span></span><br><span class=line><span class=string>                background: linear-gradient(</span></span><br><span class=line><span class=string>                    90deg, </span></span><br><span class=line><span class=string>                    var(--vscode-sideBar-background) 25%, </span></span><br><span class=line><span class=string>                    var(--vscode-panel-border) 50%, </span></span><br><span class=line><span class=string>                    var(--vscode-sideBar-background) 75%</span></span><br><span class=line><span class=string>                );</span></span><br><span class=line><span class=string>                background-size: 200% 100%;</span></span><br><span class=line><span class=string>                animation: skeleton-loading 2s infinite;</span></span><br><span class=line><span class=string>                border-radius: 2px;</span></span><br><span class=line><span class=string>                margin-bottom: <span class=subst>$&#123;LayoutManager.SPACING.sm&#125;</span>;</span></span><br><span class=line><span class=string>            &#125;</span></span><br><span class=line><span class=string>            </span></span><br><span class=line><span class=string>            .skeleton-line.short &#123; width: 60%; &#125;</span></span><br><span class=line><span class=string>            .skeleton-line.medium &#123; width: 80%; &#125;</span></span><br><span class=line><span class=string>            .skeleton-line.long &#123; width: 100%; &#125;</span></span><br><span class=line><span class=string>            </span></span><br><span class=line><span class=string>            @keyframes skeleton-loading &#123;</span></span><br><span class=line><span class=string>                0% &#123; background-position: 200% 0; &#125;</span></span><br><span class=line><span class=string>                100% &#123; background-position: -200% 0; &#125;</span></span><br><span class=line><span class=string>            &#125;</span></span><br><span class=line><span class=string>            </span></span><br><span class=line><span class=string>            /* 状态徽章 */</span></span><br><span class=line><span class=string>            .status-badge &#123;</span></span><br><span class=line><span class=string>                display: inline-flex;</span></span><br><span class=line><span class=string>                align-items: center;</span></span><br><span class=line><span class=string>                padding: 2px <span class=subst>$&#123;LayoutManager.SPACING.sm&#125;</span>;</span></span><br><span class=line><span class=string>                border-radius: 12px;</span></span><br><span class=line><span class=string>                font-size: 11px;</span></span><br><span class=line><span class=string>                font-weight: 500;</span></span><br><span class=line><span class=string>                text-transform: uppercase;</span></span><br><span class=line><span class=string>                letter-spacing: 0.5px;</span></span><br><span class=line><span class=string>            &#125;</span></span><br><span class=line><span class=string>            </span></span><br><span class=line><span class=string>            .status-badge.success &#123;</span></span><br><span class=line><span class=string>                background-color: rgba(0, 255, 0, 0.1);</span></span><br><span class=line><span class=string>                color: var(--vscode-gitDecoration-addedResourceForeground);</span></span><br><span class=line><span class=string>                border: 1px solid var(--vscode-gitDecoration-addedResourceForeground);</span></span><br><span class=line><span class=string>            &#125;</span></span><br><span class=line><span class=string>            </span></span><br><span class=line><span class=string>            .status-badge.warning &#123;</span></span><br><span class=line><span class=string>                background-color: rgba(255, 165, 0, 0.1);</span></span><br><span class=line><span class=string>                color: var(--vscode-warningForeground);</span></span><br><span class=line><span class=string>                border: 1px solid var(--vscode-warningForeground);</span></span><br><span class=line><span class=string>            &#125;</span></span><br><span class=line><span class=string>            </span></span><br><span class=line><span class=string>            .status-badge.error &#123;</span></span><br><span class=line><span class=string>                background-color: rgba(255, 0, 0, 0.1);</span></span><br><span class=line><span class=string>                color: var(--vscode-errorForeground);</span></span><br><span class=line><span class=string>                border: 1px solid var(--vscode-errorForeground);</span></span><br><span class=line><span class=string>            &#125;</span></span><br><span class=line><span class=string>            </span></span><br><span class=line><span class=string>            .status-badge.info &#123;</span></span><br><span class=line><span class=string>                background-color: rgba(0, 123, 255, 0.1);</span></span><br><span class=line><span class=string>                color: var(--vscode-textLink-foreground);</span></span><br><span class=line><span class=string>                border: 1px solid var(--vscode-textLink-foreground);</span></span><br><span class=line><span class=string>            &#125;</span></span><br><span class=line><span class=string>            </span></span><br><span class=line><span class=string>            .status-badge.pending &#123;</span></span><br><span class=line><span class=string>                background-color: rgba(108, 117, 125, 0.1);</span></span><br><span class=line><span class=string>                color: var(--vscode-disabledForeground);</span></span><br><span class=line><span class=string>                border: 1px solid var(--vscode-disabledForeground);</span></span><br><span class=line><span class=string>            &#125;</span></span><br><span class=line><span class=string>            </span></span><br><span class=line><span class=string>            .status-icon &#123;</span></span><br><span class=line><span class=string>                margin-right: 4px;</span></span><br><span class=line><span class=string>            &#125;</span></span><br><span class=line><span class=string>            </span></span><br><span class=line><span class=string>            /* 通知消息 */</span></span><br><span class=line><span class=string>            .notification &#123;</span></span><br><span class=line><span class=string>                border: 1px solid;</span></span><br><span class=line><span class=string>                border-radius: 4px;</span></span><br><span class=line><span class=string>                margin-bottom: <span class=subst>$&#123;LayoutManager.SPACING.md&#125;</span>;</span></span><br><span class=line><span class=string>                overflow: hidden;</span></span><br><span class=line><span class=string>            &#125;</span></span><br><span class=line><span class=string>            </span></span><br><span class=line><span class=string>            .notification.success &#123;</span></span><br><span class=line><span class=string>                border-color: var(--vscode-gitDecoration-addedResourceForeground);</span></span><br><span class=line><span class=string>                background-color: rgba(0, 255, 0, 0.05);</span></span><br><span class=line><span class=string>            &#125;</span></span><br><span class=line><span class=string>            </span></span><br><span class=line><span class=string>            .notification.warning &#123;</span></span><br><span class=line><span class=string>                border-color: var(--vscode-warningForeground);</span></span><br><span class=line><span class=string>                background-color: rgba(255, 165, 0, 0.05);</span></span><br><span class=line><span class=string>            &#125;</span></span><br><span class=line><span class=string>            </span></span><br><span class=line><span class=string>            .notification.error &#123;</span></span><br><span class=line><span class=string>                border-color: var(--vscode-errorForeground);</span></span><br><span class=line><span class=string>                background-color: rgba(255, 0, 0, 0.05);</span></span><br><span class=line><span class=string>            &#125;</span></span><br><span class=line><span class=string>            </span></span><br><span class=line><span class=string>            .notification.info &#123;</span></span><br><span class=line><span class=string>                border-color: var(--vscode-textLink-foreground);</span></span><br><span class=line><span class=string>                background-color: rgba(0, 123, 255, 0.05);</span></span><br><span class=line><span class=string>            &#125;</span></span><br><span class=line><span class=string>            </span></span><br><span class=line><span class=string>            .notification-content &#123;</span></span><br><span class=line><span class=string>                padding: <span class=subst>$&#123;LayoutManager.SPACING.md&#125;</span>;</span></span><br><span class=line><span class=string>            &#125;</span></span><br><span class=line><span class=string>            </span></span><br><span class=line><span class=string>            .notification-header &#123;</span></span><br><span class=line><span class=string>                display: flex;</span></span><br><span class=line><span class=string>                align-items: center;</span></span><br><span class=line><span class=string>                margin-bottom: <span class=subst>$&#123;LayoutManager.SPACING.sm&#125;</span>;</span></span><br><span class=line><span class=string>            &#125;</span></span><br><span class=line><span class=string>            </span></span><br><span class=line><span class=string>            .notification-icon &#123;</span></span><br><span class=line><span class=string>                margin-right: <span class=subst>$&#123;LayoutManager.SPACING.sm&#125;</span>;</span></span><br><span class=line><span class=string>                font-size: 16px;</span></span><br><span class=line><span class=string>            &#125;</span></span><br><span class=line><span class=string>            </span></span><br><span class=line><span class=string>            .notification-title &#123;</span></span><br><span class=line><span class=string>                flex: 1;</span></span><br><span class=line><span class=string>                font-weight: 600;</span></span><br><span class=line><span class=string>                color: var(--vscode-foreground);</span></span><br><span class=line><span class=string>            &#125;</span></span><br><span class=line><span class=string>            </span></span><br><span class=line><span class=string>            .notification-dismiss &#123;</span></span><br><span class=line><span class=string>                background: none;</span></span><br><span class=line><span class=string>                border: none;</span></span><br><span class=line><span class=string>                color: var(--vscode-foreground);</span></span><br><span class=line><span class=string>                cursor: pointer;</span></span><br><span class=line><span class=string>                font-size: 18px;</span></span><br><span class=line><span class=string>                line-height: 1;</span></span><br><span class=line><span class=string>                padding: 0;</span></span><br><span class=line><span class=string>                margin-left: <span class=subst>$&#123;LayoutManager.SPACING.sm&#125;</span>;</span></span><br><span class=line><span class=string>            &#125;</span></span><br><span class=line><span class=string>            </span></span><br><span class=line><span class=string>            .notification-message &#123;</span></span><br><span class=line><span class=string>                color: var(--vscode-foreground);</span></span><br><span class=line><span class=string>                margin-bottom: <span class=subst>$&#123;LayoutManager.SPACING.sm&#125;</span>;</span></span><br><span class=line><span class=string>            &#125;</span></span><br><span class=line><span class=string>            </span></span><br><span class=line><span class=string>            .notification-actions &#123;</span></span><br><span class=line><span class=string>                display: flex;</span></span><br><span class=line><span class=string>                gap: <span class=subst>$&#123;LayoutManager.SPACING.sm&#125;</span>;</span></span><br><span class=line><span class=string>            &#125;</span></span><br><span class=line><span class=string>            </span></span><br><span class=line><span class=string>            .notification-action &#123;</span></span><br><span class=line><span class=string>                background-color: var(--vscode-button-background);</span></span><br><span class=line><span class=string>                color: var(--vscode-button-foreground);</span></span><br><span class=line><span class=string>                border: none;</span></span><br><span class=line><span class=string>                padding: 4px <span class=subst>$&#123;LayoutManager.SPACING.md&#125;</span>;</span></span><br><span class=line><span class=string>                border-radius: 2px;</span></span><br><span class=line><span class=string>                cursor: pointer;</span></span><br><span class=line><span class=string>                font-size: 12px;</span></span><br><span class=line><span class=string>            &#125;</span></span><br><span class=line><span class=string>            </span></span><br><span class=line><span class=string>            /* 空状态 */</span></span><br><span class=line><span class=string>            .empty-state &#123;</span></span><br><span class=line><span class=string>                text-align: center;</span></span><br><span class=line><span class=string>                padding: <span class=subst>$&#123;LayoutManager.SPACING.xxl&#125;</span>;</span></span><br><span class=line><span class=string>                color: var(--vscode-foreground);</span></span><br><span class=line><span class=string>            &#125;</span></span><br><span class=line><span class=string>            </span></span><br><span class=line><span class=string>            .empty-icon &#123;</span></span><br><span class=line><span class=string>                font-size: 48px;</span></span><br><span class=line><span class=string>                color: var(--vscode-disabledForeground);</span></span><br><span class=line><span class=string>                margin-bottom: <span class=subst>$&#123;LayoutManager.SPACING.lg&#125;</span>;</span></span><br><span class=line><span class=string>            &#125;</span></span><br><span class=line><span class=string>            </span></span><br><span class=line><span class=string>            .empty-title &#123;</span></span><br><span class=line><span class=string>                font-size: 18px;</span></span><br><span class=line><span class=string>                font-weight: 600;</span></span><br><span class=line><span class=string>                margin-bottom: <span class=subst>$&#123;LayoutManager.SPACING.md&#125;</span>;</span></span><br><span class=line><span class=string>                color: var(--vscode-foreground);</span></span><br><span class=line><span class=string>            &#125;</span></span><br><span class=line><span class=string>            </span></span><br><span class=line><span class=string>            .empty-description &#123;</span></span><br><span class=line><span class=string>                color: var(--vscode-disabledForeground);</span></span><br><span class=line><span class=string>                margin-bottom: <span class=subst>$&#123;LayoutManager.SPACING.lg&#125;</span>;</span></span><br><span class=line><span class=string>                max-width: 400px;</span></span><br><span class=line><span class=string>                margin-left: auto;</span></span><br><span class=line><span class=string>                margin-right: auto;</span></span><br><span class=line><span class=string>            &#125;</span></span><br><span class=line><span class=string>            </span></span><br><span class=line><span class=string>            .empty-action &#123;</span></span><br><span class=line><span class=string>                background-color: var(--vscode-button-background);</span></span><br><span class=line><span class=string>                color: var(--vscode-button-foreground);</span></span><br><span class=line><span class=string>                border: none;</span></span><br><span class=line><span class=string>                padding: <span class=subst>$&#123;LayoutManager.SPACING.md&#125;</span> <span class=subst>$&#123;LayoutManager.SPACING.xl&#125;</span>;</span></span><br><span class=line><span class=string>                border-radius: 2px;</span></span><br><span class=line><span class=string>                cursor: pointer;</span></span><br><span class=line><span class=string>                font-size: 14px;</span></span><br><span class=line><span class=string>                font-weight: 500;</span></span><br><span class=line><span class=string>            &#125;</span></span><br><span class=line><span class=string>        `</span>;</span><br><span class=line>    &#125;</span><br><span class=line>    </span><br><span class=line>    <span class=comment>// JavaScript辅助函数</span></span><br><span class=line>    <span class=keyword>static</span> <span class="title function_">getFeedbackScript</span>(): <span class=built_in>string</span> &#123;</span><br><span class=line>        <span class=keyword>return</span> <span class=string>`</span></span><br><span class=line><span class=string>            // 自动关闭通知</span></span><br><span class=line><span class=string>            document.addEventListener(&#x27;DOMContentLoaded&#x27;, function() &#123;</span></span><br><span class=line><span class=string>                const autoCloseNotifications = document.querySelectorAll(&#x27;[data-auto-close]&#x27;);</span></span><br><span class=line><span class=string>                autoCloseNotifications.forEach(notification =&gt; &#123;</span></span><br><span class=line><span class=string>                    const delay = parseInt(notification.getAttribute(&#x27;data-auto-close&#x27;));</span></span><br><span class=line><span class=string>                    setTimeout(() =&gt; &#123;</span></span><br><span class=line><span class=string>                        notification.remove();</span></span><br><span class=line><span class=string>                    &#125;, delay);</span></span><br><span class=line><span class=string>                &#125;);</span></span><br><span class=line><span class=string>            &#125;);</span></span><br><span class=line><span class=string>            </span></span><br><span class=line><span class=string>            // 更新进度条</span></span><br><span class=line><span class=string>            function updateProgress(percentage) &#123;</span></span><br><span class=line><span class=string>                const progressFill = document.getElementById(&#x27;progressFill&#x27;);</span></span><br><span class=line><span class=string>                const progressText = document.getElementById(&#x27;progressText&#x27;);</span></span><br><span class=line><span class=string>                </span></span><br><span class=line><span class=string>                if (progressFill) &#123;</span></span><br><span class=line><span class=string>                    progressFill.style.width = percentage + &#x27;%&#x27;;</span></span><br><span class=line><span class=string>                &#125;</span></span><br><span class=line><span class=string>                </span></span><br><span class=line><span class=string>                if (progressText) &#123;</span></span><br><span class=line><span class=string>                    progressText.textContent = Math.round(percentage) + &#x27;%&#x27;;</span></span><br><span class=line><span class=string>                &#125;</span></span><br><span class=line><span class=string>            &#125;</span></span><br><span class=line><span class=string>            </span></span><br><span class=line><span class=string>            // 显示通知</span></span><br><span class=line><span class=string>            function showNotification(type, title, message, actions = [], autoClose = 5000) &#123;</span></span><br><span class=line><span class=string>                const notification = createNotificationElement(type, title, message, actions, autoClose);</span></span><br><span class=line><span class=string>                document.body.appendChild(notification);</span></span><br><span class=line><span class=string>                </span></span><br><span class=line><span class=string>                if (autoClose &gt; 0) &#123;</span></span><br><span class=line><span class=string>                    setTimeout(() =&gt; &#123;</span></span><br><span class=line><span class=string>                        notification.remove();</span></span><br><span class=line><span class=string>                    &#125;, autoClose);</span></span><br><span class=line><span class=string>                &#125;</span></span><br><span class=line><span class=string>            &#125;</span></span><br><span class=line><span class=string>            </span></span><br><span class=line><span class=string>            function createNotificationElement(type, title, message, actions, autoClose) &#123;</span></span><br><span class=line><span class=string>                const div = document.createElement(&#x27;div&#x27;);</span></span><br><span class=line><span class=string>                div.className = \`notification \$&#123;type&#125;\`;</span></span><br><span class=line><span class=string>                div.setAttribute(&#x27;role&#x27;, &#x27;alert&#x27;);</span></span><br><span class=line><span class=string>                </span></span><br><span class=line><span class=string>                if (autoClose &gt; 0) &#123;</span></span><br><span class=line><span class=string>                    div.setAttribute(&#x27;data-auto-close&#x27;, autoClose);</span></span><br><span class=line><span class=string>                &#125;</span></span><br><span class=line><span class=string>                </span></span><br><span class=line><span class=string>                const actionsHtml = actions.map(action =&gt; </span></span><br><span class=line><span class=string>                    \`&lt;button class=&quot;notification-action&quot; onclick=&quot;\$&#123;action.action&#125;&quot;&gt;\$&#123;action.label&#125;&lt;/button&gt;\`</span></span><br><span class=line><span class=string>                ).join(&#x27;&#x27;);</span></span><br><span class=line><span class=string>                </span></span><br><span class=line><span class=string>                div.innerHTML = \`</span></span><br><span class=line><span class=string>                    &lt;div class=&quot;notification-content&quot;&gt;</span></span><br><span class=line><span class=string>                        &lt;div class=&quot;notification-header&quot;&gt;</span></span><br><span class=line><span class=string>                            &lt;span class=&quot;notification-icon codicon codicon-\$&#123;type === &#x27;success&#x27; ? &#x27;check&#x27; : type&#125;&quot;&gt;&lt;/span&gt;</span></span><br><span class=line><span class=string>                            &lt;strong class=&quot;notification-title&quot;&gt;\$&#123;title&#125;&lt;/strong&gt;</span></span><br><span class=line><span class=string>                            &lt;button class=&quot;notification-dismiss&quot; onclick=&quot;this.parentElement.parentElement.parentElement.remove()&quot;&gt;×&lt;/button&gt;</span></span><br><span class=line><span class=string>                        &lt;/div&gt;</span></span><br><span class=line><span class=string>                        &lt;div class=&quot;notification-message&quot;&gt;\$&#123;message&#125;&lt;/div&gt;</span></span><br><span class=line><span class=string>                        \$&#123;actions.length ? \`&lt;div class=&quot;notification-actions&quot;&gt;\$&#123;actionsHtml&#125;&lt;/div&gt;\` : &#x27;&#x27;&#125;</span></span><br><span class=line><span class=string>                    &lt;/div&gt;</span></span><br><span class=line><span class=string>                \`;</span></span><br><span class=line><span class=string>                </span></span><br><span class=line><span class=string>                return div;</span></span><br><span class=line><span class=string>            &#125;</span></span><br><span class=line><span class=string>        `</span>;</span><br><span class=line>    &#125;</span><br><span class=line>&#125;</span><br></pre></td></tr></table></figure><hr><h2 id=♿-第三部分：无障碍设计><a href=#♿-第三部分：无障碍设计 class=headerlink title="♿ 第三部分：无障碍设计"></a>♿ 第三部分：无障碍设计</h2><h3 id=3-1-键盘导航支持><a href=#3-1-键盘导航支持 class=headerlink title="3.1 键盘导航支持"></a>3.1 键盘导航支持</h3><figure class="highlight typescript"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br><span class=line>23</span><br><span class=line>24</span><br><span class=line>25</span><br><span class=line>26</span><br><span class=line>27</span><br><span class=line>28</span><br><span class=line>29</span><br><span class=line>30</span><br><span class=line>31</span><br><span class=line>32</span><br><span class=line>33</span><br><span class=line>34</span><br><span class=line>35</span><br><span class=line>36</span><br><span class=line>37</span><br><span class=line>38</span><br><span class=line>39</span><br><span class=line>40</span><br><span class=line>41</span><br><span class=line>42</span><br><span class=line>43</span><br><span class=line>44</span><br><span class=line>45</span><br><span class=line>46</span><br><span class=line>47</span><br><span class=line>48</span><br><span class=line>49</span><br><span class=line>50</span><br><span class=line>51</span><br><span class=line>52</span><br><span class=line>53</span><br><span class=line>54</span><br><span class=line>55</span><br><span class=line>56</span><br><span class=line>57</span><br><span class=line>58</span><br><span class=line>59</span><br><span class=line>60</span><br><span class=line>61</span><br><span class=line>62</span><br><span class=line>63</span><br><span class=line>64</span><br><span class=line>65</span><br><span class=line>66</span><br><span class=line>67</span><br><span class=line>68</span><br><span class=line>69</span><br><span class=line>70</span><br><span class=line>71</span><br><span class=line>72</span><br><span class=line>73</span><br><span class=line>74</span><br><span class=line>75</span><br><span class=line>76</span><br><span class=line>77</span><br><span class=line>78</span><br><span class=line>79</span><br><span class=line>80</span><br><span class=line>81</span><br><span class=line>82</span><br><span class=line>83</span><br><span class=line>84</span><br><span class=line>85</span><br><span class=line>86</span><br><span class=line>87</span><br><span class=line>88</span><br><span class=line>89</span><br><span class=line>90</span><br><span class=line>91</span><br><span class=line>92</span><br><span class=line>93</span><br><span class=line>94</span><br><span class=line>95</span><br><span class=line>96</span><br><span class=line>97</span><br><span class=line>98</span><br><span class=line>99</span><br><span class=line>100</span><br><span class=line>101</span><br><span class=line>102</span><br><span class=line>103</span><br><span class=line>104</span><br><span class=line>105</span><br><span class=line>106</span><br><span class=line>107</span><br><span class=line>108</span><br><span class=line>109</span><br><span class=line>110</span><br><span class=line>111</span><br><span class=line>112</span><br><span class=line>113</span><br><span class=line>114</span><br><span class=line>115</span><br><span class=line>116</span><br><span class=line>117</span><br><span class=line>118</span><br><span class=line>119</span><br><span class=line>120</span><br><span class=line>121</span><br><span class=line>122</span><br><span class=line>123</span><br><span class=line>124</span><br><span class=line>125</span><br><span class=line>126</span><br><span class=line>127</span><br><span class=line>128</span><br><span class=line>129</span><br><span class=line>130</span><br><span class=line>131</span><br><span class=line>132</span><br><span class=line>133</span><br><span class=line>134</span><br><span class=line>135</span><br><span class=line>136</span><br><span class=line>137</span><br><span class=line>138</span><br><span class=line>139</span><br><span class=line>140</span><br><span class=line>141</span><br><span class=line>142</span><br><span class=line>143</span><br><span class=line>144</span><br><span class=line>145</span><br><span class=line>146</span><br><span class=line>147</span><br><span class=line>148</span><br><span class=line>149</span><br><span class=line>150</span><br><span class=line>151</span><br><span class=line>152</span><br><span class=line>153</span><br><span class=line>154</span><br><span class=line>155</span><br><span class=line>156</span><br><span class=line>157</span><br><span class=line>158</span><br><span class=line>159</span><br><span class=line>160</span><br><span class=line>161</span><br><span class=line>162</span><br><span class=line>163</span><br><span class=line>164</span><br><span class=line>165</span><br><span class=line>166</span><br><span class=line>167</span><br><span class=line>168</span><br><span class=line>169</span><br><span class=line>170</span><br><span class=line>171</span><br><span class=line>172</span><br><span class=line>173</span><br><span class=line>174</span><br><span class=line>175</span><br><span class=line>176</span><br><span class=line>177</span><br><span class=line>178</span><br><span class=line>179</span><br><span class=line>180</span><br><span class=line>181</span><br><span class=line>182</span><br><span class=line>183</span><br><span class=line>184</span><br><span class=line>185</span><br><span class=line>186</span><br><span class=line>187</span><br><span class=line>188</span><br><span class=line>189</span><br><span class=line>190</span><br><span class=line>191</span><br><span class=line>192</span><br><span class=line>193</span><br><span class=line>194</span><br><span class=line>195</span><br><span class=line>196</span><br><span class=line>197</span><br><span class=line>198</span><br><span class=line>199</span><br><span class=line>200</span><br><span class=line>201</span><br><span class=line>202</span><br><span class=line>203</span><br><span class=line>204</span><br><span class=line>205</span><br><span class=line>206</span><br><span class=line>207</span><br><span class=line>208</span><br><span class=line>209</span><br><span class=line>210</span><br><span class=line>211</span><br><span class=line>212</span><br><span class=line>213</span><br><span class=line>214</span><br><span class=line>215</span><br><span class=line>216</span><br><span class=line>217</span><br><span class=line>218</span><br><span class=line>219</span><br><span class=line>220</span><br><span class=line>221</span><br><span class=line>222</span><br><span class=line>223</span><br><span class=line>224</span><br><span class=line>225</span><br><span class=line>226</span><br><span class=line>227</span><br><span class=line>228</span><br><span class=line>229</span><br><span class=line>230</span><br><span class=line>231</span><br><span class=line>232</span><br><span class=line>233</span><br><span class=line>234</span><br><span class=line>235</span><br><span class=line>236</span><br><span class=line>237</span><br><span class=line>238</span><br><span class=line>239</span><br><span class=line>240</span><br><span class=line>241</span><br><span class=line>242</span><br><span class=line>243</span><br><span class=line>244</span><br><span class=line>245</span><br><span class=line>246</span><br><span class=line>247</span><br><span class=line>248</span><br><span class=line>249</span><br><span class=line>250</span><br><span class=line>251</span><br><span class=line>252</span><br><span class=line>253</span><br><span class=line>254</span><br><span class=line>255</span><br><span class=line>256</span><br><span class=line>257</span><br><span class=line>258</span><br><span class=line>259</span><br><span class=line>260</span><br><span class=line>261</span><br><span class=line>262</span><br><span class=line>263</span><br><span class=line>264</span><br><span class=line>265</span><br><span class=line>266</span><br><span class=line>267</span><br><span class=line>268</span><br><span class=line>269</span><br><span class=line>270</span><br><span class=line>271</span><br><span class=line>272</span><br><span class=line>273</span><br><span class=line>274</span><br><span class=line>275</span><br><span class=line>276</span><br><span class=line>277</span><br><span class=line>278</span><br><span class=line>279</span><br><span class=line>280</span><br><span class=line>281</span><br><span class=line>282</span><br><span class=line>283</span><br><span class=line>284</span><br><span class=line>285</span><br><span class=line>286</span><br><span class=line>287</span><br><span class=line>288</span><br><span class=line>289</span><br><span class=line>290</span><br><span class=line>291</span><br><span class=line>292</span><br><span class=line>293</span><br><span class=line>294</span><br><span class=line>295</span><br><span class=line>296</span><br><span class=line>297</span><br><span class=line>298</span><br><span class=line>299</span><br><span class=line>300</span><br><span class=line>301</span><br><span class=line>302</span><br><span class=line>303</span><br><span class=line>304</span><br><span class=line>305</span><br><span class=line>306</span><br><span class=line>307</span><br><span class=line>308</span><br><span class=line>309</span><br><span class=line>310</span><br><span class=line>311</span><br><span class=line>312</span><br><span class=line>313</span><br><span class=line>314</span><br><span class=line>315</span><br><span class=line>316</span><br><span class=line>317</span><br><span class=line>318</span><br><span class=line>319</span><br><span class=line>320</span><br><span class=line>321</span><br><span class=line>322</span><br><span class=line>323</span><br><span class=line>324</span><br><span class=line>325</span><br><span class=line>326</span><br><span class=line>327</span><br><span class=line>328</span><br><span class=line>329</span><br><span class=line>330</span><br><span class=line>331</span><br><span class=line>332</span><br><span class=line>333</span><br><span class=line>334</span><br><span class=line>335</span><br><span class=line>336</span><br></pre></td><td class=code><pre><span class=line><span class=comment>// src/accessibilityManager.ts</span></span><br><span class=line><span class=keyword>export</span> <span class=keyword>class</span> <span class="title class_">AccessibilityManager</span> &#123;</span><br><span class=line>    </span><br><span class=line>    <span class=comment>// 键盘导航管理器</span></span><br><span class=line>    <span class=keyword>static</span> <span class="title function_">setupKeyboardNavigation</span>(<span class=attr>container</span>: <span class="title class_">HTMLElement</span>): <span class=built_in>void</span> &#123;</span><br><span class=line>        <span class=keyword>const</span> focusableElements = container.<span class="title function_">querySelectorAll</span>(<span class=string>`</span></span><br><span class=line><span class=string>            button:not([disabled]),</span></span><br><span class=line><span class=string>            [href],</span></span><br><span class=line><span class=string>            input:not([disabled]),</span></span><br><span class=line><span class=string>            select:not([disabled]),</span></span><br><span class=line><span class=string>            textarea:not([disabled]),</span></span><br><span class=line><span class=string>            [tabindex]:not([tabindex=&quot;-1&quot;]):not([disabled]),</span></span><br><span class=line><span class=string>            [contenteditable=&quot;true&quot;]</span></span><br><span class=line><span class=string>        `</span>);</span><br><span class=line>        </span><br><span class=line>        <span class=keyword>let</span> currentIndex = <span class=number>0</span>;</span><br><span class=line>        </span><br><span class=line>        container.<span class="title function_">addEventListener</span>(<span class=string>&#x27;keydown&#x27;</span>, <span class=function>(<span class=params>event</span>) =&gt;</span> &#123;</span><br><span class=line>            <span class=keyword>const</span> elementsArray = <span class="title class_">Array</span>.<span class="title function_">from</span>(focusableElements) <span class=keyword>as</span> <span class="title class_">HTMLElement</span>[];</span><br><span class=line>            </span><br><span class=line>            <span class=keyword>switch</span> (event.<span class=property>key</span>) &#123;</span><br><span class=line>                <span class=keyword>case</span> <span class=string>&#x27;Tab&#x27;</span>:</span><br><span class=line>                    <span class=comment>// Tab键导航已由浏览器处理，但我们可以添加额外逻辑</span></span><br><span class=line>                    <span class=keyword>if</span> (event.<span class=property>shiftKey</span>) &#123;</span><br><span class=line>                        <span class=comment>// Shift+Tab 向后导航</span></span><br><span class=line>                        currentIndex = <span class="title class_">Math</span>.<span class="title function_">max</span>(<span class=number>0</span>, currentIndex - <span class=number>1</span>);</span><br><span class=line>                    &#125; <span class=keyword>else</span> &#123;</span><br><span class=line>                        <span class=comment>// Tab 向前导航</span></span><br><span class=line>                        currentIndex = <span class="title class_">Math</span>.<span class="title function_">min</span>(elementsArray.<span class=property>length</span> - <span class=number>1</span>, currentIndex + <span class=number>1</span>);</span><br><span class=line>                    &#125;</span><br><span class=line>                    <span class=keyword>break</span>;</span><br><span class=line>                    </span><br><span class=line>                <span class=keyword>case</span> <span class=string>&#x27;ArrowDown&#x27;</span>:</span><br><span class=line>                <span class=keyword>case</span> <span class=string>&#x27;ArrowRight&#x27;</span>:</span><br><span class=line>                    event.<span class="title function_">preventDefault</span>();</span><br><span class=line>                    currentIndex = (currentIndex + <span class=number>1</span>) % elementsArray.<span class=property>length</span>;</span><br><span class=line>                    elementsArray[currentIndex]?.<span class="title function_">focus</span>();</span><br><span class=line>                    <span class=keyword>break</span>;</span><br><span class=line>                    </span><br><span class=line>                <span class=keyword>case</span> <span class=string>&#x27;ArrowUp&#x27;</span>:</span><br><span class=line>                <span class=keyword>case</span> <span class=string>&#x27;ArrowLeft&#x27;</span>:</span><br><span class=line>                    event.<span class="title function_">preventDefault</span>();</span><br><span class=line>                    currentIndex = currentIndex === <span class=number>0</span> ? elementsArray.<span class=property>length</span> - <span class=number>1</span> : currentIndex - <span class=number>1</span>;</span><br><span class=line>                    elementsArray[currentIndex]?.<span class="title function_">focus</span>();</span><br><span class=line>                    <span class=keyword>break</span>;</span><br><span class=line>                    </span><br><span class=line>                <span class=keyword>case</span> <span class=string>&#x27;Home&#x27;</span>:</span><br><span class=line>                    event.<span class="title function_">preventDefault</span>();</span><br><span class=line>                    currentIndex = <span class=number>0</span>;</span><br><span class=line>                    elementsArray[currentIndex]?.<span class="title function_">focus</span>();</span><br><span class=line>                    <span class=keyword>break</span>;</span><br><span class=line>                    </span><br><span class=line>                <span class=keyword>case</span> <span class=string>&#x27;End&#x27;</span>:</span><br><span class=line>                    event.<span class="title function_">preventDefault</span>();</span><br><span class=line>                    currentIndex = elementsArray.<span class=property>length</span> - <span class=number>1</span>;</span><br><span class=line>                    elementsArray[currentIndex]?.<span class="title function_">focus</span>();</span><br><span class=line>                    <span class=keyword>break</span>;</span><br><span class=line>                    </span><br><span class=line>                <span class=keyword>case</span> <span class=string>&#x27;Enter&#x27;</span>:</span><br><span class=line>                <span class=keyword>case</span> <span class=string>&#x27; &#x27;</span>:</span><br><span class=line>                    <span class=keyword>const</span> activeElement = <span class="variable language_">document</span>.<span class=property>activeElement</span> <span class=keyword>as</span> <span class="title class_">HTMLElement</span>;</span><br><span class=line>                    <span class=keyword>if</span> (activeElement &amp;&amp; (activeElement.<span class=property>tagName</span> === <span class=string>&#x27;BUTTON&#x27;</span> || activeElement.<span class="title function_">getAttribute</span>(<span class=string>&#x27;role&#x27;</span>) === <span class=string>&#x27;button&#x27;</span>)) &#123;</span><br><span class=line>                        event.<span class="title function_">preventDefault</span>();</span><br><span class=line>                        activeElement.<span class="title function_">click</span>();</span><br><span class=line>                    &#125;</span><br><span class=line>                    <span class=keyword>break</span>;</span><br><span class=line>                    </span><br><span class=line>                <span class=keyword>case</span> <span class=string>&#x27;Escape&#x27;</span>:</span><br><span class=line>                    <span class=comment>// 关闭对话框或取消操作</span></span><br><span class=line>                    <span class=keyword>const</span> modal = container.<span class="title function_">closest</span>(<span class=string>&#x27;.modal, .dialog&#x27;</span>);</span><br><span class=line>                    <span class=keyword>if</span> (modal) &#123;</span><br><span class=line>                        <span class="variable language_">this</span>.<span class="title function_">closeModal</span>(modal <span class=keyword>as</span> <span class="title class_">HTMLElement</span>);</span><br><span class=line>                    &#125;</span><br><span class=line>                    <span class=keyword>break</span>;</span><br><span class=line>            &#125;</span><br><span class=line>        &#125;);</span><br><span class=line>    &#125;</span><br><span class=line>    </span><br><span class=line>    <span class=comment>// 焦点管理</span></span><br><span class=line>    <span class=keyword>static</span> <span class="title function_">manageFocus</span>(<span class=attr>options</span>: &#123;</span><br><span class=line>        <span class=attr>container</span>: <span class="title class_">HTMLElement</span>,</span><br><span class=line>        autoFocus?: <span class=built_in>boolean</span>,</span><br><span class=line>        trapFocus?: <span class=built_in>boolean</span>,</span><br><span class=line>        restoreFocus?: <span class="title class_">HTMLElement</span></span><br><span class=line>    &#125;): <span class=function>() =&gt;</span> <span class=built_in>void</span> &#123;</span><br><span class=line>        <span class=keyword>const</span> &#123; container, autoFocus = <span class=literal>true</span>, trapFocus = <span class=literal>true</span>, restoreFocus &#125; = options;</span><br><span class=line>        </span><br><span class=line>        <span class=comment>// 保存之前的焦点元素</span></span><br><span class=line>        <span class=keyword>const</span> previousFocus = <span class="variable language_">document</span>.<span class=property>activeElement</span> <span class=keyword>as</span> <span class="title class_">HTMLElement</span>;</span><br><span class=line>        </span><br><span class=line>        <span class=comment>// 自动聚焦到第一个可聚焦元素</span></span><br><span class=line>        <span class=keyword>if</span> (autoFocus) &#123;</span><br><span class=line>            <span class=keyword>const</span> firstFocusable = container.<span class="title function_">querySelector</span>(<span class=string>`</span></span><br><span class=line><span class=string>                button:not([disabled]),</span></span><br><span class=line><span class=string>                [href],</span></span><br><span class=line><span class=string>                input:not([disabled]),</span></span><br><span class=line><span class=string>                select:not([disabled]),</span></span><br><span class=line><span class=string>                textarea:not([disabled]),</span></span><br><span class=line><span class=string>                [tabindex]:not([tabindex=&quot;-1&quot;]):not([disabled])</span></span><br><span class=line><span class=string>            `</span>) <span class=keyword>as</span> <span class="title class_">HTMLElement</span>;</span><br><span class=line>            </span><br><span class=line>            firstFocusable?.<span class="title function_">focus</span>();</span><br><span class=line>        &#125;</span><br><span class=line>        </span><br><span class=line>        <span class=keyword>let</span> <span class=attr>focusTrapHandler</span>: (<span class=function>(<span class=params>event: KeyboardEvent</span>) =&gt;</span> <span class=built_in>void</span>) | <span class=literal>null</span> = <span class=literal>null</span>;</span><br><span class=line>        </span><br><span class=line>        <span class=comment>// 焦点陷阱</span></span><br><span class=line>        <span class=keyword>if</span> (trapFocus) &#123;</span><br><span class=line>            focusTrapHandler = <span class=function>(<span class=params>event: KeyboardEvent</span>) =&gt;</span> &#123;</span><br><span class=line>                <span class=keyword>if</span> (event.<span class=property>key</span> === <span class=string>&#x27;Tab&#x27;</span>) &#123;</span><br><span class=line>                    <span class=keyword>const</span> focusableElements = container.<span class="title function_">querySelectorAll</span>(<span class=string>`</span></span><br><span class=line><span class=string>                        button:not([disabled]),</span></span><br><span class=line><span class=string>                        [href],</span></span><br><span class=line><span class=string>                        input:not([disabled]),</span></span><br><span class=line><span class=string>                        select:not([disabled]),</span></span><br><span class=line><span class=string>                        textarea:not([disabled]),</span></span><br><span class=line><span class=string>                        [tabindex]:not([tabindex=&quot;-1&quot;]):not([disabled])</span></span><br><span class=line><span class=string>                    `</span>);</span><br><span class=line>                    </span><br><span class=line>                    <span class=keyword>const</span> firstElement = focusableElements[<span class=number>0</span>] <span class=keyword>as</span> <span class="title class_">HTMLElement</span>;</span><br><span class=line>                    <span class=keyword>const</span> lastElement = focusableElements[focusableElements.<span class=property>length</span> - <span class=number>1</span>] <span class=keyword>as</span> <span class="title class_">HTMLElement</span>;</span><br><span class=line>                    </span><br><span class=line>                    <span class=keyword>if</span> (event.<span class=property>shiftKey</span> &amp;&amp; <span class="variable language_">document</span>.<span class=property>activeElement</span> === firstElement) &#123;</span><br><span class=line>                        event.<span class="title function_">preventDefault</span>();</span><br><span class=line>                        lastElement?.<span class="title function_">focus</span>();</span><br><span class=line>                    &#125; <span class=keyword>else</span> <span class=keyword>if</span> (!event.<span class=property>shiftKey</span> &amp;&amp; <span class="variable language_">document</span>.<span class=property>activeElement</span> === lastElement) &#123;</span><br><span class=line>                        event.<span class="title function_">preventDefault</span>();</span><br><span class=line>                        firstElement?.<span class="title function_">focus</span>();</span><br><span class=line>                    &#125;</span><br><span class=line>                &#125;</span><br><span class=line>            &#125;;</span><br><span class=line>            </span><br><span class=line>            <span class="variable language_">document</span>.<span class="title function_">addEventListener</span>(<span class=string>&#x27;keydown&#x27;</span>, focusTrapHandler);</span><br><span class=line>        &#125;</span><br><span class=line>        </span><br><span class=line>        <span class=comment>// 返回清理函数</span></span><br><span class=line>        <span class=keyword>return</span> <span class=function>() =&gt;</span> &#123;</span><br><span class=line>            <span class=keyword>if</span> (focusTrapHandler) &#123;</span><br><span class=line>                <span class="variable language_">document</span>.<span class="title function_">removeEventListener</span>(<span class=string>&#x27;keydown&#x27;</span>, focusTrapHandler);</span><br><span class=line>            &#125;</span><br><span class=line>            </span><br><span class=line>            <span class=comment>// 恢复焦点</span></span><br><span class=line>            <span class=keyword>if</span> (restoreFocus) &#123;</span><br><span class=line>                restoreFocus.<span class="title function_">focus</span>();</span><br><span class=line>            &#125; <span class=keyword>else</span> <span class=keyword>if</span> (previousFocus) &#123;</span><br><span class=line>                previousFocus.<span class="title function_">focus</span>();</span><br><span class=line>            &#125;</span><br><span class=line>        &#125;;</span><br><span class=line>    &#125;</span><br><span class=line>    </span><br><span class=line>    <span class=comment>// ARIA属性管理</span></span><br><span class=line>    <span class=keyword>static</span> <span class="title function_">setAriaAttributes</span>(<span class=attr>element</span>: <span class="title class_">HTMLElement</span>, <span class=attr>attributes</span>: &#123;</span><br><span class=line>        label?: <span class=built_in>string</span>,</span><br><span class=line>        labelledBy?: <span class=built_in>string</span>,</span><br><span class=line>        describedBy?: <span class=built_in>string</span>,</span><br><span class=line>        expanded?: <span class=built_in>boolean</span>,</span><br><span class=line>        selected?: <span class=built_in>boolean</span>,</span><br><span class=line>        checked?: <span class=built_in>boolean</span>,</span><br><span class=line>        hidden?: <span class=built_in>boolean</span>,</span><br><span class=line>        live?: <span class=string>&#x27;off&#x27;</span> | <span class=string>&#x27;polite&#x27;</span> | <span class=string>&#x27;assertive&#x27;</span>,</span><br><span class=line>        atomic?: <span class=built_in>boolean</span>,</span><br><span class=line>        busy?: <span class=built_in>boolean</span>,</span><br><span class=line>        controls?: <span class=built_in>string</span>,</span><br><span class=line>        owns?: <span class=built_in>string</span>,</span><br><span class=line>        role?: <span class=built_in>string</span></span><br><span class=line>    &#125;): <span class=built_in>void</span> &#123;</span><br><span class=line>        <span class="title class_">Object</span>.<span class="title function_">entries</span>(attributes).<span class="title function_">forEach</span>(<span class=function>(<span class=params>[key, value]</span>) =&gt;</span> &#123;</span><br><span class=line>            <span class=keyword>if</span> (value !== <span class=literal>undefined</span> &amp;&amp; value !== <span class=literal>null</span>) &#123;</span><br><span class=line>                <span class=keyword>const</span> ariaKey = key === <span class=string>&#x27;role&#x27;</span> ? <span class=string>&#x27;role&#x27;</span> : <span class=string>`aria-<span class=subst>$&#123;key.replace(/([A-Z])/g, <span class=string>&#x27;-$1&#x27;</span>).toLowerCase()&#125;</span>`</span>;</span><br><span class=line>                element.<span class="title function_">setAttribute</span>(ariaKey, <span class="title class_">String</span>(value));</span><br><span class=line>            &#125;</span><br><span class=line>        &#125;);</span><br><span class=line>    &#125;</span><br><span class=line>    </span><br><span class=line>    <span class=comment>// 屏幕阅读器公告</span></span><br><span class=line>    <span class=keyword>static</span> <span class="title function_">announceToScreenReader</span>(<span class=attr>message</span>: <span class=built_in>string</span>, <span class=attr>priority</span>: <span class=string>&#x27;polite&#x27;</span> | <span class=string>&#x27;assertive&#x27;</span> = <span class=string>&#x27;polite&#x27;</span>): <span class=built_in>void</span> &#123;</span><br><span class=line>        <span class=keyword>const</span> announcement = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class=string>&#x27;div&#x27;</span>);</span><br><span class=line>        announcement.<span class="title function_">setAttribute</span>(<span class=string>&#x27;aria-live&#x27;</span>, priority);</span><br><span class=line>        announcement.<span class="title function_">setAttribute</span>(<span class=string>&#x27;aria-atomic&#x27;</span>, <span class=string>&#x27;true&#x27;</span>);</span><br><span class=line>        announcement.<span class=property>style</span>.<span class=property>position</span> = <span class=string>&#x27;absolute&#x27;</span>;</span><br><span class=line>        announcement.<span class=property>style</span>.<span class=property>left</span> = <span class=string>&#x27;-9999px&#x27;</span>;</span><br><span class=line>        announcement.<span class=property>style</span>.<span class=property>width</span> = <span class=string>&#x27;1px&#x27;</span>;</span><br><span class=line>        announcement.<span class=property>style</span>.<span class=property>height</span> = <span class=string>&#x27;1px&#x27;</span>;</span><br><span class=line>        announcement.<span class=property>style</span>.<span class=property>overflow</span> = <span class=string>&#x27;hidden&#x27;</span>;</span><br><span class=line>        </span><br><span class=line>        <span class="variable language_">document</span>.<span class=property>body</span>.<span class="title function_">appendChild</span>(announcement);</span><br><span class=line>        </span><br><span class=line>        <span class=comment>// 延迟添加内容确保屏幕阅读器能够读取</span></span><br><span class=line>        <span class=built_in>setTimeout</span>(<span class=function>() =&gt;</span> &#123;</span><br><span class=line>            announcement.<span class=property>textContent</span> = message;</span><br><span class=line>        &#125;, <span class=number>100</span>);</span><br><span class=line>        </span><br><span class=line>        <span class=comment>// 清理元素</span></span><br><span class=line>        <span class=built_in>setTimeout</span>(<span class=function>() =&gt;</span> &#123;</span><br><span class=line>            <span class="variable language_">document</span>.<span class=property>body</span>.<span class="title function_">removeChild</span>(announcement);</span><br><span class=line>        &#125;, <span class=number>2000</span>);</span><br><span class=line>    &#125;</span><br><span class=line>    </span><br><span class=line>    <span class=comment>// 高对比度模式检测</span></span><br><span class=line>    <span class=keyword>static</span> <span class="title function_">isHighContrastMode</span>(): <span class=built_in>boolean</span> &#123;</span><br><span class=line>        <span class=comment>// 创建测试元素检测高对比度模式</span></span><br><span class=line>        <span class=keyword>const</span> testElement = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class=string>&#x27;div&#x27;</span>);</span><br><span class=line>        testElement.<span class=property>style</span>.<span class=property>position</span> = <span class=string>&#x27;absolute&#x27;</span>;</span><br><span class=line>        testElement.<span class=property>style</span>.<span class=property>left</span> = <span class=string>&#x27;-9999px&#x27;</span>;</span><br><span class=line>        testElement.<span class=property>style</span>.<span class=property>color</span> = <span class=string>&#x27;rgb(31, 31, 31)&#x27;</span>;</span><br><span class=line>        testElement.<span class=property>style</span>.<span class=property>backgroundColor</span> = <span class=string>&#x27;rgb(31, 31, 31)&#x27;</span>;</span><br><span class=line>        </span><br><span class=line>        <span class="variable language_">document</span>.<span class=property>body</span>.<span class="title function_">appendChild</span>(testElement);</span><br><span class=line>        </span><br><span class=line>        <span class=keyword>const</span> computedStyle = <span class="variable language_">window</span>.<span class="title function_">getComputedStyle</span>(testElement);</span><br><span class=line>        <span class=keyword>const</span> isHighContrast = computedStyle.<span class=property>color</span> !== computedStyle.<span class=property>backgroundColor</span>;</span><br><span class=line>        </span><br><span class=line>        <span class="variable language_">document</span>.<span class=property>body</span>.<span class="title function_">removeChild</span>(testElement);</span><br><span class=line>        </span><br><span class=line>        <span class=keyword>return</span> isHighContrast;</span><br><span class=line>    &#125;</span><br><span class=line>    </span><br><span class=line>    <span class=comment>// 动效减少检测</span></span><br><span class=line>    <span class=keyword>static</span> <span class="title function_">prefersReducedMotion</span>(): <span class=built_in>boolean</span> &#123;</span><br><span class=line>        <span class=keyword>return</span> <span class="variable language_">window</span>.<span class="title function_">matchMedia</span>(<span class=string>&#x27;(prefers-reduced-motion: reduce)&#x27;</span>).<span class=property>matches</span>;</span><br><span class=line>    &#125;</span><br><span class=line>    </span><br><span class=line>    <span class=comment>// 创建跳转链接</span></span><br><span class=line>    <span class=keyword>static</span> <span class="title function_">createSkipLinks</span>(<span class=attr>targets</span>: <span class="title class_">Array</span>&lt;&#123;<span class=attr>label</span>: <span class=built_in>string</span>, <span class=attr>target</span>: <span class=built_in>string</span>&#125;&gt;): <span class=built_in>string</span> &#123;</span><br><span class=line>        <span class=keyword>const</span> links = targets.<span class="title function_">map</span>(<span class=function>(<span class=params>&#123;label, target&#125;</span>) =&gt;</span> </span><br><span class=line>            <span class=string>`&lt;a href=&quot;#<span class=subst>$&#123;target&#125;</span>&quot; class=&quot;skip-link&quot;&gt;<span class=subst>$&#123;label&#125;</span>&lt;/a&gt;`</span></span><br><span class=line>        ).<span class="title function_">join</span>(<span class=string>&#x27;&#x27;</span>);</span><br><span class=line>        </span><br><span class=line>        <span class=keyword>return</span> <span class=string>`&lt;nav class=&quot;skip-navigation&quot; aria-label=&quot;跳转导航&quot;&gt;<span class=subst>$&#123;links&#125;</span>&lt;/nav&gt;`</span>;</span><br><span class=line>    &#125;</span><br><span class=line>    </span><br><span class=line>    <span class=keyword>private</span> <span class=keyword>static</span> <span class="title function_">closeModal</span>(<span class=attr>modal</span>: <span class="title class_">HTMLElement</span>): <span class=built_in>void</span> &#123;</span><br><span class=line>        <span class=comment>// 模拟关闭模态框的逻辑</span></span><br><span class=line>        modal.<span class=property>style</span>.<span class=property>display</span> = <span class=string>&#x27;none&#x27;</span>;</span><br><span class=line>        modal.<span class="title function_">setAttribute</span>(<span class=string>&#x27;aria-hidden&#x27;</span>, <span class=string>&#x27;true&#x27;</span>);</span><br><span class=line>    &#125;</span><br><span class=line>    </span><br><span class=line>    <span class=comment>// 获取无障碍CSS</span></span><br><span class=line>    <span class=keyword>static</span> <span class="title function_">getAccessibilityCSS</span>(): <span class=built_in>string</span> &#123;</span><br><span class=line>        <span class=keyword>return</span> <span class=string>`</span></span><br><span class=line><span class=string>            /* 跳转链接 */</span></span><br><span class=line><span class=string>            .skip-navigation &#123;</span></span><br><span class=line><span class=string>                position: absolute;</span></span><br><span class=line><span class=string>                top: 0;</span></span><br><span class=line><span class=string>                left: 0;</span></span><br><span class=line><span class=string>                z-index: 9999;</span></span><br><span class=line><span class=string>            &#125;</span></span><br><span class=line><span class=string>            </span></span><br><span class=line><span class=string>            .skip-link &#123;</span></span><br><span class=line><span class=string>                position: absolute;</span></span><br><span class=line><span class=string>                left: -9999px;</span></span><br><span class=line><span class=string>                background-color: var(--vscode-button-background);</span></span><br><span class=line><span class=string>                color: var(--vscode-button-foreground);</span></span><br><span class=line><span class=string>                padding: <span class=subst>$&#123;LayoutManager.SPACING.md&#125;</span>;</span></span><br><span class=line><span class=string>                text-decoration: none;</span></span><br><span class=line><span class=string>                border-radius: 0 0 4px 0;</span></span><br><span class=line><span class=string>            &#125;</span></span><br><span class=line><span class=string>            </span></span><br><span class=line><span class=string>            .skip-link:focus &#123;</span></span><br><span class=line><span class=string>                left: 0;</span></span><br><span class=line><span class=string>                outline: 2px solid var(--vscode-focusBorder);</span></span><br><span class=line><span class=string>                outline-offset: 2px;</span></span><br><span class=line><span class=string>            &#125;</span></span><br><span class=line><span class=string>            </span></span><br><span class=line><span class=string>            /* 焦点指示器 */</span></span><br><span class=line><span class=string>            *:focus &#123;</span></span><br><span class=line><span class=string>                outline: 2px solid var(--vscode-focusBorder);</span></span><br><span class=line><span class=string>                outline-offset: 1px;</span></span><br><span class=line><span class=string>            &#125;</span></span><br><span class=line><span class=string>            </span></span><br><span class=line><span class=string>            /* 高对比度模式适配 */</span></span><br><span class=line><span class=string>            @media (prefers-contrast: high) &#123;</span></span><br><span class=line><span class=string>                .button,</span></span><br><span class=line><span class=string>                .form-input,</span></span><br><span class=line><span class=string>                .form-select,</span></span><br><span class=line><span class=string>                .form-textarea &#123;</span></span><br><span class=line><span class=string>                    border-width: 2px;</span></span><br><span class=line><span class=string>                &#125;</span></span><br><span class=line><span class=string>                </span></span><br><span class=line><span class=string>                .status-badge &#123;</span></span><br><span class=line><span class=string>                    border-width: 2px;</span></span><br><span class=line><span class=string>                &#125;</span></span><br><span class=line><span class=string>            &#125;</span></span><br><span class=line><span class=string>            </span></span><br><span class=line><span class=string>            /* 减少动画 */</span></span><br><span class=line><span class=string>            @media (prefers-reduced-motion: reduce) &#123;</span></span><br><span class=line><span class=string>                *,</span></span><br><span class=line><span class=string>                *::before,</span></span><br><span class=line><span class=string>                *::after &#123;</span></span><br><span class=line><span class=string>                    animation-duration: 0.01ms !important;</span></span><br><span class=line><span class=string>                    animation-iteration-count: 1 !important;</span></span><br><span class=line><span class=string>                    transition-duration: 0.01ms !important;</span></span><br><span class=line><span class=string>                    scroll-behavior: auto !important;</span></span><br><span class=line><span class=string>                &#125;</span></span><br><span class=line><span class=string>                </span></span><br><span class=line><span class=string>                .spinner &#123;</span></span><br><span class=line><span class=string>                    animation: none;</span></span><br><span class=line><span class=string>                &#125;</span></span><br><span class=line><span class=string>                </span></span><br><span class=line><span class=string>                .skeleton-line &#123;</span></span><br><span class=line><span class=string>                    animation: none;</span></span><br><span class=line><span class=string>                    background: var(--vscode-panel-border);</span></span><br><span class=line><span class=string>                &#125;</span></span><br><span class=line><span class=string>            &#125;</span></span><br><span class=line><span class=string>            </span></span><br><span class=line><span class=string>            /* 屏幕阅读器专用文本 */</span></span><br><span class=line><span class=string>            .sr-only &#123;</span></span><br><span class=line><span class=string>                position: absolute;</span></span><br><span class=line><span class=string>                width: 1px;</span></span><br><span class=line><span class=string>                height: 1px;</span></span><br><span class=line><span class=string>                padding: 0;</span></span><br><span class=line><span class=string>                margin: -1px;</span></span><br><span class=line><span class=string>                overflow: hidden;</span></span><br><span class=line><span class=string>                clip: rect(0, 0, 0, 0);</span></span><br><span class=line><span class=string>                white-space: nowrap;</span></span><br><span class=line><span class=string>                border: 0;</span></span><br><span class=line><span class=string>            &#125;</span></span><br><span class=line><span class=string>            </span></span><br><span class=line><span class=string>            /* 确保最小触摸目标尺寸 */</span></span><br><span class=line><span class=string>            button,</span></span><br><span class=line><span class=string>            .button,</span></span><br><span class=line><span class=string>            a,</span></span><br><span class=line><span class=string>            input[type=&quot;checkbox&quot;],</span></span><br><span class=line><span class=string>            input[type=&quot;radio&quot;] &#123;</span></span><br><span class=line><span class=string>                min-height: 44px;</span></span><br><span class=line><span class=string>                min-width: 44px;</span></span><br><span class=line><span class=string>            &#125;</span></span><br><span class=line><span class=string>            </span></span><br><span class=line><span class=string>            /* 提高文字对比度 */</span></span><br><span class=line><span class=string>            .low-contrast-fix &#123;</span></span><br><span class=line><span class=string>                color: var(--vscode-foreground) !important;</span></span><br><span class=line><span class=string>                background-color: var(--vscode-editor-background) !important;</span></span><br><span class=line><span class=string>            &#125;</span></span><br><span class=line><span class=string>        `</span>;</span><br><span class=line>    &#125;</span><br><span class=line>&#125;</span><br></pre></td></tr></table></figure><h3 id=3-2-语义化HTML和ARIA><a href=#3-2-语义化HTML和ARIA class=headerlink title="3.2 语义化HTML和ARIA"></a>3.2 语义化HTML和ARIA</h3><figure class="highlight typescript"><table><tr><td class=gutter><pre><span class=line>1</span><br><span class=line>2</span><br><span class=line>3</span><br><span class=line>4</span><br><span class=line>5</span><br><span class=line>6</span><br><span class=line>7</span><br><span class=line>8</span><br><span class=line>9</span><br><span class=line>10</span><br><span class=line>11</span><br><span class=line>12</span><br><span class=line>13</span><br><span class=line>14</span><br><span class=line>15</span><br><span class=line>16</span><br><span class=line>17</span><br><span class=line>18</span><br><span class=line>19</span><br><span class=line>20</span><br><span class=line>21</span><br><span class=line>22</span><br><span class=line>23</span><br><span class=line>24</span><br><span class=line>25</span><br><span class=line>26</span><br><span class=line>27</span><br><span class=line>28</span><br><span class=line>29</span><br><span class=line>30</span><br><span class=line>31</span><br><span class=line>32</span><br><span class=line>33</span><br><span class=line>34</span><br><span class=line>35</span><br><span class=line>36</span><br><span class=line>37</span><br><span class=line>38</span><br><span class=line>39</span><br><span class=line>40</span><br><span class=line>41</span><br><span class=line>42</span><br><span class=line>43</span><br><span class=line>44</span><br><span class=line>45</span><br><span class=line>46</span><br><span class=line>47</span><br><span class=line>48</span><br><span class=line>49</span><br><span class=line>50</span><br><span class=line>51</span><br><span class=line>52</span><br><span class=line>53</span><br><span class=line>54</span><br><span class=line>55</span><br><span class=line>56</span><br><span class=line>57</span><br><span class=line>58</span><br><span class=line>59</span><br><span class=line>60</span><br><span class=line>61</span><br><span class=line>62</span><br><span class=line>63</span><br><span class=line>64</span><br><span class=line>65</span><br><span class=line>66</span><br><span class=line>67</span><br><span class=line>68</span><br><span class=line>69</span><br><span class=line>70</span><br><span class=line>71</span><br><span class=line>72</span><br><span class=line>73</span><br><span class=line>74</span><br><span class=line>75</span><br><span class=line>76</span><br><span class=line>77</span><br><span class=line>78</span><br><span class=line>79</span><br><span class=line>80</span><br><span class=line>81</span><br><span class=line>82</span><br><span class=line>83</span><br><span class=line>84</span><br><span class=line>85</span><br><span class=line>86</span><br><span class=line>87</span><br><span class=line>88</span><br><span class=line>89</span><br><span class=line>90</span><br><span class=line>91</span><br><span class=line>92</span><br><span class=line>93</span><br><span class=line>94</span><br><span class=line>95</span><br><span class=line>96</span><br><span class=line>97</span><br><span class=line>98</span><br><span class=line>99</span><br><span class=line>100</span><br><span class=line>101</span><br><span class=line>102</span><br><span class=line>103</span><br><span class=line>104</span><br><span class=line>105</span><br><span class=line>106</span><br><span class=line>107</span><br><span class=line>108</span><br><span class=line>109</span><br><span class=line>110</span><br><span class=line>111</span><br><span class=line>112</span><br><span class=line>113</span><br><span class=line>114</span><br><span class=line>115</span><br><span class=line>116</span><br><span class=line>117</span><br><span class=line>118</span><br><span class=line>119</span><br><span class=line>120</span><br><span class=line>121</span><br><span class=line>122</span><br><span class=line>123</span><br><span class=line>124</span><br><span class=line>125</span><br><span class=line>126</span><br><span class=line>127</span><br><span class=line>128</span><br><span class=line>129</span><br><span class=line>130</span><br><span class=line>131</span><br><span class=line>132</span><br><span class=line>133</span><br><span class=line>134</span><br><span class=line>135</span><br><span class=line>136</span><br><span class=line>137</span><br><span class=line>138</span><br><span class=line>139</span><br><span class=line>140</span><br><span class=line>141</span><br><span class=line>142</span><br><span class=line>143</span><br><span class=line>144</span><br><span class=line>145</span><br><span class=line>146</span><br><span class=line>147</span><br><span class=line>148</span><br><span class=line>149</span><br><span class=line>150</span><br><span class=line>151</span><br><span class=line>152</span><br><span class=line>153</span><br><span class=line>154</span><br><span class=line>155</span><br><span class=line>156</span><br><span class=line>157</span><br><span class=line>158</span><br><span class=line>159</span><br><span class=line>160</span><br><span class=line>161</span><br><span class=line>162</span><br><span class=line>163</span><br><span class=line>164</span><br><span class=line>165</span><br><span class=line>166</span><br><span class=line>167</span><br><span class=line>168</span><br><span class=line>169</span><br><span class=line>170</span><br><span class=line>171</span><br><span class=line>172</span><br><span class=line>173</span><br><span class=line>174</span><br><span class=line>175</span><br><span class=line>176</span><br><span class=line>177</span><br><span class=line>178</span><br><span class=line>179</span><br><span class=line>180</span><br><span class=line>181</span><br><span class=line>182</span><br><span class=line>183</span><br><span class=line>184</span><br><span class=line>185</span><br><span class=line>186</span><br><span class=line>187</span><br><span class=line>188</span><br><span class=line>189</span><br><span class=line>190</span><br><span class=line>191</span><br><span class=line>192</span><br><span class=line>193</span><br><span class=line>194</span><br><span class=line>195</span><br><span class=line>196</span><br><span class=line>197</span><br><span class=line>198</span><br><span class=line>199</span><br><span class=line>200</span><br><span class=line>201</span><br><span class=line>202</span><br><span class=line>203</span><br><span class=line>204</span><br><span class=line>205</span><br><span class=line>206</span><br><span class=line>207</span><br><span class=line>208</span><br><span class=line>209</span><br><span class=line>210</span><br><span class=line>211</span><br><span class=line>212</span><br><span class=line>213</span><br><span class=line>214</span><br><span class=line>215</span><br><span class=line>216</span><br><span class=line>217</span><br><span class=line>218</span><br><span class=line>219</span><br><span class=line>220</span><br><span class=line>221</span><br><span class=line>222</span><br><span class=line>223</span><br><span class=line>224</span><br><span class=line>225</span><br><span class=line>226</span><br><span class=line>227</span><br><span class=line>228</span><br><span class=line>229</span><br><span class=line>230</span><br><span class=line>231</span><br><span class=line>232</span><br><span class=line>233</span><br><span class=line>234</span><br><span class=line>235</span><br><span class=line>236</span><br><span class=line>237</span><br><span class=line>238</span><br><span class=line>239</span><br><span class=line>240</span><br><span class=line>241</span><br><span class=line>242</span><br><span class=line>243</span><br><span class=line>244</span><br><span class=line>245</span><br><span class=line>246</span><br><span class=line>247</span><br><span class=line>248</span><br><span class=line>249</span><br><span class=line>250</span><br><span class=line>251</span><br><span class=line>252</span><br><span class=line>253</span><br><span class=line>254</span><br><span class=line>255</span><br><span class=line>256</span><br><span class=line>257</span><br><span class=line>258</span><br><span class=line>259</span><br><span class=line>260</span><br><span class=line>261</span><br><span class=line>262</span><br><span class=line>263</span><br><span class=line>264</span><br><span class=line>265</span><br><span class=line>266</span><br><span class=line>267</span><br><span class=line>268</span><br><span class=line>269</span><br><span class=line>270</span><br><span class=line>271</span><br><span class=line>272</span><br><span class=line>273</span><br><span class=line>274</span><br><span class=line>275</span><br><span class=line>276</span><br><span class=line>277</span><br><span class=line>278</span><br><span class=line>279</span><br><span class=line>280</span><br><span class=line>281</span><br><span class=line>282</span><br><span class=line>283</span><br><span class=line>284</span><br><span class=line>285</span><br><span class=line>286</span><br><span class=line>287</span><br><span class=line>288</span><br><span class=line>289</span><br><span class=line>290</span><br><span class=line>291</span><br><span class=line>292</span><br><span class=line>293</span><br><span class=line>294</span><br><span class=line>295</span><br><span class=line>296</span><br><span class=line>297</span><br><span class=line>298</span><br><span class=line>299</span><br><span class=line>300</span><br><span class=line>301</span><br><span class=line>302</span><br><span class=line>303</span><br><span class=line>304</span><br><span class=line>305</span><br><span class=line>306</span><br><span class=line>307</span><br><span class=line>308</span><br><span class=line>309</span><br><span class=line>310</span><br><span class=line>311</span><br><span class=line>312</span><br><span class=line>313</span><br><span class=line>314</span><br><span class=line>315</span><br><span class=line>316</span><br><span class=line>317</span><br><span class=line>318</span><br><span class=line>319</span><br><span class=line>320</span><br><span class=line>321</span><br><span class=line>322</span><br><span class=line>323</span><br><span class=line>324</span><br><span class=line>325</span><br><span class=line>326</span><br><span class=line>327</span><br><span class=line>328</span><br><span class=line>329</span><br><span class=line>330</span><br><span class=line>331</span><br><span class=line>332</span><br><span class=line>333</span><br><span class=line>334</span><br><span class=line>335</span><br><span class=line>336</span><br><span class=line>337</span><br><span class=line>338</span><br><span class=line>339</span><br><span class=line>340</span><br><span class=line>341</span><br><span class=line>342</span><br><span class=line>343</span><br><span class=line>344</span><br><span class=line>345</span><br><span class=line>346</span><br><span class=line>347</span><br><span class=line>348</span><br><span class=line>349</span><br><span class=line>350</span><br><span class=line>351</span><br><span class=line>352</span><br><span class=line>353</span><br><span class=line>354</span><br><span class=line>355</span><br><span class=line>356</span><br><span class=line>357</span><br><span class=line>358</span><br><span class=line>359</span><br><span class=line>360</span><br><span class=line>361</span><br><span class=line>362</span><br><span class=line>363</span><br><span class=line>364</span><br><span class=line>365</span><br><span class=line>366</span><br><span class=line>367</span><br><span class=line>368</span><br><span class=line>369</span><br><span class=line>370</span><br><span class=line>371</span><br><span class=line>372</span><br><span class=line>373</span><br><span class=line>374</span><br><span class=line>375</span><br><span class=line>376</span><br><span class=line>377</span><br><span class=line>378</span><br><span class=line>379</span><br><span class=line>380</span><br><span class=line>381</span><br><span class=line>382</span><br><span class=line>383</span><br><span class=line>384</span><br><span class=line>385</span><br><span class=line>386</span><br><span class=line>387</span><br><span class=line>388</span><br><span class=line>389</span><br><span class=line>390</span><br><span class=line>391</span><br><span class=line>392</span><br><span class=line>393</span><br><span class=line>394</span><br><span class=line>395</span><br><span class=line>396</span><br><span class=line>397</span><br><span class=line>398</span><br><span class=line>399</span><br><span class=line>400</span><br><span class=line>401</span><br><span class=line>402</span><br><span class=line>403</span><br><span class=line>404</span><br><span class=line>405</span><br><span class=line>406</span><br><span class=line>407</span><br><span class=line>408</span><br><span class=line>409</span><br><span class=line>410</span><br><span class=line>411</span><br><span class=line>412</span><br><span class=line>413</span><br><span class=line>414</span><br><span class=line>415</span><br><span class=line>416</span><br><span class=line>417</span><br><span class=line>418</span><br><span class=line>419</span><br><span class=line>420</span><br><span class=line>421</span><br><span class=line>422</span><br><span class=line>423</span><br><span class=line>424</span><br><span class=line>425</span><br><span class=line>426</span><br><span class=line>427</span><br><span class=line>428</span><br><span class=line>429</span><br><span class=line>430</span><br><span class=line>431</span><br><span class=line>432</span><br><span class=line>433</span><br><span class=line>434</span><br><span class=line>435</span><br><span class=line>436</span><br><span class=line>437</span><br><span class=line>438</span><br><span class=line>439</span><br><span class=line>440</span><br><span class=line>441</span><br><span class=line>442</span><br><span class=line>443</span><br><span class=line>444</span><br><span class=line>445</span><br><span class=line>446</span><br><span class=line>447</span><br><span class=line>448</span><br><span class=line>449</span><br><span class=line>450</span><br><span class=line>451</span><br><span class=line>452</span><br><span class=line>453</span><br><span class=line>454</span><br><span class=line>455</span><br><span class=line>456</span><br><span class=line>457</span><br><span class=line>458</span><br><span class=line>459</span><br><span class=line>460</span><br><span class=line>461</span><br><span class=line>462</span><br><span class=line>463</span><br><span class=line>464</span><br><span class=line>465</span><br><span class=line>466</span><br><span class=line>467</span><br><span class=line>468</span><br><span class=line>469</span><br><span class=line>470</span><br><span class=line>471</span><br><span class=line>472</span><br><span class=line>473</span><br><span class=line>474</span><br><span class=line>475</span><br><span class=line>476</span><br><span class=line>477</span><br><span class=line>478</span><br><span class=line>479</span><br><span class=line>480</span><br><span class=line>481</span><br><span class=line>482</span><br><span class=line>483</span><br><span class=line>484</span><br><span class=line>485</span><br><span class=line>486</span><br><span class=line>487</span><br><span class=line>488</span><br><span class=line>489</span><br><span class=line>490</span><br><span class=line>491</span><br><span class=line>492</span><br><span class=line>493</span><br><span class=line>494</span><br><span class=line>495</span><br><span class=line>496</span><br><span class=line>497</span><br><span class=line>498</span><br><span class=line>499</span><br><span class=line>500</span><br><span class=line>501</span><br><span class=line>502</span><br><span class=line>503</span><br><span class=line>504</span><br><span class=line>505</span><br><span class=line>506</span><br><span class=line>507</span><br><span class=line>508</span><br><span class=line>509</span><br><span class=line>510</span><br><span class=line>511</span><br><span class=line>512</span><br><span class=line>513</span><br><span class=line>514</span><br><span class=line>515</span><br><span class=line>516</span><br><span class=line>517</span><br><span class=line>518</span><br><span class=line>519</span><br><span class=line>520</span><br><span class=line>521</span><br><span class=line>522</span><br><span class=line>523</span><br><span class=line>524</span><br><span class=line>525</span><br><span class=line>526</span><br><span class=line>527</span><br><span class=line>528</span><br><span class=line>529</span><br><span class=line>530</span><br><span class=line>531</span><br><span class=line>532</span><br><span class=line>533</span><br><span class=line>534</span><br><span class=line>535</span><br><span class=line>536</span><br><span class=line>537</span><br><span class=line>538</span><br><span class=line>539</span><br><span class=line>540</span><br><span class=line>541</span><br><span class=line>542</span><br><span class=line>543</span><br><span class=line>544</span><br><span class=line>545</span><br><span class=line>546</span><br><span class=line>547</span><br><span class=line>548</span><br><span class=line>549</span><br><span class=line>550</span><br><span class=line>551</span><br></pre></td><td class=code><pre><span class=line><span class=comment>// src/semanticHTML.ts</span></span><br><span class=line><span class=keyword>export</span> <span class=keyword>class</span> <span class="title class_">SemanticHTMLManager</span> &#123;</span><br><span class=line>    </span><br><span class=line>    <span class=comment>// 创建语义化表格</span></span><br><span class=line>    <span class=keyword>static</span> <span class="title function_">createAccessibleTable</span>(<span class=attr>options</span>: &#123;</span><br><span class=line>        <span class=attr>headers</span>: <span class=built_in>string</span>[],</span><br><span class=line>        <span class=attr>rows</span>: <span class=built_in>string</span>[][],</span><br><span class=line>        caption?: <span class=built_in>string</span>,</span><br><span class=line>        sortable?: <span class=built_in>boolean</span></span><br><span class=line>    &#125;): <span class=built_in>string</span> &#123;</span><br><span class=line>        <span class=keyword>const</span> &#123; headers, rows, caption, sortable &#125; = options;</span><br><span class=line>        </span><br><span class=line>        <span class=keyword>const</span> captionHtml = caption ? <span class=string>`&lt;caption&gt;<span class=subst>$&#123;caption&#125;</span>&lt;/caption&gt;`</span> : <span class=string>&#x27;&#x27;</span>;</span><br><span class=line>        </span><br><span class=line>        <span class=keyword>const</span> headerHtml = headers.<span class="title function_">map</span>(<span class=function>(<span class=params>header, index</span>) =&gt;</span> <span class=string>`</span></span><br><span class=line><span class=string>            &lt;th scope=&quot;col&quot; </span></span><br><span class=line><span class=string>                <span class=subst>$&#123;sortable ? <span class=string>`role=&quot;columnheader&quot; aria-sort=&quot;none&quot; tabindex=&quot;0&quot; data-column=&quot;<span class=subst>$&#123;index&#125;</span>&quot;`</span> : <span class=string>&#x27;&#x27;</span>&#125;</span></span></span><br><span class=line><span class=string>            &gt;</span></span><br><span class=line><span class=string>                <span class=subst>$&#123;header&#125;</span></span></span><br><span class=line><span class=string>                <span class=subst>$&#123;sortable ? <span class=string>&#x27;&lt;span class=&quot;sort-indicator&quot; aria-hidden=&quot;true&quot;&gt;&lt;/span&gt;&#x27;</span> : <span class=string>&#x27;&#x27;</span>&#125;</span></span></span><br><span class=line><span class=string>            &lt;/th&gt;</span></span><br><span class=line><span class=string>        `</span>).<span class="title function_">join</span>(<span class=string>&#x27;&#x27;</span>);</span><br><span class=line>        </span><br><span class=line>        <span class=keyword>const</span> rowsHtml = rows.<span class="title function_">map</span>(<span class=function>(<span class=params>row, rowIndex</span>) =&gt;</span> <span class=string>`</span></span><br><span class=line><span class=string>            &lt;tr&gt;</span></span><br><span class=line><span class=string>                <span class=subst>$&#123;row.map((cell, cellIndex) =&gt; <span class=string>`</span></span></span></span><br><span class=line><span class=string><span class=subst><span class=string>                    &lt;td <span class=subst>$&#123;cellIndex === <span class=number>0</span> ? <span class=string>&#x27;scope=&quot;row&quot;&#x27;</span> : <span class=string>&#x27;&#x27;</span>&#125;</span>&gt;<span class=subst>$&#123;cell&#125;</span>&lt;/td&gt;</span></span></span></span><br><span class=line><span class=string><span class=subst><span class=string>                `</span>).join(<span class=string>&#x27;&#x27;</span>)&#125;</span></span></span><br><span class=line><span class=string>            &lt;/tr&gt;</span></span><br><span class=line><span class=string>        `</span>).<span class="title function_">join</span>(<span class=string>&#x27;&#x27;</span>);</span><br><span class=line>        </span><br><span class=line>        <span class=keyword>return</span> <span class=string>`</span></span><br><span class=line><span class=string>            &lt;table role=&quot;table&quot; aria-label=&quot;<span class=subst>$&#123;caption || <span class=string>&#x27;数据表格&#x27;</span>&#125;</span>&quot;&gt;</span></span><br><span class=line><span class=string>                <span class=subst>$&#123;captionHtml&#125;</span></span></span><br><span class=line><span class=string>                &lt;thead&gt;</span></span><br><span class=line><span class=string>                    &lt;tr role=&quot;row&quot;&gt;</span></span><br><span class=line><span class=string>                        <span class=subst>$&#123;headerHtml&#125;</span></span></span><br><span class=line><span class=string>                    &lt;/tr&gt;</span></span><br><span class=line><span class=string>                &lt;/thead&gt;</span></span><br><span class=line><span class=string>                &lt;tbody&gt;</span></span><br><span class=line><span class=string>                    <span class=subst>$&#123;rowsHtml&#125;</span></span></span><br><span class=line><span class=string>                &lt;/tbody&gt;</span></span><br><span class=line><span class=string>            &lt;/table&gt;</span></span><br><span class=line><span class=string>        `</span>;</span><br><span class=line>    &#125;</span><br><span class=line>    </span><br><span class=line>    <span class=comment>// 创建手风琴组件</span></span><br><span class=line>    <span class=keyword>static</span> <span class="title function_">createAccessibleAccordion</span>(<span class=attr>items</span>: <span class="title class_">Array</span>&lt;&#123;</span><br><span class=line>        <span class=attr>id</span>: <span class=built_in>string</span>,</span><br><span class=line>        <span class=attr>title</span>: <span class=built_in>string</span>,</span><br><span class=line>        <span class=attr>content</span>: <span class=built_in>string</span>,</span><br><span class=line>        expanded?: <span class=built_in>boolean</span></span><br><span class=line>    &#125;&gt;): <span class=built_in>string</span> &#123;</span><br><span class=line>        <span class=keyword>const</span> accordionItems = items.<span class="title function_">map</span>(<span class=function><span class=params>item</span> =&gt;</span> <span class=string>`</span></span><br><span class=line><span class=string>            &lt;div class=&quot;accordion-item&quot;&gt;</span></span><br><span class=line><span class=string>                &lt;h3&gt;</span></span><br><span class=line><span class=string>                    &lt;button </span></span><br><span class=line><span class=string>                        class=&quot;accordion-trigger&quot;</span></span><br><span class=line><span class=string>                        aria-expanded=&quot;<span class=subst>$&#123;item.expanded || <span class=literal>false</span>&#125;</span>&quot;</span></span><br><span class=line><span class=string>                        aria-controls=&quot;<span class=subst>$&#123;item.id&#125;</span>-content&quot;</span></span><br><span class=line><span class=string>                        id=&quot;<span class=subst>$&#123;item.id&#125;</span>-trigger&quot;</span></span><br><span class=line><span class=string>                    &gt;</span></span><br><span class=line><span class=string>                        &lt;span class=&quot;accordion-title&quot;&gt;<span class=subst>$&#123;item.title&#125;</span>&lt;/span&gt;</span></span><br><span class=line><span class=string>                        &lt;span class=&quot;accordion-icon&quot; aria-hidden=&quot;true&quot;&gt;▼&lt;/span&gt;</span></span><br><span class=line><span class=string>                    &lt;/button&gt;</span></span><br><span class=line><span class=string>                &lt;/h3&gt;</span></span><br><span class=line><span class=string>                &lt;div </span></span><br><span class=line><span class=string>                    class=&quot;accordion-content <span class=subst>$&#123;item.expanded ? <span class=string>&#x27;expanded&#x27;</span> : <span class=string>&#x27;&#x27;</span>&#125;</span>&quot;</span></span><br><span class=line><span class=string>                    id=&quot;<span class=subst>$&#123;item.id&#125;</span>-content&quot;</span></span><br><span class=line><span class=string>                    aria-labelledby=&quot;<span class=subst>$&#123;item.id&#125;</span>-trigger&quot;</span></span><br><span class=line><span class=string>                    role=&quot;region&quot;</span></span><br><span class=line><span class=string>                &gt;</span></span><br><span class=line><span class=string>                    &lt;div class=&quot;accordion-content-inner&quot;&gt;</span></span><br><span class=line><span class=string>                        <span class=subst>$&#123;item.content&#125;</span></span></span><br><span class=line><span class=string>                    &lt;/div&gt;</span></span><br><span class=line><span class=string>                &lt;/div&gt;</span></span><br><span class=line><span class=string>            &lt;/div&gt;</span></span><br><span class=line><span class=string>        `</span>).<span class="title function_">join</span>(<span class=string>&#x27;&#x27;</span>);</span><br><span class=line>        </span><br><span class=line>        <span class=keyword>return</span> <span class=string>`</span></span><br><span class=line><span class=string>            &lt;div class=&quot;accordion&quot; role=&quot;group&quot; aria-label=&quot;手风琴组件&quot;&gt;</span></span><br><span class=line><span class=string>                <span class=subst>$&#123;accordionItems&#125;</span></span></span><br><span class=line><span class=string>            &lt;/div&gt;</span></span><br><span class=line><span class=string>        `</span>;</span><br><span class=line>    &#125;</span><br><span class=line>    </span><br><span class=line>    <span class=comment>// 创建模态对话框</span></span><br><span class=line>    <span class=keyword>static</span> <span class="title function_">createAccessibleModal</span>(<span class=attr>options</span>: &#123;</span><br><span class=line>        <span class=attr>id</span>: <span class=built_in>string</span>,</span><br><span class=line>        <span class=attr>title</span>: <span class=built_in>string</span>,</span><br><span class=line>        <span class=attr>content</span>: <span class=built_in>string</span>,</span><br><span class=line>        actions?: <span class="title class_">Array</span>&lt;&#123;<span class=attr>label</span>: <span class=built_in>string</span>, <span class=attr>action</span>: <span class=built_in>string</span>, variant?: <span class=built_in>string</span>&#125;&gt;,</span><br><span class=line>        closeButton?: <span class=built_in>boolean</span></span><br><span class=line>    &#125;): <span class=built_in>string</span> &#123;</span><br><span class=line>        <span class=keyword>const</span> &#123; id, title, content, actions, closeButton = <span class=literal>true</span> &#125; = options;</span><br><span class=line>        </span><br><span class=line>        <span class=keyword>const</span> actionsHtml = actions ? actions.<span class="title function_">map</span>(<span class=function><span class=params>action</span> =&gt;</span> <span class=string>`</span></span><br><span class=line><span class=string>            &lt;button </span></span><br><span class=line><span class=string>                class=&quot;modal-action <span class=subst>$&#123;action.variant || <span class=string>&#x27;secondary&#x27;</span>&#125;</span>&quot;</span></span><br><span class=line><span class=string>                onclick=&quot;<span class=subst>$&#123;action.action&#125;</span>&quot;</span></span><br><span class=line><span class=string>            &gt;</span></span><br><span class=line><span class=string>                <span class=subst>$&#123;action.label&#125;</span></span></span><br><span class=line><span class=string>            &lt;/button&gt;</span></span><br><span class=line><span class=string>        `</span>).<span class="title function_">join</span>(<span class=string>&#x27;&#x27;</span>) : <span class=string>&#x27;&#x27;</span>;</span><br><span class=line>        </span><br><span class=line>        <span class=keyword>const</span> closeButtonHtml = closeButton ? <span class=string>`</span></span><br><span class=line><span class=string>            &lt;button </span></span><br><span class=line><span class=string>                class=&quot;modal-close&quot; </span></span><br><span class=line><span class=string>                aria-label=&quot;关闭对话框&quot;</span></span><br><span class=line><span class=string>                onclick=&quot;closeModal(&#x27;<span class=subst>$&#123;id&#125;</span>&#x27;)&quot;</span></span><br><span class=line><span class=string>            &gt;</span></span><br><span class=line><span class=string>                &lt;span aria-hidden=&quot;true&quot;&gt;×&lt;/span&gt;</span></span><br><span class=line><span class=string>            &lt;/button&gt;</span></span><br><span class=line><span class=string>        `</span> : <span class=string>&#x27;&#x27;</span>;</span><br><span class=line>        </span><br><span class=line>        <span class=keyword>return</span> <span class=string>`</span></span><br><span class=line><span class=string>            &lt;div </span></span><br><span class=line><span class=string>                class=&quot;modal-overlay&quot; </span></span><br><span class=line><span class=string>                id=&quot;<span class=subst>$&#123;id&#125;</span>&quot;</span></span><br><span class=line><span class=string>                role=&quot;dialog&quot; </span></span><br><span class=line><span class=string>                aria-modal=&quot;true&quot;</span></span><br><span class=line><span class=string>                aria-labelledby=&quot;<span class=subst>$&#123;id&#125;</span>-title&quot;</span></span><br><span class=line><span class=string>                aria-describedby=&quot;<span class=subst>$&#123;id&#125;</span>-content&quot;</span></span><br><span class=line><span class=string>                aria-hidden=&quot;true&quot;</span></span><br><span class=line><span class=string>            &gt;</span></span><br><span class=line><span class=string>                &lt;div class=&quot;modal-container&quot;&gt;</span></span><br><span class=line><span class=string>                    &lt;div class=&quot;modal-header&quot;&gt;</span></span><br><span class=line><span class=string>                        &lt;h2 id=&quot;<span class=subst>$&#123;id&#125;</span>-title&quot; class=&quot;modal-title&quot;&gt;<span class=subst>$&#123;title&#125;</span>&lt;/h2&gt;</span></span><br><span class=line><span class=string>                        <span class=subst>$&#123;closeButtonHtml&#125;</span></span></span><br><span class=line><span class=string>                    &lt;/div&gt;</span></span><br><span class=line><span class=string>                    &lt;div class=&quot;modal-body&quot;&gt;</span></span><br><span class=line><span class=string>                        &lt;div id=&quot;<span class=subst>$&#123;id&#125;</span>-content&quot;&gt;</span></span><br><span class=line><span class=string>                            <span class=subst>$&#123;content&#125;</span></span></span><br><span class=line><span class=string>                        &lt;/div&gt;</span></span><br><span class=line><span class=string>                    &lt;/div&gt;</span></span><br><span class=line><span class=string>                    <span class=subst>$&#123;actions ? <span class=string>`</span></span></span></span><br><span class=line><span class=string><span class=subst><span class=string>                        &lt;div class=&quot;modal-footer&quot;&gt;</span></span></span></span><br><span class=line><span class=string><span class=subst><span class=string>                            <span class=subst>$&#123;actionsHtml&#125;</span></span></span></span></span><br><span class=line><span class=string><span class=subst><span class=string>                        &lt;/div&gt;</span></span></span></span><br><span class=line><span class=string><span class=subst><span class=string>                    `</span> : <span class=string>&#x27;&#x27;</span>&#125;</span></span></span><br><span class=line><span class=string>                &lt;/div&gt;</span></span><br><span class=line><span class=string>            &lt;/div&gt;</span></span><br><span class=line><span class=string>        `</span>;</span><br><span class=line>    &#125;</span><br><span class=line>    </span><br><span class=line>    <span class=comment>// 创建列表组件</span></span><br><span class=line>    <span class=keyword>static</span> <span class="title function_">createAccessibleList</span>(<span class=attr>options</span>: &#123;</span><br><span class=line>        <span class=attr>items</span>: <span class="title class_">Array</span>&lt;&#123;</span><br><span class=line>            <span class=attr>id</span>: <span class=built_in>string</span>,</span><br><span class=line>            <span class=attr>content</span>: <span class=built_in>string</span>,</span><br><span class=line>            selected?: <span class=built_in>boolean</span>,</span><br><span class=line>            disabled?: <span class=built_in>boolean</span></span><br><span class=line>        &#125;&gt;,</span><br><span class=line>        selectable?: <span class=built_in>boolean</span>,</span><br><span class=line>        multiSelect?: <span class=built_in>boolean</span>,</span><br><span class=line>        role?: <span class=string>&#x27;list&#x27;</span> | <span class=string>&#x27;listbox&#x27;</span> | <span class=string>&#x27;menu&#x27;</span></span><br><span class=line>    &#125;): <span class=built_in>string</span> &#123;</span><br><span class=line>        <span class=keyword>const</span> &#123; items, selectable, multiSelect, role = <span class=string>&#x27;list&#x27;</span> &#125; = options;</span><br><span class=line>        </span><br><span class=line>        <span class=keyword>const</span> listItems = items.<span class="title function_">map</span>(<span class=function><span class=params>item</span> =&gt;</span> <span class=string>`</span></span><br><span class=line><span class=string>            &lt;li </span></span><br><span class=line><span class=string>                class=&quot;list-item <span class=subst>$&#123;item.selected ? <span class=string>&#x27;selected&#x27;</span> : <span class=string>&#x27;&#x27;</span>&#125;</span> <span class=subst>$&#123;item.disabled ? <span class=string>&#x27;disabled&#x27;</span> : <span class=string>&#x27;&#x27;</span>&#125;</span>&quot;</span></span><br><span class=line><span class=string>                <span class=subst>$&#123;selectable ? <span class=string>`</span></span></span></span><br><span class=line><span class=string><span class=subst><span class=string>                    role=&quot;<span class=subst>$&#123;role === <span class=string>&#x27;listbox&#x27;</span> ? <span class=string>&#x27;option&#x27;</span> : <span class=string>&#x27;menuitem&#x27;</span>&#125;</span>&quot;</span></span></span></span><br><span class=line><span class=string><span class=subst><span class=string>                    aria-selected=&quot;<span class=subst>$&#123;item.selected || <span class=literal>false</span>&#125;</span>&quot;</span></span></span></span><br><span class=line><span class=string><span class=subst><span class=string>                    <span class=subst>$&#123;item.disabled ? <span class=string>&#x27;aria-disabled=&quot;true&quot;&#x27;</span> : <span class=string>&#x27;tabindex=&quot;0&quot;&#x27;</span>&#125;</span></span></span></span></span><br><span class=line><span class=string><span class=subst><span class=string>                    data-item-id=&quot;<span class=subst>$&#123;item.id&#125;</span>&quot;</span></span></span></span><br><span class=line><span class=string><span class=subst><span class=string>                `</span> : <span class=string>&#x27;&#x27;</span>&#125;</span></span></span><br><span class=line><span class=string>            &gt;</span></span><br><span class=line><span class=string>                <span class=subst>$&#123;item.content&#125;</span></span></span><br><span class=line><span class=string>                <span class=subst>$&#123;item.selected ? <span class=string>&#x27;&lt;span class=&quot;sr-only&quot;&gt;已选中&lt;/span&gt;&#x27;</span> : <span class=string>&#x27;&#x27;</span>&#125;</span></span></span><br><span class=line><span class=string>            &lt;/li&gt;</span></span><br><span class=line><span class=string>        `</span>).<span class="title function_">join</span>(<span class=string>&#x27;&#x27;</span>);</span><br><span class=line>        </span><br><span class=line>        <span class=keyword>return</span> <span class=string>`</span></span><br><span class=line><span class=string>            &lt;ul </span></span><br><span class=line><span class=string>                class=&quot;accessible-list&quot;</span></span><br><span class=line><span class=string>                role=&quot;<span class=subst>$&#123;role&#125;</span>&quot;</span></span><br><span class=line><span class=string>                <span class=subst>$&#123;selectable ? <span class=string>`</span></span></span></span><br><span class=line><span class=string><span class=subst><span class=string>                    aria-multiselectable=&quot;<span class=subst>$&#123;multiSelect || <span class=literal>false</span>&#125;</span>&quot;</span></span></span></span><br><span class=line><span class=string><span class=subst><span class=string>                    aria-label=&quot;可选择列表&quot;</span></span></span></span><br><span class=line><span class=string><span class=subst><span class=string>                `</span> : <span class=string>&#x27;&#x27;</span>&#125;</span></span></span><br><span class=line><span class=string>            &gt;</span></span><br><span class=line><span class=string>                <span class=subst>$&#123;listItems&#125;</span></span></span><br><span class=line><span class=string>            &lt;/ul&gt;</span></span><br><span class=line><span class=string>        `</span>;</span><br><span class=line>    &#125;</span><br><span class=line>    </span><br><span class=line>    <span class=comment>// 获取语义化组件CSS</span></span><br><span class=line>    <span class=keyword>static</span> <span class="title function_">getSemanticCSS</span>(): <span class=built_in>string</span> &#123;</span><br><span class=line>        <span class=keyword>return</span> <span class=string>`</span></span><br><span class=line><span class=string>            /* 表格样式 */</span></span><br><span class=line><span class=string>            table &#123;</span></span><br><span class=line><span class=string>                width: 100%;</span></span><br><span class=line><span class=string>                border-collapse: collapse;</span></span><br><span class=line><span class=string>                border: 1px solid var(--vscode-panel-border);</span></span><br><span class=line><span class=string>            &#125;</span></span><br><span class=line><span class=string>            </span></span><br><span class=line><span class=string>            caption &#123;</span></span><br><span class=line><span class=string>                padding: <span class=subst>$&#123;LayoutManager.SPACING.md&#125;</span>;</span></span><br><span class=line><span class=string>                font-weight: bold;</span></span><br><span class=line><span class=string>                text-align: left;</span></span><br><span class=line><span class=string>                color: var(--vscode-foreground);</span></span><br><span class=line><span class=string>            &#125;</span></span><br><span class=line><span class=string>            </span></span><br><span class=line><span class=string>            th, td &#123;</span></span><br><span class=line><span class=string>                padding: <span class=subst>$&#123;LayoutManager.SPACING.md&#125;</span>;</span></span><br><span class=line><span class=string>                text-align: left;</span></span><br><span class=line><span class=string>                border-bottom: 1px solid var(--vscode-panel-border);</span></span><br><span class=line><span class=string>            &#125;</span></span><br><span class=line><span class=string>            </span></span><br><span class=line><span class=string>            th &#123;</span></span><br><span class=line><span class=string>                background-color: var(--vscode-sideBar-background);</span></span><br><span class=line><span class=string>                font-weight: 600;</span></span><br><span class=line><span class=string>                color: var(--vscode-foreground);</span></span><br><span class=line><span class=string>            &#125;</span></span><br><span class=line><span class=string>            </span></span><br><span class=line><span class=string>            th[role=&quot;columnheader&quot;] &#123;</span></span><br><span class=line><span class=string>                cursor: pointer;</span></span><br><span class=line><span class=string>                user-select: none;</span></span><br><span class=line><span class=string>            &#125;</span></span><br><span class=line><span class=string>            </span></span><br><span class=line><span class=string>            th[role=&quot;columnheader&quot;]:hover &#123;</span></span><br><span class=line><span class=string>                background-color: var(--vscode-list-hoverBackground);</span></span><br><span class=line><span class=string>            &#125;</span></span><br><span class=line><span class=string>            </span></span><br><span class=line><span class=string>            th[role=&quot;columnheader&quot;]:focus &#123;</span></span><br><span class=line><span class=string>                outline: 2px solid var(--vscode-focusBorder);</span></span><br><span class=line><span class=string>                outline-offset: -2px;</span></span><br><span class=line><span class=string>            &#125;</span></span><br><span class=line><span class=string>            </span></span><br><span class=line><span class=string>            .sort-indicator &#123;</span></span><br><span class=line><span class=string>                margin-left: <span class=subst>$&#123;LayoutManager.SPACING.sm&#125;</span>;</span></span><br><span class=line><span class=string>                opacity: 0.5;</span></span><br><span class=line><span class=string>            &#125;</span></span><br><span class=line><span class=string>            </span></span><br><span class=line><span class=string>            th[aria-sort=&quot;ascending&quot;] .sort-indicator::before &#123;</span></span><br><span class=line><span class=string>                content: &quot;▲&quot;;</span></span><br><span class=line><span class=string>            &#125;</span></span><br><span class=line><span class=string>            </span></span><br><span class=line><span class=string>            th[aria-sort=&quot;descending&quot;] .sort-indicator::before &#123;</span></span><br><span class=line><span class=string>                content: &quot;▼&quot;;</span></span><br><span class=line><span class=string>            &#125;</span></span><br><span class=line><span class=string>            </span></span><br><span class=line><span class=string>            /* 手风琴样式 */</span></span><br><span class=line><span class=string>            .accordion &#123;</span></span><br><span class=line><span class=string>                border: 1px solid var(--vscode-panel-border);</span></span><br><span class=line><span class=string>                border-radius: 4px;</span></span><br><span class=line><span class=string>            &#125;</span></span><br><span class=line><span class=string>            </span></span><br><span class=line><span class=string>            .accordion-item &#123;</span></span><br><span class=line><span class=string>                border-bottom: 1px solid var(--vscode-panel-border);</span></span><br><span class=line><span class=string>            &#125;</span></span><br><span class=line><span class=string>            </span></span><br><span class=line><span class=string>            .accordion-item:last-child &#123;</span></span><br><span class=line><span class=string>                border-bottom: none;</span></span><br><span class=line><span class=string>            &#125;</span></span><br><span class=line><span class=string>            </span></span><br><span class=line><span class=string>            .accordion-trigger &#123;</span></span><br><span class=line><span class=string>                width: 100%;</span></span><br><span class=line><span class=string>                padding: <span class=subst>$&#123;LayoutManager.SPACING.md&#125;</span>;</span></span><br><span class=line><span class=string>                background: var(--vscode-sideBar-background);</span></span><br><span class=line><span class=string>                border: none;</span></span><br><span class=line><span class=string>                text-align: left;</span></span><br><span class=line><span class=string>                cursor: pointer;</span></span><br><span class=line><span class=string>                display: flex;</span></span><br><span class=line><span class=string>                justify-content: space-between;</span></span><br><span class=line><span class=string>                align-items: center;</span></span><br><span class=line><span class=string>                color: var(--vscode-foreground);</span></span><br><span class=line><span class=string>            &#125;</span></span><br><span class=line><span class=string>            </span></span><br><span class=line><span class=string>            .accordion-trigger:hover &#123;</span></span><br><span class=line><span class=string>                background-color: var(--vscode-list-hoverBackground);</span></span><br><span class=line><span class=string>            &#125;</span></span><br><span class=line><span class=string>            </span></span><br><span class=line><span class=string>            .accordion-trigger:focus &#123;</span></span><br><span class=line><span class=string>                outline: 2px solid var(--vscode-focusBorder);</span></span><br><span class=line><span class=string>                outline-offset: -2px;</span></span><br><span class=line><span class=string>            &#125;</span></span><br><span class=line><span class=string>            </span></span><br><span class=line><span class=string>            .accordion-trigger[aria-expanded=&quot;true&quot;] .accordion-icon &#123;</span></span><br><span class=line><span class=string>                transform: rotate(180deg);</span></span><br><span class=line><span class=string>            &#125;</span></span><br><span class=line><span class=string>            </span></span><br><span class=line><span class=string>            .accordion-icon &#123;</span></span><br><span class=line><span class=string>                transition: transform 0.3s ease;</span></span><br><span class=line><span class=string>                font-size: 12px;</span></span><br><span class=line><span class=string>            &#125;</span></span><br><span class=line><span class=string>            </span></span><br><span class=line><span class=string>            .accordion-content &#123;</span></span><br><span class=line><span class=string>                max-height: 0;</span></span><br><span class=line><span class=string>                overflow: hidden;</span></span><br><span class=line><span class=string>                transition: max-height 0.3s ease;</span></span><br><span class=line><span class=string>            &#125;</span></span><br><span class=line><span class=string>            </span></span><br><span class=line><span class=string>            .accordion-content.expanded &#123;</span></span><br><span class=line><span class=string>                max-height: 1000px;</span></span><br><span class=line><span class=string>            &#125;</span></span><br><span class=line><span class=string>            </span></span><br><span class=line><span class=string>            .accordion-content-inner &#123;</span></span><br><span class=line><span class=string>                padding: <span class=subst>$&#123;LayoutManager.SPACING.md&#125;</span>;</span></span><br><span class=line><span class=string>                color: var(--vscode-foreground);</span></span><br><span class=line><span class=string>            &#125;</span></span><br><span class=line><span class=string>            </span></span><br><span class=line><span class=string>            /* 模态对话框样式 */</span></span><br><span class=line><span class=string>            .modal-overlay &#123;</span></span><br><span class=line><span class=string>                position: fixed;</span></span><br><span class=line><span class=string>                top: 0;</span></span><br><span class=line><span class=string>                left: 0;</span></span><br><span class=line><span class=string>                right: 0;</span></span><br><span class=line><span class=string>                bottom: 0;</span></span><br><span class=line><span class=string>                background-color: rgba(0, 0, 0, 0.5);</span></span><br><span class=line><span class=string>                display: flex;</span></span><br><span class=line><span class=string>                align-items: center;</span></span><br><span class=line><span class=string>                justify-content: center;</span></span><br><span class=line><span class=string>                z-index: 1000;</span></span><br><span class=line><span class=string>                opacity: 0;</span></span><br><span class=line><span class=string>                visibility: hidden;</span></span><br><span class=line><span class=string>                transition: opacity 0.3s ease, visibility 0.3s ease;</span></span><br><span class=line><span class=string>            &#125;</span></span><br><span class=line><span class=string>            </span></span><br><span class=line><span class=string>            .modal-overlay[aria-hidden=&quot;false&quot;] &#123;</span></span><br><span class=line><span class=string>                opacity: 1;</span></span><br><span class=line><span class=string>                visibility: visible;</span></span><br><span class=line><span class=string>            &#125;</span></span><br><span class=line><span class=string>            </span></span><br><span class=line><span class=string>            .modal-container &#123;</span></span><br><span class=line><span class=string>                background-color: var(--vscode-editor-background);</span></span><br><span class=line><span class=string>                border: 1px solid var(--vscode-panel-border);</span></span><br><span class=line><span class=string>                border-radius: 4px;</span></span><br><span class=line><span class=string>                min-width: 400px;</span></span><br><span class=line><span class=string>                max-width: 90vw;</span></span><br><span class=line><span class=string>                max-height: 90vh;</span></span><br><span class=line><span class=string>                display: flex;</span></span><br><span class=line><span class=string>                flex-direction: column;</span></span><br><span class=line><span class=string>                box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);</span></span><br><span class=line><span class=string>            &#125;</span></span><br><span class=line><span class=string>            </span></span><br><span class=line><span class=string>            .modal-header &#123;</span></span><br><span class=line><span class=string>                padding: <span class=subst>$&#123;LayoutManager.SPACING.lg&#125;</span>;</span></span><br><span class=line><span class=string>                border-bottom: 1px solid var(--vscode-panel-border);</span></span><br><span class=line><span class=string>                display: flex;</span></span><br><span class=line><span class=string>                justify-content: space-between;</span></span><br><span class=line><span class=string>                align-items: center;</span></span><br><span class=line><span class=string>            &#125;</span></span><br><span class=line><span class=string>            </span></span><br><span class=line><span class=string>            .modal-title &#123;</span></span><br><span class=line><span class=string>                margin: 0;</span></span><br><span class=line><span class=string>                color: var(--vscode-foreground);</span></span><br><span class=line><span class=string>                font-size: 18px;</span></span><br><span class=line><span class=string>                font-weight: 600;</span></span><br><span class=line><span class=string>            &#125;</span></span><br><span class=line><span class=string>            </span></span><br><span class=line><span class=string>            .modal-close &#123;</span></span><br><span class=line><span class=string>                background: none;</span></span><br><span class=line><span class=string>                border: none;</span></span><br><span class=line><span class=string>                font-size: 24px;</span></span><br><span class=line><span class=string>                cursor: pointer;</span></span><br><span class=line><span class=string>                color: var(--vscode-foreground);</span></span><br><span class=line><span class=string>                padding: 0;</span></span><br><span class=line><span class=string>                line-height: 1;</span></span><br><span class=line><span class=string>            &#125;</span></span><br><span class=line><span class=string>            </span></span><br><span class=line><span class=string>            .modal-body &#123;</span></span><br><span class=line><span class=string>                padding: <span class=subst>$&#123;LayoutManager.SPACING.lg&#125;</span>;</span></span><br><span class=line><span class=string>                flex: 1;</span></span><br><span class=line><span class=string>                overflow-y: auto;</span></span><br><span class=line><span class=string>                color: var(--vscode-foreground);</span></span><br><span class=line><span class=string>            &#125;</span></span><br><span class=line><span class=string>            </span></span><br><span class=line><span class=string>            .modal-footer &#123;</span></span><br><span class=line><span class=string>                padding: <span class=subst>$&#123;LayoutManager.SPACING.lg&#125;</span>;</span></span><br><span class=line><span class=string>                border-top: 1px solid var(--vscode-panel-border);</span></span><br><span class=line><span class=string>                display: flex;</span></span><br><span class=line><span class=string>                gap: <span class=subst>$&#123;LayoutManager.SPACING.md&#125;</span>;</span></span><br><span class=line><span class=string>                justify-content: flex-end;</span></span><br><span class=line><span class=string>            &#125;</span></span><br><span class=line><span class=string>            </span></span><br><span class=line><span class=string>            .modal-action &#123;</span></span><br><span class=line><span class=string>                padding: <span class=subst>$&#123;LayoutManager.SPACING.sm&#125;</span> <span class=subst>$&#123;LayoutManager.SPACING.lg&#125;</span>;</span></span><br><span class=line><span class=string>                border: none;</span></span><br><span class=line><span class=string>                border-radius: 2px;</span></span><br><span class=line><span class=string>                cursor: pointer;</span></span><br><span class=line><span class=string>                font-weight: 500;</span></span><br><span class=line><span class=string>            &#125;</span></span><br><span class=line><span class=string>            </span></span><br><span class=line><span class=string>            .modal-action.primary &#123;</span></span><br><span class=line><span class=string>                background-color: var(--vscode-button-background);</span></span><br><span class=line><span class=string>                color: var(--vscode-button-foreground);</span></span><br><span class=line><span class=string>            &#125;</span></span><br><span class=line><span class=string>            </span></span><br><span class=line><span class=string>            .modal-action.secondary &#123;</span></span><br><span class=line><span class=string>                background-color: var(--vscode-button-secondaryBackground);</span></span><br><span class=line><span class=string>                color: var(--vscode-button-secondaryForeground);</span></span><br><span class=line><span class=string>            &#125;</span></span><br><span class=line><span class=string>            </span></span><br><span class=line><span class=string>            /* 列表样式 */</span></span><br><span class=line><span class=string>            .accessible-list &#123;</span></span><br><span class=line><span class=string>                list-style: none;</span></span><br><span class=line><span class=string>                padding: 0;</span></span><br><span class=line><span class=string>                margin: 0;</span></span><br><span class=line><span class=string>                border: 1px solid var(--vscode-panel-border);</span></span><br><span class=line><span class=string>                border-radius: 4px;</span></span><br><span class=line><span class=string>            &#125;</span></span><br><span class=line><span class=string>            </span></span><br><span class=line><span class=string>            .list-item &#123;</span></span><br><span class=line><span class=string>                padding: <span class=subst>$&#123;LayoutManager.SPACING.md&#125;</span>;</span></span><br><span class=line><span class=string>                border-bottom: 1px solid var(--vscode-panel-border);</span></span><br><span class=line><span class=string>                color: var(--vscode-foreground);</span></span><br><span class=line><span class=string>                cursor: pointer;</span></span><br><span class=line><span class=string>            &#125;</span></span><br><span class=line><span class=string>            </span></span><br><span class=line><span class=string>            .list-item:last-child &#123;</span></span><br><span class=line><span class=string>                border-bottom: none;</span></span><br><span class=line><span class=string>            &#125;</span></span><br><span class=line><span class=string>            </span></span><br><span class=line><span class=string>            .list-item:hover:not(.disabled) &#123;</span></span><br><span class=line><span class=string>                background-color: var(--vscode-list-hoverBackground);</span></span><br><span class=line><span class=string>            &#125;</span></span><br><span class=line><span class=string>            </span></span><br><span class=line><span class=string>            .list-item:focus &#123;</span></span><br><span class=line><span class=string>                outline: 2px solid var(--vscode-focusBorder);</span></span><br><span class=line><span class=string>                outline-offset: -2px;</span></span><br><span class=line><span class=string>            &#125;</span></span><br><span class=line><span class=string>            </span></span><br><span class=line><span class=string>            .list-item.selected &#123;</span></span><br><span class=line><span class=string>                background-color: var(--vscode-list-activeSelectionBackground);</span></span><br><span class=line><span class=string>                color: var(--vscode-list-activeSelectionForeground);</span></span><br><span class=line><span class=string>            &#125;</span></span><br><span class=line><span class=string>            </span></span><br><span class=line><span class=string>            .list-item.disabled &#123;</span></span><br><span class=line><span class=string>                color: var(--vscode-disabledForeground);</span></span><br><span class=line><span class=string>                cursor: not-allowed;</span></span><br><span class=line><span class=string>                opacity: 0.6;</span></span><br><span class=line><span class=string>            &#125;</span></span><br><span class=line><span class=string>        `</span>;</span><br><span class=line>    &#125;</span><br><span class=line>    </span><br><span class=line>    <span class=comment>// JavaScript辅助函数</span></span><br><span class=line>    <span class=keyword>static</span> <span class="title function_">getSemanticScript</span>(): <span class=built_in>string</span> &#123;</span><br><span class=line>        <span class=keyword>return</span> <span class=string>`</span></span><br><span class=line><span class=string>            // 手风琴交互</span></span><br><span class=line><span class=string>            document.addEventListener(&#x27;DOMContentLoaded&#x27;, function() &#123;</span></span><br><span class=line><span class=string>                const accordionTriggers = document.querySelectorAll(&#x27;.accordion-trigger&#x27;);</span></span><br><span class=line><span class=string>                </span></span><br><span class=line><span class=string>                accordionTriggers.forEach(trigger =&gt; &#123;</span></span><br><span class=line><span class=string>                    trigger.addEventListener(&#x27;click&#x27;, function() &#123;</span></span><br><span class=line><span class=string>                        const expanded = this.getAttribute(&#x27;aria-expanded&#x27;) === &#x27;true&#x27;;</span></span><br><span class=line><span class=string>                        const content = document.getElementById(this.getAttribute(&#x27;aria-controls&#x27;));</span></span><br><span class=line><span class=string>                        </span></span><br><span class=line><span class=string>                        this.setAttribute(&#x27;aria-expanded&#x27;, !expanded);</span></span><br><span class=line><span class=string>                        content.classList.toggle(&#x27;expanded&#x27;, !expanded);</span></span><br><span class=line><span class=string>                    &#125;);</span></span><br><span class=line><span class=string>                &#125;);</span></span><br><span class=line><span class=string>                </span></span><br><span class=line><span class=string>                // 列表交互</span></span><br><span class=line><span class=string>                const selectableLists = document.querySelectorAll(&#x27;[role=&quot;listbox&quot;], [role=&quot;menu&quot;]&#x27;);</span></span><br><span class=line><span class=string>                </span></span><br><span class=line><span class=string>                selectableLists.forEach(list =&gt; &#123;</span></span><br><span class=line><span class=string>                    const items = list.querySelectorAll(&#x27;[role=&quot;option&quot;], [role=&quot;menuitem&quot;]&#x27;);</span></span><br><span class=line><span class=string>                    const multiSelect = list.getAttribute(&#x27;aria-multiselectable&#x27;) === &#x27;true&#x27;;</span></span><br><span class=line><span class=string>                    </span></span><br><span class=line><span class=string>                    items.forEach(item =&gt; &#123;</span></span><br><span class=line><span class=string>                        item.addEventListener(&#x27;click&#x27;, function() &#123;</span></span><br><span class=line><span class=string>                            if (this.getAttribute(&#x27;aria-disabled&#x27;) === &#x27;true&#x27;) return;</span></span><br><span class=line><span class=string>                            </span></span><br><span class=line><span class=string>                            const selected = this.getAttribute(&#x27;aria-selected&#x27;) === &#x27;true&#x27;;</span></span><br><span class=line><span class=string>                            </span></span><br><span class=line><span class=string>                            if (!multiSelect) &#123;</span></span><br><span class=line><span class=string>                                // 单选：清除其他选择</span></span><br><span class=line><span class=string>                                items.forEach(otherItem =&gt; &#123;</span></span><br><span class=line><span class=string>                                    otherItem.setAttribute(&#x27;aria-selected&#x27;, &#x27;false&#x27;);</span></span><br><span class=line><span class=string>                                    otherItem.classList.remove(&#x27;selected&#x27;);</span></span><br><span class=line><span class=string>                                &#125;);</span></span><br><span class=line><span class=string>                            &#125;</span></span><br><span class=line><span class=string>                            </span></span><br><span class=line><span class=string>                            this.setAttribute(&#x27;aria-selected&#x27;, !selected);</span></span><br><span class=line><span class=string>                            this.classList.toggle(&#x27;selected&#x27;, !selected);</span></span><br><span class=line><span class=string>                        &#125;);</span></span><br><span class=line><span class=string>                        </span></span><br><span class=line><span class=string>                        item.addEventListener(&#x27;keydown&#x27;, function(event) &#123;</span></span><br><span class=line><span class=string>                            if (event.key === &#x27;Enter&#x27; || event.key === &#x27; &#x27;) &#123;</span></span><br><span class=line><span class=string>                                event.preventDefault();</span></span><br><span class=line><span class=string>                                this.click();</span></span><br><span class=line><span class=string>                            &#125;</span></span><br><span class=line><span class=string>                        &#125;);</span></span><br><span class=line><span class=string>                    &#125;);</span></span><br><span class=line><span class=string>                &#125;);</span></span><br><span class=line><span class=string>                </span></span><br><span class=line><span class=string>                // 表格排序</span></span><br><span class=line><span class=string>                const sortableHeaders = document.querySelectorAll(&#x27;th[role=&quot;columnheader&quot;]&#x27;);</span></span><br><span class=line><span class=string>                </span></span><br><span class=line><span class=string>                sortableHeaders.forEach(header =&gt; &#123;</span></span><br><span class=line><span class=string>                    header.addEventListener(&#x27;click&#x27;, function() &#123;</span></span><br><span class=line><span class=string>                        const table = this.closest(&#x27;table&#x27;);</span></span><br><span class=line><span class=string>                        const column = parseInt(this.getAttribute(&#x27;data-column&#x27;));</span></span><br><span class=line><span class=string>                        const currentSort = this.getAttribute(&#x27;aria-sort&#x27;);</span></span><br><span class=line><span class=string>                        </span></span><br><span class=line><span class=string>                        // 重置其他列的排序状态</span></span><br><span class=line><span class=string>                        sortableHeaders.forEach(h =&gt; h.setAttribute(&#x27;aria-sort&#x27;, &#x27;none&#x27;));</span></span><br><span class=line><span class=string>                        </span></span><br><span class=line><span class=string>                        // 设置当前列的排序状态</span></span><br><span class=line><span class=string>                        const newSort = currentSort === &#x27;ascending&#x27; ? &#x27;descending&#x27; : &#x27;ascending&#x27;;</span></span><br><span class=line><span class=string>                        this.setAttribute(&#x27;aria-sort&#x27;, newSort);</span></span><br><span class=line><span class=string>                        </span></span><br><span class=line><span class=string>                        // 执行排序逻辑（这里需要根据实际数据结构实现）</span></span><br><span class=line><span class=string>                        sortTable(table, column, newSort === &#x27;ascending&#x27;);</span></span><br><span class=line><span class=string>                    &#125;);</span></span><br><span class=line><span class=string>                &#125;);</span></span><br><span class=line><span class=string>            &#125;);</span></span><br><span class=line><span class=string>            </span></span><br><span class=line><span class=string>            // 模态对话框控制</span></span><br><span class=line><span class=string>            function openModal(modalId) &#123;</span></span><br><span class=line><span class=string>                const modal = document.getElementById(modalId);</span></span><br><span class=line><span class=string>                if (modal) &#123;</span></span><br><span class=line><span class=string>                    modal.setAttribute(&#x27;aria-hidden&#x27;, &#x27;false&#x27;);</span></span><br><span class=line><span class=string>                    const firstFocusable = modal.querySelector(&#x27;button, [href], input, select, textarea, [tabindex]:not([tabindex=&quot;-1&quot;])&#x27;);</span></span><br><span class=line><span class=string>                    if (firstFocusable) &#123;</span></span><br><span class=line><span class=string>                        firstFocusable.focus();</span></span><br><span class=line><span class=string>                    &#125;</span></span><br><span class=line><span class=string>                &#125;</span></span><br><span class=line><span class=string>            &#125;</span></span><br><span class=line><span class=string>            </span></span><br><span class=line><span class=string>            function closeModal(modalId) &#123;</span></span><br><span class=line><span class=string>                const modal = document.getElementById(modalId);</span></span><br><span class=line><span class=string>                if (modal) &#123;</span></span><br><span class=line><span class=string>                    modal.setAttribute(&#x27;aria-hidden&#x27;, &#x27;true&#x27;);</span></span><br><span class=line><span class=string>                &#125;</span></span><br><span class=line><span class=string>            &#125;</span></span><br><span class=line><span class=string>            </span></span><br><span class=line><span class=string>            // 表格排序函数（示例）</span></span><br><span class=line><span class=string>            function sortTable(table, column, ascending) &#123;</span></span><br><span class=line><span class=string>                const tbody = table.querySelector(&#x27;tbody&#x27;);</span></span><br><span class=line><span class=string>                const rows = Array.from(tbody.querySelectorAll(&#x27;tr&#x27;));</span></span><br><span class=line><span class=string>                </span></span><br><span class=line><span class=string>                rows.sort((a, b) =&gt; &#123;</span></span><br><span class=line><span class=string>                    const aVal = a.children[column].textContent.trim();</span></span><br><span class=line><span class=string>                    const bVal = b.children[column].textContent.trim();</span></span><br><span class=line><span class=string>                    </span></span><br><span class=line><span class=string>                    if (ascending) &#123;</span></span><br><span class=line><span class=string>                        return aVal.localeCompare(bVal, undefined, &#123; numeric: true &#125;);</span></span><br><span class=line><span class=string>                    &#125; else &#123;</span></span><br><span class=line><span class=string>                        return bVal.localeCompare(aVal, undefined, &#123; numeric: true &#125;);</span></span><br><span class=line><span class=string>                    &#125;</span></span><br><span class=line><span class=string>                &#125;);</span></span><br><span class=line><span class=string>                </span></span><br><span class=line><span class=string>                rows.forEach(row =&gt; tbody.appendChild(row));</span></span><br><span class=line><span class=string>            &#125;</span></span><br><span class=line><span class=string>        `</span>;</span><br><span class=line>    &#125;</span><br><span class=line>&#125;</span><br></pre></td></tr></table></figure><hr><h2 id=📚-本阶段总结><a href=#📚-本阶段总结 class=headerlink title="📚 本阶段总结"></a>📚 本阶段总结</h2><p>通过本阶段学习，你已经掌握了：</p><p>✅ <strong>UX设计原则</strong>：VS Code设计哲学、视觉一致性、用户期望管理<br>✅ <strong>界面设计技能</strong>：颜色主题适配、图标规范、响应式布局<br>✅ <strong>交互设计模式</strong>：导航系统、表单设计、状态反馈<br>✅ <strong>无障碍设计能力</strong>：键盘导航、ARIA属性、屏幕阅读器支持<br>✅ <strong>语义化HTML</strong>：结构化内容、可访问组件、交互逻辑</p><h3 id=核心设计原则回顾><a href=#核心设计原则回顾 class=headerlink title=核心设计原则回顾></a>核心设计原则回顾</h3><ul><li><strong>简洁性</strong>：界面简洁明了，避免视觉混乱</li><li><strong>一致性</strong>：遵循VS Code设计规范，保持视觉统一</li><li><strong>可预测性</strong>：用户能够预期操作结果</li><li><strong>可访问性</strong>：支持所有用户，包括残障用户</li><li><strong>响应性</strong>：适配不同设备和屏幕尺寸</li></ul><hr><h2 id=🚀-下一步学习方向><a href=#🚀-下一步学习方向 class=headerlink title="🚀 下一步学习方向"></a>🚀 下一步学习方向</h2><p>在下一阶段（语言扩展开发），我们将学习：</p><ul><li>📝 <strong>语法高亮</strong>：TextMate语法、语义高亮</li><li>🔍 <strong>智能感知</strong>：代码补全、参数提示、悬停信息</li><li>🛠️ <strong>Language Server Protocol</strong>：LSP架构、服务器开发</li><li>🔧 <strong>代码操作</strong>：格式化、重构、快速修复</li></ul><p>继续深入学习之前，建议：</p><ol><li>实践本阶段的无障碍设计技术</li><li>测试扩展在不同主题和对比度下的表现</li><li>使用屏幕阅读器测试扩展可访问性</li><li>收集用户反馈优化用户体验</li></ol><hr><p><strong>相关资源</strong></p><ul><li><a target=_blank rel=noopener href=https://code.visualstudio.com/api/ux-guidelines/overview>VS Code UX指南</a></li><li><a target=_blank rel=noopener href=https://www.w3.org/WAI/ARIA/apg/ >ARIA最佳实践</a></li><li><a target=_blank rel=noopener href=https://www.w3.org/WAI/WCAG21/quickref/ >Web无障碍指南</a></li><li><a target=_blank rel=noopener href=https://code.visualstudio.com/api/extension-guides/color-theme>VS Code主题开发指南</a></li></ul><p>恭喜你完成了VS Code扩展开发的用户体验设计阶段！现在你已经具备了创建专业、易用、无障碍扩展的设计能力。</p></article><div class=post-copyright><div class=post-copyright__author><span class=post-copyright-meta><i class="fas fa-circle-user fa-fw"></i>文章作者: </span><span class=post-copyright-info><a href=https://alunworker.com>AlunWorker</a></span></div><div class=post-copyright__type><span class=post-copyright-meta><i class="fas fa-square-arrow-up-right fa-fw"></i>文章链接: </span><span class=post-copyright-info><a href=https://alunworker.com/vscode/extension/04-ux-design/ >https://alunworker.com/vscode/extension/04-ux-design/</a></span></div><div class=post-copyright__notice><span class=post-copyright-meta><i class="fas fa-circle-exclamation fa-fw"></i>版权声明: </span><span class=post-copyright-info>本博客所有文章除特别声明外，均采用 <a href=https://creativecommons.org/licenses/by-nc-sa/4.0/ target=_blank>CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href=https://alunworker.com target=_blank>AlunWorker</a>！</span></div></div><div class=tag_share><div class=post-meta__tag-list><a class=post-meta__tags href=/tags/VSCode/ >VSCode</a><a class=post-meta__tags href=/tags/%E6%8F%92%E4%BB%B6%E5%BC%80%E5%8F%91/ >插件开发</a><a class=post-meta__tags href=/tags/UX%E8%AE%BE%E8%AE%A1/ >UX设计</a><a class=post-meta__tags href=/tags/%E7%94%A8%E6%88%B7%E4%BD%93%E9%AA%8C/ >用户体验</a><a class=post-meta__tags href=/tags/%E7%95%8C%E9%9D%A2%E8%AE%BE%E8%AE%A1/ >界面设计</a></div><div class=post_share><div class=social-share data-image=/images/icon.webp data-sites=facebook,twitter,wechat,weibo,qq></div><link rel=stylesheet href=https://lib.baomitu.com/social-share.js/1.0.16/css/share.min.css media=print onload='this.media="all"'><script src=https://lib.baomitu.com/social-share.js/1.0.16/js/social-share.min.js defer></script></div></div><nav class=pagination-post id=pagination><div class="prev-post pull-left"><a href=/vscode/extension/learning-roadmap/ title="VS Code 扩展开发完整学习大纲：基于官方API文档"><div class=cover style=background:var(--default-bg-color)></div><div class=pagination-info><div class=label>上一篇</div><div class=prev_info>VS Code 扩展开发完整学习大纲：基于官方API文档</div></div></a></div><div class="next-post pull-right"><a href=/vscode/extension/05-language-extensions/ title="VS Code 扩展开发阶段五：语言扩展开发 - 语法高亮、智能感知与LSP"><div class=cover style=background:var(--default-bg-color)></div><div class=pagination-info><div class=label>下一篇</div><div class=next_info>VS Code 扩展开发阶段五：语言扩展开发 - 语法高亮、智能感知与LSP</div></div></a></div></nav><div class=relatedPosts><div class=headline><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class=relatedPosts-list><div><a href=/vscode/extension/01-foundation/ title="VS Code 扩展开发阶段一：基础入门 - 环境搭建与核心概念"><div class=cover style=background:var(--default-bg-color)></div><div class="content is-center"><div class=date><i class="far fa-calendar-alt fa-fw"></i> 2025-09-20</div><div class=title>VS Code 扩展开发阶段一：基础入门 - 环境搭建与核心概念</div></div></a></div><div><a href=/vscode/extension/02-core-capabilities/ title="VS Code 扩展开发阶段二：核心能力开发 - 主题、工作台与编辑器功能"><div class=cover style=background:var(--default-bg-color)></div><div class="content is-center"><div class=date><i class="far fa-calendar-alt fa-fw"></i> 2025-09-20</div><div class=title>VS Code 扩展开发阶段二：核心能力开发 - 主题、工作台与编辑器功能</div></div></a></div><div><a href=/vscode/extension/03-advanced-guides/ title="VS Code 扩展开发阶段三：扩展指南专题 - AI集成、WebView与自定义编辑器"><div class=cover style=background:var(--default-bg-color)></div><div class="content is-center"><div class=date><i class="far fa-calendar-alt fa-fw"></i> 2025-09-20</div><div class=title>VS Code 扩展开发阶段三：扩展指南专题 - AI集成、WebView与自定义编辑器</div></div></a></div><div><a href=/vscode/extension/06-advanced-topics/ title="VS Code 扩展开发阶段六：高级主题 - 调试器、任务系统与SCM集成"><div class=cover style=background:var(--default-bg-color)></div><div class="content is-center"><div class=date><i class="far fa-calendar-alt fa-fw"></i> 2025-09-20</div><div class=title>VS Code 扩展开发阶段六：高级主题 - 调试器、任务系统与SCM集成</div></div></a></div><div><a href=/vscode/extension/07-testing-publishing/ title="VS Code 扩展开发阶段七：测试与发布 - 质量保证与市场发布"><div class=cover style=background:var(--default-bg-color)></div><div class="content is-center"><div class=date><i class="far fa-calendar-alt fa-fw"></i> 2025-09-20</div><div class=title>VS Code 扩展开发阶段七：测试与发布 - 质量保证与市场发布</div></div></a></div><div><a href=/vscode/extension/learning-roadmap/ title="VS Code 扩展开发完整学习大纲：基于官方API文档"><div class=cover style=background:var(--default-bg-color)></div><div class="content is-center"><div class=date><i class="far fa-calendar-alt fa-fw"></i> 2025-09-20</div><div class=title>VS Code 扩展开发完整学习大纲：基于官方API文档</div></div></a></div></div></div></div><div class=aside-content id=aside-content><div class="card-widget card-info"><div class=is-center><div class=avatar-img><img src=/images/loading.gif data-original=/images/icon.webp onerror='this.onerror=null,this.src="/img/friend_404.gif"' alt=avatar></div><div class=author-info__name>AlunWorker</div><div class=author-info__description>越努力越幸运!</div></div><div class="card-info-data site-data is-center"><a href=/archives/ ><div class=headline>文章</div><div class=length-num>83</div></a><a href=/tags/ ><div class=headline>标签</div><div class=length-num>178</div></a><a href=/categories/ ><div class=headline>分类</div><div class=length-num>16</div></a></div><a id=card-info-btn target=_blank rel=noopener href=https://github.com/xxxxxx><i class="fab fa-github"></i><span>Follow Me</span></a></div><div class=sticky_layout><div class=card-widget id=card-toc><div class=item-headline><i class="fas fa-stream"></i><span>目录</span><span class=toc-percentage></span></div><div class=toc-content><ol class=toc><li class="toc-item toc-level-2"><a class=toc-link href=#%F0%9F%8E%AF-%E5%AD%A6%E4%B9%A0%E7%9B%AE%E6%A0%87><span class=toc-number>1.</span> <span class=toc-text>🎯 学习目标</span></a></li><li class="toc-item toc-level-2"><a class=toc-link href=#%F0%9F%93%90-%E7%AC%AC%E4%B8%80%E9%83%A8%E5%88%86%EF%BC%9AVS-Code%E8%AE%BE%E8%AE%A1%E5%8E%9F%E5%88%99%E4%B8%8E%E6%8C%87%E5%8D%97><span class=toc-number>2.</span> <span class=toc-text>📐 第一部分：VS Code设计原则与指南</span></a><ol class=toc-child><li class="toc-item toc-level-3"><a class=toc-link href=#1-1-%E6%A0%B8%E5%BF%83%E8%AE%BE%E8%AE%A1%E5%93%B2%E5%AD%A6><span class=toc-number>2.1.</span> <span class=toc-text>1.1 核心设计哲学</span></a><ol class=toc-child><li class="toc-item toc-level-4"><a class=toc-link href=#VS-Code%E7%9A%84%E8%AE%BE%E8%AE%A1%E7%90%86%E5%BF%B5><span class=toc-number>2.1.1.</span> <span class=toc-text>VS Code的设计理念</span></a></li></ol></li><li class="toc-item toc-level-3"><a class=toc-link href=#1-2-%E8%A7%86%E8%A7%89%E8%AE%BE%E8%AE%A1%E6%8C%87%E5%8D%97><span class=toc-number>2.2.</span> <span class=toc-text>1.2 视觉设计指南</span></a><ol class=toc-child><li class="toc-item toc-level-4"><a class=toc-link href=#%E9%A2%9C%E8%89%B2%E5%92%8C%E4%B8%BB%E9%A2%98%E9%80%82%E9%85%8D><span class=toc-number>2.2.1.</span> <span class=toc-text>颜色和主题适配</span></a></li><li class="toc-item toc-level-4"><a class=toc-link href=#%E5%9B%BE%E6%A0%87%E5%92%8C%E5%AD%97%E4%BD%93%E8%A7%84%E8%8C%83><span class=toc-number>2.2.2.</span> <span class=toc-text>图标和字体规范</span></a></li></ol></li><li class="toc-item toc-level-3"><a class=toc-link href=#1-3-%E5%B8%83%E5%B1%80%E5%92%8C%E7%A9%BA%E9%97%B4%E8%AE%BE%E8%AE%A1><span class=toc-number>2.3.</span> <span class=toc-text>1.3 布局和空间设计</span></a></li></ol></li><li class="toc-item toc-level-2"><a class=toc-link href=#%F0%9F%8E%9B%EF%B8%8F-%E7%AC%AC%E4%BA%8C%E9%83%A8%E5%88%86%EF%BC%9A%E4%BA%A4%E4%BA%92%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F><span class=toc-number>3.</span> <span class=toc-text>🎛️ 第二部分：交互设计模式</span></a><ol class=toc-child><li class="toc-item toc-level-3"><a class=toc-link href=#2-1-%E5%AF%BC%E8%88%AA%E5%92%8C%E8%8F%9C%E5%8D%95%E8%AE%BE%E8%AE%A1><span class=toc-number>3.1.</span> <span class=toc-text>2.1 导航和菜单设计</span></a></li><li class="toc-item toc-level-3"><a class=toc-link href=#2-2-%E8%A1%A8%E5%8D%95%E5%92%8C%E8%BE%93%E5%85%A5%E8%AE%BE%E8%AE%A1><span class=toc-number>3.2.</span> <span class=toc-text>2.2 表单和输入设计</span></a></li><li class="toc-item toc-level-3"><a class=toc-link href=#2-3-%E7%8A%B6%E6%80%81%E5%92%8C%E5%8F%8D%E9%A6%88%E8%AE%BE%E8%AE%A1><span class=toc-number>3.3.</span> <span class=toc-text>2.3 状态和反馈设计</span></a></li></ol></li><li class="toc-item toc-level-2"><a class=toc-link href=#%E2%99%BF-%E7%AC%AC%E4%B8%89%E9%83%A8%E5%88%86%EF%BC%9A%E6%97%A0%E9%9A%9C%E7%A2%8D%E8%AE%BE%E8%AE%A1><span class=toc-number>4.</span> <span class=toc-text>♿ 第三部分：无障碍设计</span></a><ol class=toc-child><li class="toc-item toc-level-3"><a class=toc-link href=#3-1-%E9%94%AE%E7%9B%98%E5%AF%BC%E8%88%AA%E6%94%AF%E6%8C%81><span class=toc-number>4.1.</span> <span class=toc-text>3.1 键盘导航支持</span></a></li><li class="toc-item toc-level-3"><a class=toc-link href=#3-2-%E8%AF%AD%E4%B9%89%E5%8C%96HTML%E5%92%8CARIA><span class=toc-number>4.2.</span> <span class=toc-text>3.2 语义化HTML和ARIA</span></a></li></ol></li><li class="toc-item toc-level-2"><a class=toc-link href=#%F0%9F%93%9A-%E6%9C%AC%E9%98%B6%E6%AE%B5%E6%80%BB%E7%BB%93><span class=toc-number>5.</span> <span class=toc-text>📚 本阶段总结</span></a><ol class=toc-child><li class="toc-item toc-level-3"><a class=toc-link href=#%E6%A0%B8%E5%BF%83%E8%AE%BE%E8%AE%A1%E5%8E%9F%E5%88%99%E5%9B%9E%E9%A1%BE><span class=toc-number>5.1.</span> <span class=toc-text>核心设计原则回顾</span></a></li></ol></li><li class="toc-item toc-level-2"><a class=toc-link href=#%F0%9F%9A%80-%E4%B8%8B%E4%B8%80%E6%AD%A5%E5%AD%A6%E4%B9%A0%E6%96%B9%E5%90%91><span class=toc-number>6.</span> <span class=toc-text>🚀 下一步学习方向</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class=item-headline><i class="fas fa-history"></i><span>最新文章</span></div><div class=aside-list><div class="aside-list-item no-cover"><div class=content><a class=title href=/vscode/extension/01-foundation/ title="VS Code 扩展开发阶段一：基础入门 - 环境搭建与核心概念">VS Code 扩展开发阶段一：基础入门 - 环境搭建与核心概念</a><time datetime=2025-09-19T16:00:00.000Z title="发表于 2025-09-20 00:00:00">2025-09-20</time></div></div><div class="aside-list-item no-cover"><div class=content><a class=title href=/vscode/extension/02-core-capabilities/ title="VS Code 扩展开发阶段二：核心能力开发 - 主题、工作台与编辑器功能">VS Code 扩展开发阶段二：核心能力开发 - 主题、工作台与编辑器功能</a><time datetime=2025-09-19T16:00:00.000Z title="发表于 2025-09-20 00:00:00">2025-09-20</time></div></div><div class="aside-list-item no-cover"><div class=content><a class=title href=/vscode/extension/03-advanced-guides/ title="VS Code 扩展开发阶段三：扩展指南专题 - AI集成、WebView与自定义编辑器">VS Code 扩展开发阶段三：扩展指南专题 - AI集成、WebView与自定义编辑器</a><time datetime=2025-09-19T16:00:00.000Z title="发表于 2025-09-20 00:00:00">2025-09-20</time></div></div><div class="aside-list-item no-cover"><div class=content><a class=title href=/vscode/extension/06-advanced-topics/ title="VS Code 扩展开发阶段六：高级主题 - 调试器、任务系统与SCM集成">VS Code 扩展开发阶段六：高级主题 - 调试器、任务系统与SCM集成</a><time datetime=2025-09-19T16:00:00.000Z title="发表于 2025-09-20 00:00:00">2025-09-20</time></div></div><div class="aside-list-item no-cover"><div class=content><a class=title href=/vscode/extension/07-testing-publishing/ title="VS Code 扩展开发阶段七：测试与发布 - 质量保证与市场发布">VS Code 扩展开发阶段七：测试与发布 - 质量保证与市场发布</a><time datetime=2025-09-19T16:00:00.000Z title="发表于 2025-09-20 00:00:00">2025-09-20</time></div></div></div></div></div></div></main><footer id=footer style=background:#000><div id=footer-wrap><div class=copyright>&copy;2020 - 2025 By AlunWorker</div><div class=framework-info><span>框架 </span><a target=_blank rel=noopener href=https://hexo.io>Hexo</a><span class=footer-separator>|</span><span>主题 </span><a target=_blank rel=noopener href=https://github.com/jerryc127/hexo-theme-butterfly>Butterfly</a></div></div></footer></div><div id=rightside><div id=rightside-config-hide><button id=readmode type=button title=阅读模式><i class="fas fa-book-open"></i></button><button id=darkmode type=button title=浅色和深色模式转换><i class="fas fa-adjust"></i></button><button id=hide-aside-btn type=button title=单栏和双栏切换><i class="fas fa-arrows-alt-h"></i></button></div><div id=rightside-config-show><button id=rightside-config type=button title=设置><i class="fas fa-cog fa-spin"></i></button><button class=close id=mobile-toc-button type=button title=目录><i class="fas fa-list-ul"></i></button><button id=go-up type=button title=回到顶部><span class=scroll-percent></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js?v=4.13.0"></script><script src="/js/main.js?v=4.13.0"></script><script src=/ ></script><div class=js-pjax></div><script async data-pjax src=//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js></script><div id=local-search><div class=search-dialog><nav class=search-nav><span class=search-dialog-title>搜索</span><span id=loading-status></span><button class=search-close-button><i class="fas fa-times"></i></button></nav><div class=is-center id=loading-database><i class="fas fa-spinner fa-pulse"></i><span> 数据库加载中</span></div><div class=search-wrap><div id=local-search-input><div class=local-search-box><input class=local-search-box--input placeholder=搜索文章 type=text></div></div><hr><div id=local-search-results></div><div id=local-search-stats-wrap></div></div></div><div id=search-mask></div><script src="/js/search/local-search.js?v=4.13.0"></script></div></div><style>[bg-lazy]{background-image:none!important;background-color:#eee!important}</style><script>window.imageLazyLoadSetting={isSPA:!1,preloadRatio:1,processImages:null}</script><script>window.addEventListener("load",function(){var t=/\.(gif|jpg|jpeg|tiff|png)$/i,r=/^data:image\/[a-z]+;base64,/;Array.prototype.slice.call(document.querySelectorAll("img[data-original]")).forEach(function(a){var e=a.parentNode;"A"===e.tagName&&(e.href.match(t)||e.href.match(r))&&(e.href=a.dataset.original)})})</script><script>!function(r){r.imageLazyLoadSetting.processImages=t;var e=r.imageLazyLoadSetting.isSPA,n=r.imageLazyLoadSetting.preloadRatio||1,c=a();function a(){var t=Array.prototype.slice.call(document.querySelectorAll("img[data-original]")),e=Array.prototype.slice.call(document.querySelectorAll("[bg-lazy]"));return t.concat(e)}function t(){e&&(c=a());for(var t,o=0;o<c.length;o++)0<=(t=(t=c[o]).getBoundingClientRect()).bottom&&0<=t.left&&t.top<=(r.innerHeight*n||document.documentElement.clientHeight*n)&&function(){var t,e,n,a,i=c[o];e=function(){c=c.filter(function(t){return i!==t}),r.imageLazyLoadSetting.onImageLoaded&&r.imageLazyLoadSetting.onImageLoaded(i)},(t=i).hasAttribute("bg-lazy")?(t.removeAttribute("bg-lazy"),e()):(n=new Image,a=t.getAttribute("data-original"),n.onload=function(){t.src=a,t.removeAttribute("data-original"),e()},t.src!==a&&(n.src=a))}()}function i(){clearTimeout(t.tId),t.tId=setTimeout(t,500)}t(),document.addEventListener("scroll",i),r.addEventListener("resize",i),r.addEventListener("orientationchange",i)}(this)</script></body></html>