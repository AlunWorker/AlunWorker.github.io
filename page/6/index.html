<!doctype html><html lang=zh-CN data-theme=dark><head><meta charset=UTF-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,viewport-fit=cover"><title>AlunWorker</title><meta name=author content=AlunWorker><meta name=copyright content=AlunWorker><meta name=format-detection content="telephone=no"><meta name=theme-color content=#0d0d0d><meta name=description content=越努力越幸运!><meta property=og:type content=website><meta property=og:title content=AlunWorker><meta property=og:url content=https://alunworker.com/page/6/index.html><meta property=og:site_name content=AlunWorker><meta property=og:description content=越努力越幸运!><meta property=og:locale content=zh_CN><meta property=og:image content=https://alunworker.com/images/icon.webp><meta property=article:author content=AlunWorker><meta name=twitter:card content=summary><meta name=twitter:image content=https://alunworker.com/images/icon.webp><link rel="shortcut icon" href=/images/favicon.webp><link rel=canonical href=https://alunworker.com/page/6/index.html><link rel=preconnect><link rel=preconnect href=//busuanzi.ibruce.info><link rel=stylesheet href="/css/index.css?v=4.13.0"><link rel=stylesheet href=https://lf6-cdn-tos.bytecdntp.com/cdn/expire-1-M/font-awesome/6.0.0/css/all.min.css><link rel=stylesheet href=/ media=print onload='this.media="all"'><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":false,"top_n_per_article":1,"unescape":false,"languages":{"hits_empty":"找不到您查询的内容：${query}","hits_stats":"共找到 ${hits} 篇文章"}},
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  infinitegrid: {
    js: '/',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: true,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id=config-diff>var GLOBAL_CONFIG_SITE={title:"AlunWorker",isPost:!1,isHome:!0,isHighlightShrink:!1,isToc:!1,postUpdate:"2025-07-25 14:18:56"}</script><script>(win=>{
      win.saveToLocal = {
        set: (key, value, ttl) => {
          if (ttl === 0) return
          const now = Date.now()
          const expiry = now + ttl * 86400000
          const item = {
            value,
            expiry
          }
          localStorage.setItem(key, JSON.stringify(item))
        },
      
        get: key => {
          const itemStr = localStorage.getItem(key)
      
          if (!itemStr) {
            return undefined
          }
          const item = JSON.parse(itemStr)
          const now = Date.now()
      
          if (now > item.expiry) {
            localStorage.removeItem(key)
            return undefined
          }
          return item.value
        }
      }
    
      win.getScript = (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        script.onerror = reject
        script.onload = script.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          script.onload = script.onreadystatechange = null
          resolve()
        }

        Object.keys(attr).forEach(key => {
          script.setAttribute(key, attr[key])
        })

        document.head.appendChild(script)
      })
    
      win.getCSS = (url, id = false) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onerror = reject
        link.onload = link.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          link.onload = link.onreadystatechange = null
          resolve()
        }
        document.head.appendChild(link)
      })
    
      win.activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
        if (t === 'dark') activateDarkMode()
        else if (t === 'light') activateLightMode()
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
      const detectApple = () => {
        if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
          document.documentElement.classList.add('apple')
        }
      }
      detectApple()
    })(window)</script><meta name=generator content="Hexo 7.1.1"></head><body><div id=loading-box><div class=loading-left-bg></div><div class=loading-right-bg></div><div class=spinner-box><div class=configure-border-1><div class=configure-core></div></div><div class=configure-border-2><div class=configure-core></div></div><div class=loading-word>加载中...</div></div></div><script>(()=>{
  const $loadingBox = document.getElementById('loading-box')
  const $body = document.body
  const preloader = {
    endLoading: () => {
      $body.style.overflow = ''
      $loadingBox.classList.add('loaded')
    },
    initLoading: () => {
      $body.style.overflow = 'hidden'
      $loadingBox.classList.remove('loaded')
    }
  }

  preloader.initLoading()
  window.addEventListener('load',() => { preloader.endLoading() })

  if (false) {
    document.addEventListener('pjax:send', () => { preloader.initLoading() })
    document.addEventListener('pjax:complete', () => { preloader.endLoading() })
  }
})()</script><div id=sidebar><div id=menu-mask></div><div id=sidebar-menus><div class="avatar-img is-center"><img src=/images/loading.gif data-original=/images/icon.webp onerror='onerror=null,src="/img/friend_404.gif"' alt=avatar></div><div class="sidebar-site-data site-data is-center"><a href=/archives/ ><div class=headline>文章</div><div class=length-num>70</div></a><a href=/tags/ ><div class=headline>标签</div><div class=length-num>122</div></a><a href=/categories/ ><div class=headline>分类</div><div class=length-num>10</div></a></div><hr class=custom-hr><div class=menus_items><div class=menus_item><a class=site-page href=/ ><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class=menus_item><a class=site-page href=/archives/ ><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class=menus_item><a class=site-page href=/tags/ ><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class=menus_item><a class=site-page href=/categories/ ><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class=menus_item><a class=site-page href=/about/ ><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div></div></div><div class=page id=body-wrap><header class=full_page id=page-header style=background-image:url(/images/blog_bg.webp)><nav id=nav><span id=blog-info><a href=/ title=AlunWorker><span class=site-name>AlunWorker</span></a></span><div id=menus><div id=search-button><a class="site-page social-icon search" href=javascript:void(0);><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class=menus_items><div class=menus_item><a class=site-page href=/ ><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class=menus_item><a class=site-page href=/archives/ ><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class=menus_item><a class=site-page href=/tags/ ><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class=menus_item><a class=site-page href=/categories/ ><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class=menus_item><a class=site-page href=/about/ ><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div><div id=toggle-menu><a class=site-page href=javascript:void(0);><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id=site-info><h1 id=site-title>AlunWorker</h1><div id=site-subtitle><span id=subtitle></span></div></div><div id=scroll-down><i class="fas fa-angle-down scroll-down-effects"></i></div></header><main class=layout id=content-inner><div class=recent-posts id=recent-posts><div class=recent-post-item><div class="post_cover left"><a href=/CocosShader/cocos-shader-9-1-2d-gradient-sprite/ title=第9.1章：2D渐变精灵着色器><img class=post-bg src=/images/loading.gif data-original=/images/cocosshader/2d-gradient-sprite-shader-cover.webp onerror='this.onerror=null,this.src="/img/404.jpg"' alt=第9.1章：2D渐变精灵着色器></a></div><div class=recent-post-info><a class=article-title href=/CocosShader/cocos-shader-9-1-2d-gradient-sprite/ title=第9.1章：2D渐变精灵着色器>第9.1章：2D渐变精灵着色器</a><div class=article-meta-wrap><span class=post-meta-date><i class="far fa-calendar-alt"></i><span class=article-meta-label>发表于</span><time datetime=2024-02-03T16:00:00.000Z title="发表于 2024-02-04 00:00:00">2024-02-04</time></span><span class=article-meta><span class=article-meta-separator>|</span><i class="fas fa-inbox"></i><a class=article-meta__categories href=/categories/CocosShader/ >CocosShader</a></span></div><div class=content>第9.1章：2D渐变精灵着色器在2D游戏开发中，视觉效果是创造吸引力的重要手段。本章将详细介绍如何在Cocos Creator中实现各种2D精灵特效，包括线性渐变、径向渐变和动态渐变。 🎯 学习目标通过本章学习，你将掌握： 2D渐变的数学原理和实现方法 在Cocos Creator中创建各种类型的渐变着色器 各种渐变类型的实现（线性、径向、角度渐变） 动态渐变和动画效果控制 💡 渐变效果原理渐变的基本类型2D渐变主要包含以下几种类型： 线性渐变（Linear Gradient） 沿直线方向的颜色过渡 可控制方向和位置 径向渐变（Radial Gradient） 从中心点向外扩散的圆形渐变 可控制中心点和半径 角度渐变（Angular Gradient） 围绕中心点旋转的渐变 适合制作特效 动态渐变（Animated Gradient） 随时间变化的渐变效果 增强游戏视觉表现力 📐 渐变数学原理线性渐变计算1234567891011// 线性渐变的基础计算float linearGradient(vec2 uv, vec2 direction, ...</div></div></div><div class=recent-post-item><div class="recent-post-info no-cover"><a class=article-title href=/CocosShader/cocos-shader-9-2-wave-distortion/ title=第9.2章：2D波纹扭曲着色器>第9.2章：2D波纹扭曲着色器</a><div class=article-meta-wrap><span class=post-meta-date><i class="far fa-calendar-alt"></i><span class=article-meta-label>发表于</span><time datetime=2024-02-03T16:00:00.000Z title="发表于 2024-02-04 00:00:00">2024-02-04</time></span><span class=article-meta><span class=article-meta-separator>|</span><i class="fas fa-inbox"></i><a class=article-meta__categories href=/categories/CocosShader/ >CocosShader</a></span></div><div class=content>第9.2章：2D波纹扭曲着色器波纹扭曲效果是2D游戏中常见的动态视觉效果，常用于水面扰动、魔法阵、冲击波等场景。本章将详细介绍如何实现各种波纹扭曲效果。 🎯 学习目标 理解波纹扭曲的数学原理 掌握径向和线性扭曲技术 学会创建动态波纹动画 理解多层波纹叠加效果 💡 波纹扭曲原理数学基础波纹扭曲通过修改UV坐标实现： 1234// 径向波纹float distance = length(uv - center);float wave = sin(distance * frequency - time * speed) * amplitude;vec2 distortedUV = uv + normalize(uv - center) * wave; 视觉效果分析12原始纹理 → 计算距离 → 生成波形 → UV偏移 → 扭曲效果[texture] [distance] [wave] [offset] [distorted] 🔧 基础波纹效果1. 简单径向波纹12345678910111213141516171819202122232425262728293 ...</div></div></div><div class=recent-post-item><div class="recent-post-info no-cover"><a class=article-title href=/CocosShader/cocos-shader-9-3-color-replace/ title=第9.3章：2D颜色替换着色器>第9.3章：2D颜色替换着色器</a><div class=article-meta-wrap><span class=post-meta-date><i class="far fa-calendar-alt"></i><span class=article-meta-label>发表于</span><time datetime=2024-02-03T16:00:00.000Z title="发表于 2024-02-04 00:00:00">2024-02-04</time></span><span class=article-meta><span class=article-meta-separator>|</span><i class="fas fa-inbox"></i><a class=article-meta__categories href=/categories/CocosShader/ >CocosShader</a></span></div><div class=content>第9.3章：2D颜色替换着色器颜色替换是2D游戏中常用的技术，可以实现换装系统、队伍标识、昼夜变化等效果。本章将详细介绍各种颜色替换技术的实现。 🎯 学习目标 理解颜色替换的基本原理 掌握精确颜色匹配和范围替换 学会实现调色板交换系统 理解HSV颜色空间的应用 💡 颜色替换原理基础概念颜色替换通过检测特定颜色并用新颜色替代： 123456// 基础颜色替换if (distance(originalColor, targetColor) &lt; threshold) &#123; finalColor = replacementColor;&#125; else &#123; finalColor = originalColor;&#125; 替换方式分类1234精确匹配 - 单一颜色替换范围匹配 - 相似颜色替换 调色板 - 批量颜色映射HSV调整 - 色调/饱和度修改 🔧 基础颜色替换1. 精确颜色替换1234567891011121314151617181920212223242526272829303132333435363738394041424 ...</div></div></div><div class=recent-post-item><div class="recent-post-info no-cover"><a class=article-title href=/CocosShader/cocos-shader-9-4-outline/ title=第9.4章：2D描边着色器>第9.4章：2D描边着色器</a><div class=article-meta-wrap><span class=post-meta-date><i class="far fa-calendar-alt"></i><span class=article-meta-label>发表于</span><time datetime=2024-02-03T16:00:00.000Z title="发表于 2024-02-04 00:00:00">2024-02-04</time></span><span class=article-meta><span class=article-meta-separator>|</span><i class="fas fa-inbox"></i><a class=article-meta__categories href=/categories/CocosShader/ >CocosShader</a></span></div><div class=content>第9.4章：2D描边着色器描边效果是2D游戏中非常常见的视觉增强技术，用于突出角色、UI元素、提高可读性等。本章将详细介绍各种描边技术的实现方法。 🎯 学习目标 理解描边效果的基本原理 掌握外描边和内描边技术 学会实现多色描边和动态描边 理解距离场描边的高级应用 💡 描边原理基础概念描边通过检测边缘并在周围绘制颜色实现： 12345678// 基础描边检测float edge = 0.0;for (int i = -outlineWidth; i &lt;= outlineWidth; i++) &#123; for (int j = -outlineWidth; j &lt;= outlineWidth; j++) &#123; vec2 offset = vec2(i, j) * texelSize; edge += texture(mainTexture, uv + offset).a; &#125;&#125; 描边类型分类1234外描边 - 在透明区域绘制边缘内描边 - 在不透明区域内侧绘制双向描边 - 同时包含内外描边发光 ...</div></div></div><div class=recent-post-item><div class="recent-post-info no-cover"><a class=article-title href=/Shader/Shader003/ title="Shader 常见纹理集定义">Shader 常见纹理集定义</a><div class=article-meta-wrap><span class=post-meta-date><i class="far fa-calendar-alt"></i><span class=article-meta-label>发表于</span><time datetime=2024-02-03T16:00:00.000Z title="发表于 2024-02-04 00:00:00">2024-02-04</time></span><span class=article-meta><span class=article-meta-separator>|</span><i class="fas fa-inbox"></i><a class=article-meta__categories href=/categories/Shader/ >Shader</a></span></div><div class=content>基本渲染普通渲染（通常指的是传统的非基于物理的渲染流程）通常依赖于一组较为简单的纹理集，这些纹理集主要用于模拟光照和表面细节，但不会像PBR那样严格遵循物理规律。以下是普通渲染中常见的一些纹理类型： 漫反射（Diffuse）纹理： 作用：存储材质表面的颜色信息，是最基本的纹理。 描述：漫反射纹理通常包含颜色信息，用于确定物体在普通光照条件下的颜色。 高光（Specular）纹理： 作用：定义材质表面高光区域的强度和大小。 描述：高光纹理通常用于控制光照反射的强度和范围，使物体表面在光照下产生亮点。 法线（Normal）纹理： 作用：模拟表面细节的凹凸感。 描述：法线纹理提供表面法线信息，用于在渲染时计算光照，从而在不增加几何复杂度的情况下模拟出更加细致的表面凹凸效果。 环境光遮蔽（Ambient Occlusion）纹理： 作用：模拟光线被周围结构遮挡的效果。 描述：环境光遮蔽纹理用于在材质表面添加阴影，模拟光线被邻近表面遮挡的情况，增加材质的深度感。 反射（Reflection）或镜面（Mirror）纹理： 作用：存储反射信息，用于模拟物体表面的反射效果。 ...</div></div></div><div class=recent-post-item><div class="recent-post-info no-cover"><a class=article-title href=/Shader/Shader101/ title=渲染管线>渲染管线</a><div class=article-meta-wrap><span class=post-meta-date><i class="far fa-calendar-alt"></i><span class=article-meta-label>发表于</span><time datetime=2024-02-03T16:00:00.000Z title="发表于 2024-02-04 00:00:00">2024-02-04</time></span><span class=article-meta><span class=article-meta-separator>|</span><i class="fas fa-inbox"></i><a class=article-meta__categories href=/categories/Shader/ >Shader</a></span></div><div class=content>前言学习Shader就离不开渲染管线，渲染管线是流水线工作的处理形式把3D元素转换到屏幕上2D图像，渲染管线大致分为4个阶段分别是:应用阶段、几何阶段、光栅化阶段、逐片元操作，游戏引擎一般还有一个比较常见的后处理阶段，最后才到输出。 应用阶段 准备基本场景数据 场景物体数据 摄像机数据 光源及阴影数据 其他全局数据 优化(粗粒度剔除、加速算法) 视锥剔除 遮挡剔除 层级剔除 距离剔除 其他算法 设置渲染状态，准备渲染参数 绘制设置(着色器、合批方式) 绘制顺序(相对摄像机距离、材料RenderQueue、UICanvas等等) 渲染目标（FrameBuffer、RenderTexture） 渲染模式(前向渲染、延迟渲染) 调用DrawCall，输出渲染图元到显存 顶点数据（位置、颜色、法线、纹理uv坐标） 其他数据（MVP变化矩阵、纹理贴图等等） 几何阶段 顶点着色器(Vertex Shading)(可编程) 视图转变 顶点着色 投影 正交(NDC中，W等于1) 透视(NDC中，W代表与摄像机的距离,近小远大) 裁剪 视锥体裁剪(CVV) 正面或背面剔除(可配 ...</div></div></div><div class=recent-post-item><div class="post_cover left"><a href=/CocosShader/cocos-shader-6-1-lighting-models/ title=第6.1章：光照模型详解><img class=post-bg src=/images/loading.gif data-original=/images/cocosshader/lighting-models-cover.webp onerror='this.onerror=null,this.src="/img/404.jpg"' alt=第6.1章：光照模型详解></a></div><div class=recent-post-info><a class=article-title href=/CocosShader/cocos-shader-6-1-lighting-models/ title=第6.1章：光照模型详解>第6.1章：光照模型详解</a><div class=article-meta-wrap><span class=post-meta-date><i class="far fa-calendar-alt"></i><span class=article-meta-label>发表于</span><time datetime=2024-02-03T16:00:00.000Z title="发表于 2024-02-04 00:00:00">2024-02-04</time></span><span class=article-meta><span class=article-meta-separator>|</span><i class="fas fa-inbox"></i><a class=article-meta__categories href=/categories/CocosShader/ >CocosShader</a></span></div><div class=content>第6.1章：光照模型详解光照模型是计算机图形学中的核心概念，它决定了物体表面如何与光线交互产生视觉效果。本章将深入讲解经典光照模型的数学原理和实现方法。 🎯 学习目标通过本章学习，你将掌握： 光照计算的基本理�?- Phong光照模型的原理与实现 Blinn-Phong改进算法 环境光、漫反射、镜面反射的详细计算 在Cocos Creator中实现自定义光照模型 💡 光照基础理论光线与表面的交互当光线照射到物体表面时，会发生以下几种现象： 1// 光照计算的基本组�?vec3 finalColor = ambientLight + diffuseLight + specularLight; **反射（Reflection�?*：光线按照入射角等于反射角的规律反射 **折射（Refraction�?*：光线进入物体内部并改变传播方向 **吸收（Absorption�?*：部分光能被物体吸收转化为热�?4. **散射（Scattering�?*：光线在物体内部发生多次反射 光照计算的数学基础光照计算涉及几个重要的向量： 12345// 关键向量定义vec3 N = nor ...</div></div></div><div class=recent-post-item><div class="post_cover right"><a href=/CocosShader/cocos-shader-7-3-replaceable-functions/ title=第7.3章：可替换内置函数><img class=post-bg src=/images/loading.gif data-original=/images/cocosshader/replaceable-functions-cover.webp onerror='this.onerror=null,this.src="/img/404.jpg"' alt=第7.3章：可替换内置函数></a></div><div class=recent-post-info><a class=article-title href=/CocosShader/cocos-shader-7-3-replaceable-functions/ title=第7.3章：可替换内置函数>第7.3章：可替换内置函数</a><div class=article-meta-wrap><span class=post-meta-date><i class="far fa-calendar-alt"></i><span class=article-meta-label>发表于</span><time datetime=2024-02-03T16:00:00.000Z title="发表于 2024-02-04 00:00:00">2024-02-04</time></span><span class=article-meta><span class=article-meta-separator>|</span><i class="fas fa-inbox"></i><a class=article-meta__categories href=/categories/CocosShader/ >CocosShader</a></span></div><div class=content>第7.3章：可替换内置函数Cocos Creator提供了丰富的内置函数来处理各种渲染任务，但有时我们需要根据特定需求重写这些函数。本章将深入探讨如何安全地替换内置函数，扩展系统功能，并避免潜在的兼容性问题。 🎯 学习目标通过本章学习，你将掌握： Cocos Creator内置函数的分类和作用 内置函数的重写机制和安全实践 常用内置函数的自定义实现 函数重写的性能考虑和优化技巧 大型项目中的函数替换管理策略 💡 内置函数概览Cocos Creator主要内置函数分类12345678910111213141516171819202122232425// 1. 变换矩阵相关uniform mat4 cc_matWorld; // 世界变换矩阵uniform mat4 cc_matWorldIT; // 世界变换逆转置矩阵uniform mat4 cc_matView; // 视图矩阵uniform mat4 cc_matProj; // 投影矩阵uniform mat4 cc_matViewProj; ...</div></div></div><div class=recent-post-item><div class="post_cover left"><a href=/CocosShader/surface-shader-execution-flow/ title="�?.3章：Surface Shader执行流程详解"><img class=post-bg src=/images/loading.gif data-original=/images/cocosshader/surface-shader-execution-flow-cover.webp onerror='this.onerror=null,this.src="/img/404.jpg"' alt="�?.3章：Surface Shader执行流程详解"></a></div><div class=recent-post-info><a class=article-title href=/CocosShader/surface-shader-execution-flow/ title="�?.3章：Surface Shader执行流程详解">�?.3章：Surface Shader执行流程详解</a><div class=article-meta-wrap><span class=post-meta-date><i class="far fa-calendar-alt"></i><span class=article-meta-label>发表于</span><time datetime=2024-02-03T16:00:00.000Z title="发表于 2024-02-04 00:00:00">2024-02-04</time></span><span class=article-meta><span class=article-meta-separator>|</span><i class="fas fa-inbox"></i><a class=article-meta__categories href=/categories/CocosShader/ >CocosShader</a></span></div><div class=content>�?.3章：Surface Shader执行流程详解理解Surface Shader的执行流程对于优化性能和调试问题至关重要。本章将详细解析Surface Shader在渲染管线中的执行过程，包括前向渲染和延迟渲染的差异，以及各个阶段的具体工作原理�? 🎯 学习目标通过本章学习，你将掌握： Surface Shader在渲染管线中的完整执行流�?- 前向渲染和延迟渲染的执行差异 光照计算的时机和方式 多Pass渲染的执行顺�?- 性能优化的关键点 🔄 渲染管线概览Cocos Creator渲染管线架构123456789graph TD A[Scene Objects] --&gt; B[Culling] B --&gt; C[Sorting] C --&gt; D[Batching] D --&gt; E[Vertex Processing] E --&gt; F[Rasterization] F --&gt; G[Fragment Processing] G --&gt; H[Output Merger] H --&gt; ...</div></div></div><div class=recent-post-item><div class="post_cover right"><a href=/CocosShader/cocos-shader-4-3-pbr-fundamentals/ title="Cocos Creator PBR基础原理详解"><img class=post-bg src=/images/loading.gif data-original=/images/cocosshader/pbr-shader-fundamentals-cover.webp onerror='this.onerror=null,this.src="/img/404.jpg"' alt="Cocos Creator PBR基础原理详解"></a></div><div class=recent-post-info><a class=article-title href=/CocosShader/cocos-shader-4-3-pbr-fundamentals/ title="Cocos Creator PBR基础原理详解">Cocos Creator PBR基础原理详解</a><div class=article-meta-wrap><span class=post-meta-date><i class="far fa-calendar-alt"></i><span class=article-meta-label>发表于</span><time datetime=2024-02-02T16:00:00.000Z title="发表于 2024-02-03 00:00:00">2024-02-03</time></span><span class=article-meta><span class=article-meta-separator>|</span><i class="fas fa-inbox"></i><a class=article-meta__categories href=/categories/CocosShader/ >CocosShader</a><i class="fas fa-angle-right article-meta-link"></i><i class="fas fa-inbox"></i><a class=article-meta__categories href=/categories/CocosShader/%E8%BF%9B%E9%98%B6%E6%95%99%E7%A8%8B/ >进阶教程</a></span></div><div class=content>第4.3章：PBR着色器基础原理基于物理的渲染(Physically Based Rendering, PBR)是现代3D图形学的核心技术，通过基于真实的物理学原理，能够创造出更加逼真统一的渲染效果。本章将深入探讨PBR的核心原理及在Cocos Creator中的实现。 ?? ѧϰĿ��ͨ������ѧϰ���㽫���գ� PBR��Ⱦ�ĺ������ۻ��� ������&#x2F;�ֲڶȹ������� BRDF��������ѧԭ����ʵ�� Cocos Creator�е�PBR��ɫ��ʹ�� IBL��������ϵͳ PBR���ʵ������͵��Լ��� ?? PBR���ۻ���������ѧ����PBR���������������ɣ� �����غ㶨��1234567// ����� = ����� + ����� + ���չ�Incident = Reflected + Refracted + Absorbed// ��BRDF�б���Ϊ��// ������ + ���淴�� �� 1.0vec3 totalReflection = diff ...</div></div></div><nav id=pagination><div class=pagination><a class="extend prev" rel=prev href=/page/5/#content-inner><i class="fas fa-chevron-left fa-fw"></i></a><a class=page-number href=/ >1</a><span class=space>&hellip;</span><a class=page-number href=/page/5/#content-inner>5</a><span class="page-number current">6</span><a class=page-number href=/page/7/#content-inner>7</a><a class="extend next" rel=next href=/page/7/#content-inner><i class="fas fa-chevron-right fa-fw"></i></a></div></nav></div><div class=aside-content id=aside-content><div class="card-widget card-info"><div class=is-center><div class=avatar-img><img src=/images/loading.gif data-original=/images/icon.webp onerror='this.onerror=null,this.src="/img/friend_404.gif"' alt=avatar></div><div class=author-info__name>AlunWorker</div><div class=author-info__description>越努力越幸运!</div></div><div class="card-info-data site-data is-center"><a href=/archives/ ><div class=headline>文章</div><div class=length-num>70</div></a><a href=/tags/ ><div class=headline>标签</div><div class=length-num>122</div></a><a href=/categories/ ><div class=headline>分类</div><div class=length-num>10</div></a></div><a id=card-info-btn target=_blank rel=noopener href=https://github.com/xxxxxx><i class="fab fa-github"></i><span>Follow Me</span></a></div><div class=sticky_layout><div class="card-widget card-recent-post"><div class=item-headline><i class="fas fa-history"></i><span>最新文章</span></div><div class=aside-list><div class="aside-list-item no-cover"><div class=content><a class=title href=/vscode/vscode-extension-01-learning-plan/ title="VS Code 插件开发四阶段系统学习计划">VS Code 插件开发四阶段系统学习计划</a><time datetime=2025-07-24T16:00:00.000Z title="发表于 2025-07-25 00:00:00">2025-07-25</time></div></div><div class="aside-list-item no-cover"><div class=content><a class=title href=/2024/11/20/GameArt/GameArt001/ title=平面构成>平面构成</a><time datetime=2024-11-20T04:36:41.000Z title="发表于 2024-11-20 12:36:41">2024-11-20</time></div></div><div class="aside-list-item no-cover"><div class=content><a class=title href=/2024/09/24/GameArt/GameArt101/ title=色阶>色阶</a><time datetime=2024-09-24T10:48:56.000Z title="发表于 2024-09-24 18:48:56">2024-09-24</time></div></div><div class="aside-list-item no-cover"><div class=content><a class=title href=/ShaderGraph/ShaderGraph200/ title=ShaderGraph实战>ShaderGraph实战</a><time datetime=2024-06-27T01:34:39.000Z title="发表于 2024-06-27 09:34:39">2024-06-27</time></div></div><div class="aside-list-item no-cover"><div class=content><a class=title href=/ShaderGraph/ShaderGraph100/ title=ShaderGraph节点学习>ShaderGraph节点学习</a><time datetime=2024-06-26T04:54:28.000Z title="发表于 2024-06-26 12:54:28">2024-06-26</time></div></div></div></div><div class="card-widget card-categories"><div class=item-headline><i class="fas fa-folder-open"></i> <span>分类</span> <a class=card-more-btn href=/categories/ title=查看更多><i class="fas fa-angle-right"></i></a></div><ul class=card-category-list id=aside-cat-list><li class=card-category-list-item><a class=card-category-list-link href=/categories/CocosShader/ ><span class=card-category-list-name>CocosShader</span><span class=card-category-list-count>54</span></a><ul class="card-category-list child"><li class=card-category-list-item><a class=card-category-list-link href=/categories/CocosShader/%E5%9F%BA%E7%A1%80%E6%95%99%E7%A8%8B/ ><span class=card-category-list-name>基础教程</span><span class=card-category-list-count>8</span></a></li><li class=card-category-list-item><a class=card-category-list-link href=/categories/CocosShader/%E8%BF%9B%E9%98%B6%E6%95%99%E7%A8%8B/ ><span class=card-category-list-name>进阶教程</span><span class=card-category-list-count>4</span></a></li></ul></li><li class=card-category-list-item><a class=card-category-list-link href=/categories/MarkDown/ ><span class=card-category-list-name>MarkDown</span><span class=card-category-list-count>1</span></a></li><li class=card-category-list-item><a class=card-category-list-link href=/categories/Shader/ ><span class=card-category-list-name>Shader</span><span class=card-category-list-count>3</span></a></li><li class=card-category-list-item><a class=card-category-list-link href=/categories/ShaderGraph/ ><span class=card-category-list-name>ShaderGraph</span><span class=card-category-list-count>7</span></a></li><li class=card-category-list-item><a class=card-category-list-link href=/categories/Tools/ ><span class=card-category-list-name>Tools</span><span class=card-category-list-count>1</span></a><ul class="card-category-list child"><li class=card-category-list-item><a class=card-category-list-link href=/categories/Tools/VSCode/ ><span class=card-category-list-name>VSCode</span><span class=card-category-list-count>1</span></a></li></ul></li></ul></div><div class="card-widget card-tags"><div class=item-headline><i class="fas fa-tags"></i><span>标签</span></div><div class=card-tag-cloud><a href=/tags/MarkDown/ style=font-size:1.1em;color:#999>MarkDown</a> <a href=/tags/Sprite/ style=font-size:1.1em;color:#999>Sprite</a> <a href=/tags/Cel-Shading/ style=font-size:1.1em;color:#999>Cel Shading</a> <a href=/tags/Forward-Rendering/ style=font-size:1.1em;color:#999>Forward Rendering</a> <a href=/tags/%E6%8F%92%E4%BB%B6%E5%BC%80%E5%8F%91/ style=font-size:1.1em;color:#999>插件开发</a> <a href=/tags/Rim-Light/ style=font-size:1.2em;color:#999da3>Rim Light</a> <a href=/tags/Shader-Functions/ style=font-size:1.1em;color:#999>Shader Functions</a> <a href=/tags/GLSL/ style=font-size:1.2em;color:#999da3>GLSL</a> <a href=/tags/VSCode/ style=font-size:1.2em;color:#999da3>VSCode</a> <a href=/tags/Custom-Lighting/ style=font-size:1.1em;color:#999>Custom Lighting</a> <a href=/tags/Geometry-Instancing/ style=font-size:1.1em;color:#999>Geometry Instancing</a> <a href=/tags/%E5%B0%8F%E7%9F%A5%E8%AF%86/ style=font-size:1.1em;color:#999>小知识</a> <a href=/tags/Macro-System/ style=font-size:1.1em;color:#999>Macro System</a> <a href=/tags/Syntax/ style=font-size:1.1em;color:#999>Syntax</a> <a href=/tags/Visual-Effects/ style=font-size:1.2em;color:#999da3>Visual Effects</a> <a href=/tags/Material-Data/ style=font-size:1.1em;color:#999>Material Data</a> <a href=/tags/Phong/ style=font-size:1.1em;color:#999>Phong</a> <a href=/tags/BRDF/ style=font-size:1.2em;color:#999da3>BRDF</a> <a href=/tags/3D-Effects/ style=font-size:1.3em;color:#99a1ac>3D Effects</a> <a href=/tags/GPU-Memory/ style=font-size:1.1em;color:#999>GPU Memory</a> <a href=/tags/Optimization/ style=font-size:1.1em;color:#999>Optimization</a> <a href=/tags/Cook-Torrance/ style=font-size:1.1em;color:#999>Cook-Torrance</a> <a href=/tags/Shader-Extension/ style=font-size:1.1em;color:#999>Shader Extension</a> <a href=/tags/Performance/ style=font-size:1.4em;color:#99a5b6>Performance</a> <a href=/tags/System-Extension/ style=font-size:1.1em;color:#999>System Extension</a> <a href=/tags/Vertex-Animation/ style=font-size:1.1em;color:#999>Vertex Animation</a> <a href=/tags/Advanced-Techniques/ style=font-size:1.1em;color:#999>Advanced Techniques</a> <a href=/tags/Custom-Shader/ style=font-size:1.1em;color:#999>Custom Shader</a> <a href=/tags/Surface-Shader/ style=font-size:1.5em;color:#99a9bf>Surface Shader</a> <a href=/tags/SurfaceShader/ style=font-size:1.1em;color:#999>SurfaceShader</a> <a href=/tags/%E5%B7%A5%E5%85%B7%E4%BD%BF%E7%94%A8/ style=font-size:1.1em;color:#999>工具使用</a> <a href=/tags/Shader-Fundamentals/ style=font-size:1.1em;color:#999>Shader Fundamentals</a> <a href=/tags/Learning-Guide/ style=font-size:1.1em;color:#999>Learning Guide</a> <a href=/tags/Comparison/ style=font-size:1.1em;color:#999>Comparison</a> <a href=/tags/2D-Effects/ style=font-size:1.3em;color:#99a1ac>2D Effects</a> <a href=/tags/Material-System/ style=font-size:1.2em;color:#999da3>Material System</a> <a href=/tags/Conditional-Compilation/ style=font-size:1.1em;color:#999>Conditional Compilation</a> <a href=/tags/Usage-Guide/ style=font-size:1.1em;color:#999>Usage Guide</a> <a href=/tags/Preprocessor/ style=font-size:1.1em;color:#999>Preprocessor</a> <a href=/tags/Edge-Detection/ style=font-size:1.1em;color:#999>Edge Detection</a></div></div><div class="card-widget card-archives"><div class=item-headline><i class="fas fa-archive"></i><span>归档</span></div><ul class=card-archive-list><li class=card-archive-list-item><a class=card-archive-list-link href=/archives/2025/07/ ><span class=card-archive-list-date>七月 2025</span><span class=card-archive-list-count>1</span></a></li><li class=card-archive-list-item><a class=card-archive-list-link href=/archives/2024/11/ ><span class=card-archive-list-date>十一月 2024</span><span class=card-archive-list-count>1</span></a></li><li class=card-archive-list-item><a class=card-archive-list-link href=/archives/2024/09/ ><span class=card-archive-list-date>九月 2024</span><span class=card-archive-list-count>1</span></a></li><li class=card-archive-list-item><a class=card-archive-list-link href=/archives/2024/06/ ><span class=card-archive-list-date>六月 2024</span><span class=card-archive-list-count>8</span></a></li><li class=card-archive-list-item><a class=card-archive-list-link href=/archives/2024/05/ ><span class=card-archive-list-date>五月 2024</span><span class=card-archive-list-count>1</span></a></li><li class=card-archive-list-item><a class=card-archive-list-link href=/archives/2024/02/ ><span class=card-archive-list-date>二月 2024</span><span class=card-archive-list-count>49</span></a></li><li class=card-archive-list-item><a class=card-archive-list-link href=/archives/2024/01/ ><span class=card-archive-list-date>一月 2024</span><span class=card-archive-list-count>9</span></a></li></ul></div><div class="card-widget card-webinfo"><div class=item-headline><i class="fas fa-chart-line"></i><span>网站资讯</span></div><div class=webinfo><div class=webinfo-item><div class=item-name>文章数目 :</div><div class=item-count>70</div></div><div class=webinfo-item><div class=item-name>本站总字数 :</div><div class=item-count>187.7k</div></div><div class=webinfo-item><div class=item-name>本站访客数 :</div><div class=item-count id=busuanzi_value_site_uv><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class=webinfo-item><div class=item-name>本站总访问量 :</div><div class=item-count id=busuanzi_value_site_pv><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class=webinfo-item><div class=item-name>最后更新时间 :</div><div class=item-count id=last-push-date data-lastpushdate=2025-07-25T06:18:55.117Z><i class="fa-solid fa-spinner fa-spin"></i></div></div></div></div></div></div></main><footer id=footer style=background:#000><div id=footer-wrap><div class=copyright>&copy;2020 - 2025 By AlunWorker</div><div class=framework-info><span>框架 </span><a target=_blank rel=noopener href=https://hexo.io>Hexo</a><span class=footer-separator>|</span><span>主题 </span><a target=_blank rel=noopener href=https://github.com/jerryc127/hexo-theme-butterfly>Butterfly</a></div></div></footer></div><div id=rightside><div id=rightside-config-hide><button id=darkmode type=button title=浅色和深色模式转换><i class="fas fa-adjust"></i></button><button id=hide-aside-btn type=button title=单栏和双栏切换><i class="fas fa-arrows-alt-h"></i></button></div><div id=rightside-config-show><button id=rightside-config type=button title=设置><i class="fas fa-cog fa-spin"></i></button><button id=go-up type=button title=回到顶部><span class=scroll-percent></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js?v=4.13.0"></script><script src="/js/main.js?v=4.13.0"></script><script src=/ ></script><div class=js-pjax><script>window.typedJSFn = {
  init: (str) => {
    window.typed = new Typed('#subtitle', Object.assign({
      strings: str,
      startDelay: 300,
      typeSpeed: 150,
      loop: true,
      backSpeed: 50,
    }, null))
  },
  run: (subtitleType) => {
    if (true) {
      if (typeof Typed === 'function') {
        subtitleType()
      } else {
        getScript('https://lf9-cdn-tos.bytecdntp.com/cdn/expire-1-M/typed.js/2.0.12/typed.min.js').then(subtitleType)
      }
    } else {
      subtitleType()
    }
  }
}</script><script>function subtitleType(){typedJSFn.init(["越努力越幸运!","该起床打工了!","梦想还是要有的，万一实现了呢!"])}typedJSFn.run(subtitleType)</script></div><script async data-pjax src=//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js></script><div id=local-search><div class=search-dialog><nav class=search-nav><span class=search-dialog-title>搜索</span><span id=loading-status></span><button class=search-close-button><i class="fas fa-times"></i></button></nav><div class=is-center id=loading-database><i class="fas fa-spinner fa-pulse"></i><span> 数据库加载中</span></div><div class=search-wrap><div id=local-search-input><div class=local-search-box><input class=local-search-box--input placeholder=搜索文章 type=text></div></div><hr><div id=local-search-results></div><div id=local-search-stats-wrap></div></div></div><div id=search-mask></div><script src="/js/search/local-search.js?v=4.13.0"></script></div></div><style>[bg-lazy]{background-image:none!important;background-color:#eee!important}</style><script>window.imageLazyLoadSetting={isSPA:!1,preloadRatio:1,processImages:null}</script><script>window.addEventListener("load",function(){var t=/\.(gif|jpg|jpeg|tiff|png)$/i,r=/^data:image\/[a-z]+;base64,/;Array.prototype.slice.call(document.querySelectorAll("img[data-original]")).forEach(function(a){var e=a.parentNode;"A"===e.tagName&&(e.href.match(t)||e.href.match(r))&&(e.href=a.dataset.original)})})</script><script>!function(r){r.imageLazyLoadSetting.processImages=t;var e=r.imageLazyLoadSetting.isSPA,n=r.imageLazyLoadSetting.preloadRatio||1,c=a();function a(){var t=Array.prototype.slice.call(document.querySelectorAll("img[data-original]")),e=Array.prototype.slice.call(document.querySelectorAll("[bg-lazy]"));return t.concat(e)}function t(){e&&(c=a());for(var t,o=0;o<c.length;o++)0<=(t=(t=c[o]).getBoundingClientRect()).bottom&&0<=t.left&&t.top<=(r.innerHeight*n||document.documentElement.clientHeight*n)&&function(){var t,e,n,a,i=c[o];e=function(){c=c.filter(function(t){return i!==t}),r.imageLazyLoadSetting.onImageLoaded&&r.imageLazyLoadSetting.onImageLoaded(i)},(t=i).hasAttribute("bg-lazy")?(t.removeAttribute("bg-lazy"),e()):(n=new Image,a=t.getAttribute("data-original"),n.onload=function(){t.src=a,t.removeAttribute("data-original"),e()},t.src!==a&&(n.src=a))}()}function i(){clearTimeout(t.tId),t.tId=setTimeout(t,500)}t(),document.addEventListener("scroll",i),r.addEventListener("resize",i),r.addEventListener("orientationchange",i)}(this)</script></body></html>